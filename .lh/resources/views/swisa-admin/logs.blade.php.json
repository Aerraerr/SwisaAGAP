{
    "sourceFile": "resources/views/swisa-admin/logs.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 18,
            "patches": [
                {
                    "date": 1764087847980,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764089919511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -164,19 +164,9 @@\n                     No activity logs found.\r\n                 </div>\r\n             @endforelse\r\n \r\n-            <!-- Pagination -->\r\n-            @if ($logs->hasPages())\r\n-                <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-                    <p class=\"text-gray-600\">\r\n-                        Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-                    </p>\r\n-                    <div>\r\n-                        {{ $logs->links() }}\r\n-                    </div>\r\n-                </div>\r\n-            @endif\r\n+\r\n         </div>\r\n     </div>\r\n </div>\r\n \r\n"
                },
                {
                    "date": 1764089929179,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -164,9 +164,19 @@\n                     No activity logs found.\r\n                 </div>\r\n             @endforelse\r\n \r\n-\r\n+            <!-- Pagination -->\r\n+            @if ($logs->hasPages())\r\n+                <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+                    <p class=\"text-gray-600\">\r\n+                        Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+                    </p>\r\n+                    <div>\r\n+                        {{ $logs->links() }}\r\n+                    </div>\r\n+                </div>\r\n+            @endif\r\n         </div>\r\n     </div>\r\n </div>\r\n \r\n"
                },
                {
                    "date": 1764089944671,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -167,11 +167,8 @@\n \r\n             <!-- Pagination -->\r\n             @if ($logs->hasPages())\r\n                 <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-                    <p class=\"text-gray-600\">\r\n-                        Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-                    </p>\r\n                     <div>\r\n                         {{ $logs->links() }}\r\n                     </div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1764089956253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -167,8 +167,11 @@\n \r\n             <!-- Pagination -->\r\n             @if ($logs->hasPages())\r\n                 <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+                    <p class=\"text-gray-600\">\r\n+                        Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+                    </p>\r\n                     <div>\r\n                         {{ $logs->links() }}\r\n                     </div>\r\n                 </div>\r\n"
                },
                {
                    "date": 1764089965224,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -167,9 +167,9 @@\n \r\n             <!-- Pagination -->\r\n             @if ($logs->hasPages())\r\n                 <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-                    <p class=\"text-gray-600\">\r\n+                    <p class=\"text-white\">\r\n                         Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n                     </p>\r\n                     <div>\r\n                         {{ $logs->links() }}\r\n"
                },
                {
                    "date": 1764092614541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,117 +67,133 @@\n             </div>\r\n         </div>\r\n \r\n         <!-- Activity Timeline -->\r\n-        <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n-            @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n-                <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n-                    <!-- Date Header -->\r\n-                    <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n-                        {{ $dateLabel }}\r\n-                    </h3>\r\n+<div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+    @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+        <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+            <!-- Date Header -->\r\n+            <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n+                {{ $dateLabel }}\r\n+            </h3>\r\n \r\n-                    <div class=\"space-y-4\">\r\n-                        @foreach ($logsForDate as $log)\r\n-                            @php\r\n-                                $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-                                $activity = strtolower($log->activity ?? '');\r\n-                                $activityClass = 'bg-gray-100 text-gray-700';\r\n-                                if (str_contains($activity, 'attempt')) {\r\n-                                    $activityClass = 'bg-red-100 text-red-700';\r\n-                                } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n-                                    $activityClass = 'bg-green-100 text-green-700';\r\n-                                } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n-                                    $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                                } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n-                                    $activityClass = 'bg-blue-100 text-blue-700';\r\n-                                } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n-                                    $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                                } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n-                                    $activityClass = 'bg-red-100 text-red-700';\r\n-                                }\r\n+            <div class=\"space-y-4\">\r\n+                @foreach ($logsForDate as $log)\r\n+                    @php\r\n+                        $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                        $activity = strtolower($log->activity ?? '');\r\n+                        $activityClass = 'bg-gray-100 text-gray-700';\r\n+                        if (str_contains($activity, 'attempt')) {\r\n+                            $activityClass = 'bg-red-100 text-red-700';\r\n+                        } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n+                            $activityClass = 'bg-green-100 text-green-700';\r\n+                        } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n+                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                        } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n+                            $activityClass = 'bg-blue-100 text-blue-700';\r\n+                        } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n+                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                        } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n+                            $activityClass = 'bg-red-100 text-red-700';\r\n+                        }\r\n \r\n-                                $statusColor = match($log->status) {\r\n-                                    'success' => 'text-green-600 font-medium',\r\n-                                    'failed' => 'text-red-600 font-medium',\r\n-                                    'pending' => 'text-yellow-600 font-medium',\r\n-                                    default => 'text-gray-600'\r\n-                                };\r\n+                        $statusColor = match($log->status) {\r\n+                            'success' => 'text-green-600 font-medium',\r\n+                            'failed' => 'text-red-600 font-medium',\r\n+                            'pending' => 'text-yellow-600 font-medium',\r\n+                            default => 'text-gray-600'\r\n+                        };\r\n \r\n-                                $role = $log->role ?? 'N/A';\r\n-                                $role = ucwords(str_replace('_', ' ', $role));\r\n-                            @endphp\r\n+                        $role = $log->role ?? 'N/A';\r\n+                        $role = ucwords(str_replace('_', ' ', $role));\r\n \r\n-                            <div \r\n-                                class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n-                                data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n-                                data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n-                                data-role=\"{{ strtolower($role) }}\"\r\n-                                data-status=\"{{ strtolower($log->status) }}\"\r\n-                                data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n-                            >\r\n-                                <!-- Time -->\r\n-                                <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n-                                    {{ $timestamp->format('h:i A') }}\r\n+                        // Parse details if JSON\r\n+                        $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n+                        $device = $details['Device'] ?? null;\r\n+                    @endphp\r\n+\r\n+                    <div \r\n+                        class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                        data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n+                        data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n+                        data-role=\"{{ strtolower($role) }}\"\r\n+                        data-status=\"{{ strtolower($log->status) }}\"\r\n+                        data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                    >\r\n+                        <!-- Time -->\r\n+                        <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n+                            {{ $timestamp->format('h:i A') }}\r\n+                        </div>\r\n+\r\n+                        <!-- Content -->\r\n+                        <div class=\"flex-1\">\r\n+                            <div class=\"flex flex-col\">\r\n+                                <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n+                                    <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n+                                    <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n+                                    performed\r\n+                                    <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                        {{ $log->activity }}\r\n+                                    </span>\r\n+                                </span>\r\n+\r\n+                                <div class=\"text-xs text-gray-500 mt-1\">\r\n+                                    IP: {{ $log->ip_address ?? '—' }} • \r\n+                                    <span class=\"{{ $statusColor }}\">\r\n+                                        {{ ucfirst($log->status) }}\r\n+                                    </span>\r\n                                 </div>\r\n \r\n-                                <!-- Content -->\r\n-                                <div class=\"flex-1\">\r\n-                                    <div class=\"flex flex-col\">\r\n-                                        <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n-                                            <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n-                                            <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n-                                            performed\r\n-                                            <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n-                                                {{ $log->activity }}\r\n-                                            </span>\r\n-                                        </span>\r\n-                                        <div class=\"text-xs text-gray-500 mt-1\">\r\n-                                            IP: {{ $log->ip_address ?? '—' }} • \r\n-                                            <span class=\"{{ $statusColor }}\">\r\n-                                                {{ ucfirst($log->status) }}\r\n-                                            </span>\r\n-                                        </div>\r\n+                                @if(!empty($details))\r\n+                                    <div class=\"text-xs text-gray-400 mt-1\">\r\n+                                        @if($device)\r\n+                                            <strong>Device:</strong> {{ $device }}\r\n+                                        @else\r\n+                                            <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n+                                        @endif\r\n                                     </div>\r\n-                                </div>\r\n+                                @endif\r\n+                            </div>\r\n+                        </div>\r\n \r\n-                                <!-- Action Menu (3 Dots) -->\r\n-                                <div class=\"absolute top-3 right-3\">\r\n-                                    <div class=\"relative\">\r\n-                                        <button \r\n-                                            class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n-                                            onclick=\"toggleMenu(this)\">\r\n-                                            ⋮\r\n-                                        </button>\r\n-                                        <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n-                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n-                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n-                                            <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n-                                        </div>\r\n-                                    </div>\r\n+                        <!-- Action Menu (3 Dots) -->\r\n+                        <div class=\"absolute top-3 right-3\">\r\n+                            <div class=\"relative\">\r\n+                                <button \r\n+                                    class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n+                                    onclick=\"toggleMenu(this)\">\r\n+                                    ⋮\r\n+                                </button>\r\n+                                <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n                                 </div>\r\n                             </div>\r\n-                        @endforeach\r\n+                        </div>\r\n                     </div>\r\n-                </div>\r\n-            @empty\r\n-                <div class=\"text-center text-gray-500 py-6\">\r\n-                    No activity logs found.\r\n-                </div>\r\n-            @endforelse\r\n+                @endforeach\r\n+            </div>\r\n+        </div>\r\n+    @empty\r\n+        <div class=\"text-center text-gray-500 py-6\">\r\n+            No activity logs found.\r\n+        </div>\r\n+    @endforelse\r\n \r\n-            <!-- Pagination -->\r\n-            @if ($logs->hasPages())\r\n-                <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-                    <p class=\"text-white\">\r\n-                        Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-                    </p>\r\n-                    <div>\r\n-                        {{ $logs->links() }}\r\n-                    </div>\r\n-                </div>\r\n-            @endif\r\n+    <!-- Pagination -->\r\n+    @if ($logs->hasPages())\r\n+        <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+            <p class=\"text-white\">\r\n+                Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+            </p>\r\n+            <div>\r\n+                {{ $logs->links() }}\r\n+            </div>\r\n         </div>\r\n+    @endif\r\n+</div>\r\n+\r\n     </div>\r\n </div>\r\n \r\n <script>\r\n"
                },
                {
                    "date": 1765121547559,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,138 +67,155 @@\n             </div>\r\n         </div>\r\n \r\n         <!-- Activity Timeline -->\r\n-<div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n-    @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n-        <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n-            <!-- Date Header -->\r\n-            <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n-                {{ $dateLabel }}\r\n-            </h3>\r\n+        <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+            @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+                <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+                    <!-- Date Header -->\r\n+                    <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n+                        {{ $dateLabel }}\r\n+                    </h3>\r\n \r\n-            <div class=\"space-y-4\">\r\n-                @foreach ($logsForDate as $log)\r\n-                    @php\r\n-                        $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-                        $activity = strtolower($log->activity ?? '');\r\n-                        $activityClass = 'bg-gray-100 text-gray-700';\r\n-                        if (str_contains($activity, 'attempt')) {\r\n-                            $activityClass = 'bg-red-100 text-red-700';\r\n-                        } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n-                            $activityClass = 'bg-green-100 text-green-700';\r\n-                        } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n-                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                        } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n-                            $activityClass = 'bg-blue-100 text-blue-700';\r\n-                        } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n-                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                        } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n-                            $activityClass = 'bg-red-100 text-red-700';\r\n-                        }\r\n+                    <div class=\"space-y-4\">\r\n+                        @foreach ($logsForDate as $log)\r\n+                            @php\r\n+                                $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                                $activity = strtolower($log->activity ?? '');\r\n+                                $activityClass = 'bg-gray-100 text-gray-700';\r\n+                                if (str_contains($activity, 'attempt')) {\r\n+                                    $activityClass = 'bg-red-100 text-red-700';\r\n+                                } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n+                                    $activityClass = 'bg-green-100 text-green-700';\r\n+                                } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n+                                    $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                                } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n+                                    $activityClass = 'bg-blue-100 text-blue-700';\r\n+                                } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n+                                    $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                                } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n+                                    $activityClass = 'bg-red-100 text-red-700';\r\n+                                }\r\n \r\n-                        $statusColor = match($log->status) {\r\n-                            'success' => 'text-green-600 font-medium',\r\n-                            'failed' => 'text-red-600 font-medium',\r\n-                            'pending' => 'text-yellow-600 font-medium',\r\n-                            default => 'text-gray-600'\r\n-                        };\r\n+                                $statusColor = match($log->status) {\r\n+                                    'success' => 'text-green-600 font-medium',\r\n+                                    'failed' => 'text-red-600 font-medium',\r\n+                                    'pending' => 'text-yellow-600 font-medium',\r\n+                                    default => 'text-gray-600'\r\n+                                };\r\n \r\n-                        $role = $log->role ?? 'N/A';\r\n-                        $role = ucwords(str_replace('_', ' ', $role));\r\n+                                $role = $log->role ?? 'N/A';\r\n+                                $role = ucwords(str_replace('_', ' ', $role));\r\n \r\n-                        // Parse details if JSON\r\n-                        $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n-                        $device = $details['Device'] ?? null;\r\n-                    @endphp\r\n+                                $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n+                                $device = $details['Device'] ?? null;\r\n+                            @endphp\r\n \r\n-                    <div \r\n-                        class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n-                        data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n-                        data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n-                        data-role=\"{{ strtolower($role) }}\"\r\n-                        data-status=\"{{ strtolower($log->status) }}\"\r\n-                        data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n-                    >\r\n-                        <!-- Time -->\r\n-                        <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n-                            {{ $timestamp->format('h:i A') }}\r\n-                        </div>\r\n+                            <div \r\n+                                class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                                data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n+                                data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n+                                data-role=\"{{ strtolower($role) }}\"\r\n+                                data-status=\"{{ strtolower($log->status) }}\"\r\n+                                data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                            >\r\n+                                <!-- Time -->\r\n+                                <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n+                                    {{ $timestamp->format('h:i A') }}\r\n+                                </div>\r\n \r\n-                        <!-- Content -->\r\n-                        <div class=\"flex-1\">\r\n-                            <div class=\"flex flex-col\">\r\n-                                <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n-                                    <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n-                                    <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n-                                    performed\r\n-                                    <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n-                                        {{ $log->activity }}\r\n-                                    </span>\r\n-                                </span>\r\n+                                <!-- Content -->\r\n+                                <div class=\"flex-1\">\r\n+                                    <div class=\"flex flex-col\">\r\n+                                        <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n+                                            <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n+                                            <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n+                                            performed\r\n+                                            <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                                {{ $log->activity }}\r\n+                                            </span>\r\n+                                        </span>\r\n \r\n-                                <div class=\"text-xs text-gray-500 mt-1\">\r\n-                                    IP: {{ $log->ip_address ?? '—' }} • \r\n-                                    <span class=\"{{ $statusColor }}\">\r\n-                                        {{ ucfirst($log->status) }}\r\n-                                    </span>\r\n-                                </div>\r\n+                                        <div class=\"text-xs text-gray-500 mt-1\">\r\n+                                            IP: {{ $log->ip_address ?? '—' }} • \r\n+                                            <span class=\"{{ $statusColor }}\">\r\n+                                                {{ ucfirst($log->status) }}\r\n+                                            </span>\r\n+                                        </div>\r\n \r\n-                                @if(!empty($details))\r\n-                                    <div class=\"text-xs text-gray-400 mt-1\">\r\n-                                        @if($device)\r\n-                                            <strong>Device:</strong> {{ $device }}\r\n-                                        @else\r\n-                                            <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n+                                        <!-- Device / Details -->\r\n+                                        @if(!empty($details))\r\n+                                            <div class=\"text-xs text-gray-400 mt-1\">\r\n+                                                @if($device)\r\n+                                                    <strong>Device:</strong> {{ $device }}\r\n+                                                @else\r\n+                                                    <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n+                                                @endif\r\n+                                            </div>\r\n                                         @endif\r\n+\r\n+                                        <!-- ⭐ Collapsible Activity History -->\r\n+                                        <button \r\n+                                            onclick=\"toggleHistory(this)\" \r\n+                                            class=\"text-blue-600 text-xs mt-2 hover:underline\"\r\n+                                        >\r\n+                                            Show History ▼\r\n+                                        </button>\r\n+\r\n+                                        <div class=\"hidden mt-2 bg-gray-100 p-2 rounded-lg text-xs text-gray-700 activity-history\">\r\n+                                            @if(is_array($details) && isset($details['history']) && is_array($details['history']))\r\n+                                                @foreach($details['history'] as $item)\r\n+                                                    <div class=\"py-1\">• {{ $item }}</div>\r\n+                                                @endforeach\r\n+                                            @else\r\n+                                                <div class=\"py-1 text-gray-500\">No additional history recorded.</div>\r\n+                                            @endif\r\n+                                        </div>\r\n                                     </div>\r\n-                                @endif\r\n-                            </div>\r\n-                        </div>\r\n+                                </div>\r\n \r\n-                        <!-- Action Menu (3 Dots) -->\r\n-                        <div class=\"absolute top-3 right-3\">\r\n-                            <div class=\"relative\">\r\n-                                <button \r\n-                                    class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n-                                    onclick=\"toggleMenu(this)\">\r\n-                                    ⋮\r\n-                                </button>\r\n-                                <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n+                                <!-- Action Menu (3 Dots) -->\r\n+                                <div class=\"absolute top-3 right-3\">\r\n+                                    <div class=\"relative\">\r\n+                                        <button \r\n+                                            class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n+                                            onclick=\"toggleMenu(this)\">\r\n+                                            ⋮\r\n+                                        </button>\r\n+                                        <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                            <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n+                                        </div>\r\n+                                    </div>\r\n                                 </div>\r\n                             </div>\r\n-                        </div>\r\n+                        @endforeach\r\n                     </div>\r\n-                @endforeach\r\n-            </div>\r\n-        </div>\r\n-    @empty\r\n-        <div class=\"text-center text-gray-500 py-6\">\r\n-            No activity logs found.\r\n-        </div>\r\n-    @endforelse\r\n+                </div>\r\n+            @empty\r\n+                <div class=\"text-center text-gray-500 py-6\">\r\n+                    No activity logs found.\r\n+                </div>\r\n+            @endforelse\r\n \r\n-    <!-- Pagination -->\r\n-    @if ($logs->hasPages())\r\n-        <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-            <p class=\"text-white\">\r\n-                Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-            </p>\r\n-            <div>\r\n-                {{ $logs->links() }}\r\n-            </div>\r\n+            <!-- Pagination -->\r\n+            @if ($logs->hasPages())\r\n+                <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+                    <p class=\"text-white\">\r\n+                        Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+                    </p>\r\n+                    <div>\r\n+                        {{ $logs->links() }}\r\n+                    </div>\r\n+                </div>\r\n+            @endif\r\n         </div>\r\n-    @endif\r\n-</div>\r\n-\r\n     </div>\r\n </div>\r\n \r\n <script>\r\n-    // Toggle menu (3 dots)\r\n+    /* Toggle (⋮) Menu */\r\n     function toggleMenu(button) {\r\n         const menu = button.nextElementSibling;\r\n         document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n             if (el !== menu) el.classList.add('hidden');\r\n@@ -211,9 +228,23 @@\n             document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n         }\r\n     });\r\n \r\n-    // Filtering and Search Logic\r\n+    /* ⭐ Collapsible Activity History */\r\n+    function toggleHistory(button) {\r\n+        const historyBox = button.nextElementSibling;\r\n+        const isHidden = historyBox.classList.contains(\"hidden\");\r\n+\r\n+        if (isHidden) {\r\n+            historyBox.classList.remove(\"hidden\");\r\n+            button.innerHTML = \"Hide History ▲\";\r\n+        } else {\r\n+            historyBox.classList.add(\"hidden\");\r\n+            button.innerHTML = \"Show History ▼\";\r\n+        }\r\n+    }\r\n+\r\n+    /* Filtering Logic */\r\n     const searchInput = document.getElementById('searchInput');\r\n     const roleFilter = document.getElementById('roleFilter');\r\n     const statusFilter = document.getElementById('statusFilter');\r\n     const dateFrom = document.getElementById('dateFrom');\r\n"
                },
                {
                    "date": 1765121685881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,155 +67,138 @@\n             </div>\r\n         </div>\r\n \r\n         <!-- Activity Timeline -->\r\n-        <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n-            @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n-                <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n-                    <!-- Date Header -->\r\n-                    <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n-                        {{ $dateLabel }}\r\n-                    </h3>\r\n+<div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+    @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+        <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+            <!-- Date Header -->\r\n+            <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n+                {{ $dateLabel }}\r\n+            </h3>\r\n \r\n-                    <div class=\"space-y-4\">\r\n-                        @foreach ($logsForDate as $log)\r\n-                            @php\r\n-                                $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-                                $activity = strtolower($log->activity ?? '');\r\n-                                $activityClass = 'bg-gray-100 text-gray-700';\r\n-                                if (str_contains($activity, 'attempt')) {\r\n-                                    $activityClass = 'bg-red-100 text-red-700';\r\n-                                } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n-                                    $activityClass = 'bg-green-100 text-green-700';\r\n-                                } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n-                                    $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                                } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n-                                    $activityClass = 'bg-blue-100 text-blue-700';\r\n-                                } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n-                                    $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                                } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n-                                    $activityClass = 'bg-red-100 text-red-700';\r\n-                                }\r\n+            <div class=\"space-y-4\">\r\n+                @foreach ($logsForDate as $log)\r\n+                    @php\r\n+                        $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                        $activity = strtolower($log->activity ?? '');\r\n+                        $activityClass = 'bg-gray-100 text-gray-700';\r\n+                        if (str_contains($activity, 'attempt')) {\r\n+                            $activityClass = 'bg-red-100 text-red-700';\r\n+                        } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n+                            $activityClass = 'bg-green-100 text-green-700';\r\n+                        } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n+                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                        } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n+                            $activityClass = 'bg-blue-100 text-blue-700';\r\n+                        } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n+                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                        } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n+                            $activityClass = 'bg-red-100 text-red-700';\r\n+                        }\r\n \r\n-                                $statusColor = match($log->status) {\r\n-                                    'success' => 'text-green-600 font-medium',\r\n-                                    'failed' => 'text-red-600 font-medium',\r\n-                                    'pending' => 'text-yellow-600 font-medium',\r\n-                                    default => 'text-gray-600'\r\n-                                };\r\n+                        $statusColor = match($log->status) {\r\n+                            'success' => 'text-green-600 font-medium',\r\n+                            'failed' => 'text-red-600 font-medium',\r\n+                            'pending' => 'text-yellow-600 font-medium',\r\n+                            default => 'text-gray-600'\r\n+                        };\r\n \r\n-                                $role = $log->role ?? 'N/A';\r\n-                                $role = ucwords(str_replace('_', ' ', $role));\r\n+                        $role = $log->role ?? 'N/A';\r\n+                        $role = ucwords(str_replace('_', ' ', $role));\r\n \r\n-                                $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n-                                $device = $details['Device'] ?? null;\r\n-                            @endphp\r\n+                        // Parse details if JSON\r\n+                        $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n+                        $device = $details['Device'] ?? null;\r\n+                    @endphp\r\n \r\n-                            <div \r\n-                                class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n-                                data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n-                                data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n-                                data-role=\"{{ strtolower($role) }}\"\r\n-                                data-status=\"{{ strtolower($log->status) }}\"\r\n-                                data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n-                            >\r\n-                                <!-- Time -->\r\n-                                <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n-                                    {{ $timestamp->format('h:i A') }}\r\n-                                </div>\r\n+                    <div \r\n+                        class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                        data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n+                        data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n+                        data-role=\"{{ strtolower($role) }}\"\r\n+                        data-status=\"{{ strtolower($log->status) }}\"\r\n+                        data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                    >\r\n+                        <!-- Time -->\r\n+                        <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n+                            {{ $timestamp->format('h:i A') }}\r\n+                        </div>\r\n \r\n-                                <!-- Content -->\r\n-                                <div class=\"flex-1\">\r\n-                                    <div class=\"flex flex-col\">\r\n-                                        <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n-                                            <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n-                                            <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n-                                            performed\r\n-                                            <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n-                                                {{ $log->activity }}\r\n-                                            </span>\r\n-                                        </span>\r\n+                        <!-- Content -->\r\n+                        <div class=\"flex-1\">\r\n+                            <div class=\"flex flex-col\">\r\n+                                <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n+                                    <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n+                                    <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n+                                    performed\r\n+                                    <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                        {{ $log->activity }}\r\n+                                    </span>\r\n+                                </span>\r\n \r\n-                                        <div class=\"text-xs text-gray-500 mt-1\">\r\n-                                            IP: {{ $log->ip_address ?? '—' }} • \r\n-                                            <span class=\"{{ $statusColor }}\">\r\n-                                                {{ ucfirst($log->status) }}\r\n-                                            </span>\r\n-                                        </div>\r\n+                                <div class=\"text-xs text-gray-500 mt-1\">\r\n+                                    IP: {{ $log->ip_address ?? '—' }} • \r\n+                                    <span class=\"{{ $statusColor }}\">\r\n+                                        {{ ucfirst($log->status) }}\r\n+                                    </span>\r\n+                                </div>\r\n \r\n-                                        <!-- Device / Details -->\r\n-                                        @if(!empty($details))\r\n-                                            <div class=\"text-xs text-gray-400 mt-1\">\r\n-                                                @if($device)\r\n-                                                    <strong>Device:</strong> {{ $device }}\r\n-                                                @else\r\n-                                                    <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n-                                                @endif\r\n-                                            </div>\r\n+                                @if(!empty($details))\r\n+                                    <div class=\"text-xs text-gray-400 mt-1\">\r\n+                                        @if($device)\r\n+                                            <strong>Device:</strong> {{ $device }}\r\n+                                        @else\r\n+                                            <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n                                         @endif\r\n-\r\n-                                        <!-- ⭐ Collapsible Activity History -->\r\n-                                        <button \r\n-                                            onclick=\"toggleHistory(this)\" \r\n-                                            class=\"text-blue-600 text-xs mt-2 hover:underline\"\r\n-                                        >\r\n-                                            Show History ▼\r\n-                                        </button>\r\n-\r\n-                                        <div class=\"hidden mt-2 bg-gray-100 p-2 rounded-lg text-xs text-gray-700 activity-history\">\r\n-                                            @if(is_array($details) && isset($details['history']) && is_array($details['history']))\r\n-                                                @foreach($details['history'] as $item)\r\n-                                                    <div class=\"py-1\">• {{ $item }}</div>\r\n-                                                @endforeach\r\n-                                            @else\r\n-                                                <div class=\"py-1 text-gray-500\">No additional history recorded.</div>\r\n-                                            @endif\r\n-                                        </div>\r\n                                     </div>\r\n-                                </div>\r\n+                                @endif\r\n+                            </div>\r\n+                        </div>\r\n \r\n-                                <!-- Action Menu (3 Dots) -->\r\n-                                <div class=\"absolute top-3 right-3\">\r\n-                                    <div class=\"relative\">\r\n-                                        <button \r\n-                                            class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n-                                            onclick=\"toggleMenu(this)\">\r\n-                                            ⋮\r\n-                                        </button>\r\n-                                        <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n-                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n-                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n-                                            <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n-                                        </div>\r\n-                                    </div>\r\n+                        <!-- Action Menu (3 Dots) -->\r\n+                        <div class=\"absolute top-3 right-3\">\r\n+                            <div class=\"relative\">\r\n+                                <button \r\n+                                    class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n+                                    onclick=\"toggleMenu(this)\">\r\n+                                    ⋮\r\n+                                </button>\r\n+                                <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n                                 </div>\r\n                             </div>\r\n-                        @endforeach\r\n+                        </div>\r\n                     </div>\r\n-                </div>\r\n-            @empty\r\n-                <div class=\"text-center text-gray-500 py-6\">\r\n-                    No activity logs found.\r\n-                </div>\r\n-            @endforelse\r\n+                @endforeach\r\n+            </div>\r\n+        </div>\r\n+    @empty\r\n+        <div class=\"text-center text-gray-500 py-6\">\r\n+            No activity logs found.\r\n+        </div>\r\n+    @endforelse\r\n \r\n-            <!-- Pagination -->\r\n-            @if ($logs->hasPages())\r\n-                <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-                    <p class=\"text-white\">\r\n-                        Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-                    </p>\r\n-                    <div>\r\n-                        {{ $logs->links() }}\r\n-                    </div>\r\n-                </div>\r\n-            @endif\r\n+    <!-- Pagination -->\r\n+    @if ($logs->hasPages())\r\n+        <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+            <p class=\"text-white\">\r\n+                Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+            </p>\r\n+            <div>\r\n+                {{ $logs->links() }}\r\n+            </div>\r\n         </div>\r\n+    @endif\r\n+</div>\r\n+\r\n     </div>\r\n </div>\r\n \r\n <script>\r\n-    /* Toggle (⋮) Menu */\r\n+    // Toggle menu (3 dots)\r\n     function toggleMenu(button) {\r\n         const menu = button.nextElementSibling;\r\n         document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n             if (el !== menu) el.classList.add('hidden');\r\n@@ -228,23 +211,9 @@\n             document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n         }\r\n     });\r\n \r\n-    /* ⭐ Collapsible Activity History */\r\n-    function toggleHistory(button) {\r\n-        const historyBox = button.nextElementSibling;\r\n-        const isHidden = historyBox.classList.contains(\"hidden\");\r\n-\r\n-        if (isHidden) {\r\n-            historyBox.classList.remove(\"hidden\");\r\n-            button.innerHTML = \"Hide History ▲\";\r\n-        } else {\r\n-            historyBox.classList.add(\"hidden\");\r\n-            button.innerHTML = \"Show History ▼\";\r\n-        }\r\n-    }\r\n-\r\n-    /* Filtering Logic */\r\n+    // Filtering and Search Logic\r\n     const searchInput = document.getElementById('searchInput');\r\n     const roleFilter = document.getElementById('roleFilter');\r\n     const statusFilter = document.getElementById('statusFilter');\r\n     const dateFrom = document.getElementById('dateFrom');\r\n"
                },
                {
                    "date": 1765121806992,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n \r\n @php\r\n     use Carbon\\Carbon;\r\n \r\n-    // Group logs by date (Today, Yesterday, or exact date)\r\n+    // Group logs by date\r\n     $groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n         $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n         if ($date->isToday()) {\r\n             return 'Today';\r\n@@ -16,12 +16,27 @@\n         } else {\r\n             return $date->format('F d, Y');\r\n         }\r\n     });\r\n+\r\n+    // Function to rephrase activity\r\n+    function formatActivity($activity, $userName) {\r\n+        if (!$activity) return '';\r\n+\r\n+        // Clean formatting\r\n+        $clean = strtolower($activity);\r\n+\r\n+        // Replace \"you\" with actual name\r\n+        $clean = str_replace(['you ', 'You '], $userName . ' ', $clean);\r\n+\r\n+        // Capitalize first letter\r\n+        return ucfirst($clean);\r\n+    }\r\n @endphp\r\n \r\n <div class=\"p-4\">\r\n     <div class=\"bg-mainbg px-6 min-h-screen\">\r\n+\r\n         <!-- Page Header -->\r\n         <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-3\">\r\n             <div class=\"text-customIT flex flex-col\">\r\n                 <h2 class=\"text-[20px] sm:text-[25px] font-bold text-custom\">Activity Logs</h2>\r\n@@ -31,14 +46,12 @@\n \r\n         <!-- Filters & Search -->\r\n         <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n             <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n-                <!-- Search Bar -->\r\n+\r\n+                <!-- Search -->\r\n                 <div class=\"flex items-center w-full sm:w-1/3\">\r\n-                    <input \r\n-                        id=\"searchInput\"\r\n-                        type=\"text\"\r\n-                        placeholder=\"Search by user, activity...\"\r\n+                    <input id=\"searchInput\" type=\"text\" placeholder=\"Search by user, activity...\"\r\n                         class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n                 </div>\r\n \r\n                 <!-- Filters -->\r\n@@ -60,205 +73,204 @@\n                     <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n                     <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n \r\n                     <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n-\r\n                     <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n \r\n-        <!-- Activity Timeline -->\r\n-<div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n-    @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n-        <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n-            <!-- Date Header -->\r\n-            <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n-                {{ $dateLabel }}\r\n-            </h3>\r\n+        <!-- TIMELINE -->\r\n+        <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n \r\n-            <div class=\"space-y-4\">\r\n-                @foreach ($logsForDate as $log)\r\n-                    @php\r\n-                        $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-                        $activity = strtolower($log->activity ?? '');\r\n-                        $activityClass = 'bg-gray-100 text-gray-700';\r\n-                        if (str_contains($activity, 'attempt')) {\r\n-                            $activityClass = 'bg-red-100 text-red-700';\r\n-                        } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n-                            $activityClass = 'bg-green-100 text-green-700';\r\n-                        } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n-                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                        } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n-                            $activityClass = 'bg-blue-100 text-blue-700';\r\n-                        } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n-                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                        } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n-                            $activityClass = 'bg-red-100 text-red-700';\r\n-                        }\r\n+            @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+                <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n \r\n-                        $statusColor = match($log->status) {\r\n-                            'success' => 'text-green-600 font-medium',\r\n-                            'failed' => 'text-red-600 font-medium',\r\n-                            'pending' => 'text-yellow-600 font-medium',\r\n-                            default => 'text-gray-600'\r\n-                        };\r\n+                    <!-- DATE LABEL -->\r\n+                    <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b pb-1\">\r\n+                        {{ $dateLabel }}\r\n+                    </h3>\r\n \r\n-                        $role = $log->role ?? 'N/A';\r\n-                        $role = ucwords(str_replace('_', ' ', $role));\r\n+                    <div class=\"space-y-4\">\r\n+                        @foreach ($logsForDate as $log)\r\n \r\n-                        // Parse details if JSON\r\n-                        $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n-                        $device = $details['Device'] ?? null;\r\n-                    @endphp\r\n+                            @php\r\n+                                $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                                $formattedActivity = formatActivity($log->activity, $log->user_name);\r\n \r\n-                    <div \r\n-                        class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n-                        data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n-                        data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n-                        data-role=\"{{ strtolower($role) }}\"\r\n-                        data-status=\"{{ strtolower($log->status) }}\"\r\n-                        data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n-                    >\r\n-                        <!-- Time -->\r\n-                        <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n-                            {{ $timestamp->format('h:i A') }}\r\n-                        </div>\r\n+                                // Badge colors\r\n+                                $activityLower = strtolower($log->activity);\r\n+                                $activityClass = 'bg-gray-100 text-gray-700';\r\n \r\n-                        <!-- Content -->\r\n-                        <div class=\"flex-1\">\r\n-                            <div class=\"flex flex-col\">\r\n-                                <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n-                                    <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n-                                    <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n-                                    performed\r\n-                                    <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n-                                        {{ $log->activity }}\r\n-                                    </span>\r\n-                                </span>\r\n+                                if (str_contains($activityLower, 'attempt')) $activityClass = 'bg-red-100 text-red-700';\r\n+                                elseif (str_contains($activityLower, 'login')) $activityClass = 'bg-green-100 text-green-700';\r\n+                                elseif (str_contains($activityLower, 'logout')) $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                                elseif (str_contains($activityLower, 'create') || str_contains($activityLower, 'submit'))\r\n+                                    $activityClass = 'bg-blue-100 text-blue-700';\r\n \r\n-                                <div class=\"text-xs text-gray-500 mt-1\">\r\n-                                    IP: {{ $log->ip_address ?? '—' }} • \r\n-                                    <span class=\"{{ $statusColor }}\">\r\n-                                        {{ ucfirst($log->status) }}\r\n-                                    </span>\r\n+                                $details = is_array($log->details) ? $log->details : json_decode($log->details, true);\r\n+                            @endphp\r\n+\r\n+                            <div \r\n+                                class=\"log-item flex flex-col sm:flex-row sm:gap-5 border rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                                data-username=\"{{ strtolower($log->user_name) }}\"\r\n+                                data-activity=\"{{ strtolower($formattedActivity) }}\"\r\n+                                data-role=\"{{ strtolower($log->role) }}\"\r\n+                                data-status=\"{{ strtolower($log->status) }}\"\r\n+                                data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                            >\r\n+\r\n+                                <!-- TIME -->\r\n+                                <div class=\"w-24 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right\">\r\n+                                    {{ $timestamp->format('h:i A') }}\r\n                                 </div>\r\n \r\n-                                @if(!empty($details))\r\n-                                    <div class=\"text-xs text-gray-400 mt-1\">\r\n-                                        @if($device)\r\n-                                            <strong>Device:</strong> {{ $device }}\r\n+                                <!-- LOG CONTENT -->\r\n+                                <div class=\"flex-1\">\r\n+\r\n+                                    <span class=\"text-gray-800 text-sm\">\r\n+                                        <strong>{{ $log->user_name }}</strong>\r\n+                                        <span class=\"text-gray-500 ml-1\">({{ ucwords($log->role) }})</span>\r\n+                                        performed \r\n+                                        <span class=\"px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                            {{ $formattedActivity }}\r\n+                                        </span>\r\n+                                    </span>\r\n+\r\n+                                    <div class=\"text-xs text-gray-500 mt-1\">\r\n+                                        IP: {{ $log->ip_address }} • \r\n+                                        <span class=\"font-medium text-{{ $log->status === 'success' ? 'green' : ($log->status === 'failed' ? 'red' : 'yellow') }}-600\">\r\n+                                            {{ ucfirst($log->status) }}\r\n+                                        </span>\r\n+                                    </div>\r\n+\r\n+                                    <!-- COLLAPSIBLE HISTORY -->\r\n+                                    <button \r\n+                                        onclick=\"toggleHistory('{{ $log->id }}')\" \r\n+                                        class=\"text-blue-600 text-xs mt-3 hover:underline\">\r\n+                                        Show History\r\n+                                    </button>\r\n+\r\n+                                    <div id=\"history-{{ $log->id }}\" class=\"hidden mt-3 border-l-2 border-blue-300 pl-3\">\r\n+\r\n+                                        <h4 class=\"font-semibold text-xs text-gray-700\">Activity History</h4>\r\n+\r\n+                                        @if (!empty($details) && is_array($details))\r\n+                                            <ul class=\"list-disc pl-4 mt-1 text-gray-600 text-xs space-y-1\">\r\n+                                                @foreach ($details as $d)\r\n+                                                    <li>{{ $d }}</li>\r\n+                                                @endforeach\r\n+                                            </ul>\r\n                                         @else\r\n-                                            <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n+                                            <p class=\"text-gray-500 text-xs italic mt-1\">No additional history available.</p>\r\n                                         @endif\r\n                                     </div>\r\n-                                @endif\r\n-                            </div>\r\n-                        </div>\r\n \r\n-                        <!-- Action Menu (3 Dots) -->\r\n-                        <div class=\"absolute top-3 right-3\">\r\n-                            <div class=\"relative\">\r\n-                                <button \r\n-                                    class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n-                                    onclick=\"toggleMenu(this)\">\r\n-                                    ⋮\r\n-                                </button>\r\n-                                <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n                                 </div>\r\n+\r\n+                                <!-- 3 DOT MENU -->\r\n+                                <div class=\"absolute top-3 right-3\">\r\n+                                    <div class=\"relative\">\r\n+                                        <button class=\"text-gray-500 hover:text-gray-700\" onclick=\"toggleMenu(this)\">⋮</button>\r\n+                                        <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                            <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n+                                        </div>\r\n+                                    </div>\r\n+                                </div>\r\n+\r\n                             </div>\r\n-                        </div>\r\n+\r\n+                        @endforeach\r\n                     </div>\r\n-                @endforeach\r\n-            </div>\r\n-        </div>\r\n-    @empty\r\n-        <div class=\"text-center text-gray-500 py-6\">\r\n-            No activity logs found.\r\n-        </div>\r\n-    @endforelse\r\n+                </div>\r\n+            @empty\r\n+                <div class=\"text-center text-gray-500 py-6\">No activity logs found.</div>\r\n+            @endforelse\r\n \r\n-    <!-- Pagination -->\r\n-    @if ($logs->hasPages())\r\n-        <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-            <p class=\"text-white\">\r\n-                Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-            </p>\r\n-            <div>\r\n-                {{ $logs->links() }}\r\n-            </div>\r\n+            @if ($logs->hasPages())\r\n+                <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+                    <p class=\"text-white\">\r\n+                        Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+                    </p>\r\n+                    <div>{{ $logs->links() }}</div>\r\n+                </div>\r\n+            @endif\r\n+\r\n         </div>\r\n-    @endif\r\n-</div>\r\n \r\n     </div>\r\n </div>\r\n \r\n <script>\r\n-    // Toggle menu (3 dots)\r\n-    function toggleMenu(button) {\r\n-        const menu = button.nextElementSibling;\r\n-        document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n-            if (el !== menu) el.classList.add('hidden');\r\n-        });\r\n-        menu.classList.toggle('hidden');\r\n+function toggleMenu(button) {\r\n+    const menu = button.nextElementSibling;\r\n+    document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n+        if (el !== menu) el.classList.add('hidden');\r\n+    });\r\n+    menu.classList.toggle('hidden');\r\n+}\r\n+\r\n+document.addEventListener('click', function(e) {\r\n+    if (!e.target.closest('[onclick=\"toggleMenu(this)\"]')) {\r\n+        document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n     }\r\n+});\r\n \r\n-    document.addEventListener('click', function(e) {\r\n-        if (!e.target.closest('[onclick=\"toggleMenu(this)\"]')) {\r\n-            document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n-        }\r\n-    });\r\n+// --- Collapsible History ---\r\n+function toggleHistory(id) {\r\n+    const section = document.getElementById('history-' + id);\r\n+    section.classList.toggle('hidden');\r\n+}\r\n \r\n-    // Filtering and Search Logic\r\n-    const searchInput = document.getElementById('searchInput');\r\n-    const roleFilter = document.getElementById('roleFilter');\r\n-    const statusFilter = document.getElementById('statusFilter');\r\n-    const dateFrom = document.getElementById('dateFrom');\r\n-    const dateTo = document.getElementById('dateTo');\r\n-    const filterButton = document.getElementById('filterButton');\r\n-    const resetButton = document.getElementById('resetButton');\r\n+// Search + Filters\r\n+const searchInput = document.getElementById('searchInput');\r\n+const roleFilter = document.getElementById('roleFilter');\r\n+const statusFilter = document.getElementById('statusFilter');\r\n+const dateFrom = document.getElementById('dateFrom');\r\n+const dateTo = document.getElementById('dateTo');\r\n+const filterButton = document.getElementById('filterButton');\r\n+const resetButton = document.getElementById('resetButton');\r\n \r\n-    function filterLogs() {\r\n-        const searchTerm = searchInput.value.toLowerCase();\r\n-        const selectedRole = roleFilter.value.toLowerCase();\r\n-        const selectedStatus = statusFilter.value.toLowerCase();\r\n-        const fromDate = dateFrom.value ? new Date(dateFrom.value) : null;\r\n-        const toDate = dateTo.value ? new Date(dateTo.value) : null;\r\n+function filterLogs() {\r\n+    const searchTerm = searchInput.value.toLowerCase();\r\n+    const selectedRole = roleFilter.value.toLowerCase();\r\n+    const selectedStatus = statusFilter.value.toLowerCase();\r\n+    const fromDate = dateFrom.value ? new Date(dateFrom.value) : null;\r\n+    const toDate = dateTo.value ? new Date(dateTo.value) : null;\r\n \r\n-        document.querySelectorAll('.log-item').forEach(item => {\r\n-            const username = item.dataset.username;\r\n-            const activity = item.dataset.activity;\r\n-            const role = item.dataset.role;\r\n-            const status = item.dataset.status;\r\n-            const date = new Date(item.dataset.date);\r\n+    document.querySelectorAll('.log-item').forEach(item => {\r\n+        const username = item.dataset.username;\r\n+        const activity = item.dataset.activity;\r\n+        const role = item.dataset.role;\r\n+        const status = item.dataset.status;\r\n+        const date = new Date(item.dataset.date);\r\n \r\n-            let visible = true;\r\n+        let visible = true;\r\n \r\n-            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) {\r\n-                visible = false;\r\n-            }\r\n-            if (selectedRole && role !== selectedRole) visible = false;\r\n-            if (selectedStatus && status !== selectedStatus) visible = false;\r\n-            if (fromDate && date < fromDate) visible = false;\r\n-            if (toDate && date > toDate) visible = false;\r\n+        if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) {\r\n+            visible = false;\r\n+        }\r\n+        if (selectedRole && role !== selectedRole) visible = false;\r\n+        if (selectedStatus && status !== selectedStatus) visible = false;\r\n+        if (fromDate && date < fromDate) visible = false;\r\n+        if (toDate && date > toDate) visible = false;\r\n \r\n-            item.style.display = visible ? '' : 'none';\r\n-        });\r\n-    }\r\n+        item.style.display = visible ? '' : 'none';\r\n+    });\r\n+}\r\n \r\n-    filterButton.addEventListener('click', filterLogs);\r\n-    searchInput.addEventListener('input', filterLogs);\r\n+filterButton.addEventListener('click', filterLogs);\r\n+searchInput.addEventListener('input', filterLogs);\r\n \r\n-    resetButton.addEventListener('click', () => {\r\n-        searchInput.value = '';\r\n-        roleFilter.value = '';\r\n-        statusFilter.value = '';\r\n-        dateFrom.value = '';\r\n-        dateTo.value = '';\r\n-        filterLogs();\r\n-    });\r\n+resetButton.addEventListener('click', () => {\r\n+    searchInput.value = '';\r\n+    roleFilter.value = '';\r\n+    statusFilter.value = '';\r\n+    dateFrom.value = '';\r\n+    dateTo.value = '';\r\n+    filterLogs();\r\n+});\r\n </script>\r\n+\r\n @endsection\r\n"
                },
                {
                    "date": 1765121835951,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n \r\n @php\r\n     use Carbon\\Carbon;\r\n \r\n-    // Group logs by date\r\n+    // Group logs by date (Today, Yesterday, or exact date)\r\n     $groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n         $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n         if ($date->isToday()) {\r\n             return 'Today';\r\n@@ -16,27 +16,12 @@\n         } else {\r\n             return $date->format('F d, Y');\r\n         }\r\n     });\r\n-\r\n-    // Function to rephrase activity\r\n-    function formatActivity($activity, $userName) {\r\n-        if (!$activity) return '';\r\n-\r\n-        // Clean formatting\r\n-        $clean = strtolower($activity);\r\n-\r\n-        // Replace \"you\" with actual name\r\n-        $clean = str_replace(['you ', 'You '], $userName . ' ', $clean);\r\n-\r\n-        // Capitalize first letter\r\n-        return ucfirst($clean);\r\n-    }\r\n @endphp\r\n \r\n <div class=\"p-4\">\r\n     <div class=\"bg-mainbg px-6 min-h-screen\">\r\n-\r\n         <!-- Page Header -->\r\n         <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-3\">\r\n             <div class=\"text-customIT flex flex-col\">\r\n                 <h2 class=\"text-[20px] sm:text-[25px] font-bold text-custom\">Activity Logs</h2>\r\n@@ -46,12 +31,14 @@\n \r\n         <!-- Filters & Search -->\r\n         <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n             <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n-\r\n-                <!-- Search -->\r\n+                <!-- Search Bar -->\r\n                 <div class=\"flex items-center w-full sm:w-1/3\">\r\n-                    <input id=\"searchInput\" type=\"text\" placeholder=\"Search by user, activity...\"\r\n+                    <input \r\n+                        id=\"searchInput\"\r\n+                        type=\"text\"\r\n+                        placeholder=\"Search by user, activity...\"\r\n                         class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n                 </div>\r\n \r\n                 <!-- Filters -->\r\n@@ -73,204 +60,205 @@\n                     <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n                     <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n \r\n                     <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n+\r\n                     <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n \r\n-        <!-- TIMELINE -->\r\n-        <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+        <!-- Activity Timeline -->\r\n+<div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+    @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+        <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+            <!-- Date Header -->\r\n+            <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n+                {{ $dateLabel }}\r\n+            </h3>\r\n \r\n-            @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n-                <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+            <div class=\"space-y-4\">\r\n+                @foreach ($logsForDate as $log)\r\n+                    @php\r\n+                        $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                        $activity = strtolower($log->activity ?? '');\r\n+                        $activityClass = 'bg-gray-100 text-gray-700';\r\n+                        if (str_contains($activity, 'attempt')) {\r\n+                            $activityClass = 'bg-red-100 text-red-700';\r\n+                        } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n+                            $activityClass = 'bg-green-100 text-green-700';\r\n+                        } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n+                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                        } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n+                            $activityClass = 'bg-blue-100 text-blue-700';\r\n+                        } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n+                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                        } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n+                            $activityClass = 'bg-red-100 text-red-700';\r\n+                        }\r\n \r\n-                    <!-- DATE LABEL -->\r\n-                    <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b pb-1\">\r\n-                        {{ $dateLabel }}\r\n-                    </h3>\r\n+                        $statusColor = match($log->status) {\r\n+                            'success' => 'text-green-600 font-medium',\r\n+                            'failed' => 'text-red-600 font-medium',\r\n+                            'pending' => 'text-yellow-600 font-medium',\r\n+                            default => 'text-gray-600'\r\n+                        };\r\n \r\n-                    <div class=\"space-y-4\">\r\n-                        @foreach ($logsForDate as $log)\r\n+                        $role = $log->role ?? 'N/A';\r\n+                        $role = ucwords(str_replace('_', ' ', $role));\r\n \r\n-                            @php\r\n-                                $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-                                $formattedActivity = formatActivity($log->activity, $log->user_name);\r\n+                        // Parse details if JSON\r\n+                        $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n+                        $device = $details['Device'] ?? null;\r\n+                    @endphp\r\n \r\n-                                // Badge colors\r\n-                                $activityLower = strtolower($log->activity);\r\n-                                $activityClass = 'bg-gray-100 text-gray-700';\r\n+                    <div \r\n+                        class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                        data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n+                        data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n+                        data-role=\"{{ strtolower($role) }}\"\r\n+                        data-status=\"{{ strtolower($log->status) }}\"\r\n+                        data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                    >\r\n+                        <!-- Time -->\r\n+                        <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n+                            {{ $timestamp->format('h:i A') }}\r\n+                        </div>\r\n \r\n-                                if (str_contains($activityLower, 'attempt')) $activityClass = 'bg-red-100 text-red-700';\r\n-                                elseif (str_contains($activityLower, 'login')) $activityClass = 'bg-green-100 text-green-700';\r\n-                                elseif (str_contains($activityLower, 'logout')) $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                                elseif (str_contains($activityLower, 'create') || str_contains($activityLower, 'submit'))\r\n-                                    $activityClass = 'bg-blue-100 text-blue-700';\r\n+                        <!-- Content -->\r\n+                        <div class=\"flex-1\">\r\n+                            <div class=\"flex flex-col\">\r\n+                                <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n+                                    <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n+                                    <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n+                                    performed\r\n+                                    <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                        {{ $log->activity }}\r\n+                                    </span>\r\n+                                </span>\r\n \r\n-                                $details = is_array($log->details) ? $log->details : json_decode($log->details, true);\r\n-                            @endphp\r\n-\r\n-                            <div \r\n-                                class=\"log-item flex flex-col sm:flex-row sm:gap-5 border rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n-                                data-username=\"{{ strtolower($log->user_name) }}\"\r\n-                                data-activity=\"{{ strtolower($formattedActivity) }}\"\r\n-                                data-role=\"{{ strtolower($log->role) }}\"\r\n-                                data-status=\"{{ strtolower($log->status) }}\"\r\n-                                data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n-                            >\r\n-\r\n-                                <!-- TIME -->\r\n-                                <div class=\"w-24 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right\">\r\n-                                    {{ $timestamp->format('h:i A') }}\r\n+                                <div class=\"text-xs text-gray-500 mt-1\">\r\n+                                    IP: {{ $log->ip_address ?? '—' }} • \r\n+                                    <span class=\"{{ $statusColor }}\">\r\n+                                        {{ ucfirst($log->status) }}\r\n+                                    </span>\r\n                                 </div>\r\n \r\n-                                <!-- LOG CONTENT -->\r\n-                                <div class=\"flex-1\">\r\n-\r\n-                                    <span class=\"text-gray-800 text-sm\">\r\n-                                        <strong>{{ $log->user_name }}</strong>\r\n-                                        <span class=\"text-gray-500 ml-1\">({{ ucwords($log->role) }})</span>\r\n-                                        performed \r\n-                                        <span class=\"px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n-                                            {{ $formattedActivity }}\r\n-                                        </span>\r\n-                                    </span>\r\n-\r\n-                                    <div class=\"text-xs text-gray-500 mt-1\">\r\n-                                        IP: {{ $log->ip_address }} • \r\n-                                        <span class=\"font-medium text-{{ $log->status === 'success' ? 'green' : ($log->status === 'failed' ? 'red' : 'yellow') }}-600\">\r\n-                                            {{ ucfirst($log->status) }}\r\n-                                        </span>\r\n-                                    </div>\r\n-\r\n-                                    <!-- COLLAPSIBLE HISTORY -->\r\n-                                    <button \r\n-                                        onclick=\"toggleHistory('{{ $log->id }}')\" \r\n-                                        class=\"text-blue-600 text-xs mt-3 hover:underline\">\r\n-                                        Show History\r\n-                                    </button>\r\n-\r\n-                                    <div id=\"history-{{ $log->id }}\" class=\"hidden mt-3 border-l-2 border-blue-300 pl-3\">\r\n-\r\n-                                        <h4 class=\"font-semibold text-xs text-gray-700\">Activity History</h4>\r\n-\r\n-                                        @if (!empty($details) && is_array($details))\r\n-                                            <ul class=\"list-disc pl-4 mt-1 text-gray-600 text-xs space-y-1\">\r\n-                                                @foreach ($details as $d)\r\n-                                                    <li>{{ $d }}</li>\r\n-                                                @endforeach\r\n-                                            </ul>\r\n+                                @if(!empty($details))\r\n+                                    <div class=\"text-xs text-gray-400 mt-1\">\r\n+                                        @if($device)\r\n+                                            <strong>Device:</strong> {{ $device }}\r\n                                         @else\r\n-                                            <p class=\"text-gray-500 text-xs italic mt-1\">No additional history available.</p>\r\n+                                            <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n                                         @endif\r\n                                     </div>\r\n+                                @endif\r\n+                            </div>\r\n+                        </div>\r\n \r\n+                        <!-- Action Menu (3 Dots) -->\r\n+                        <div class=\"absolute top-3 right-3\">\r\n+                            <div class=\"relative\">\r\n+                                <button \r\n+                                    class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n+                                    onclick=\"toggleMenu(this)\">\r\n+                                    ⋮\r\n+                                </button>\r\n+                                <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n                                 </div>\r\n-\r\n-                                <!-- 3 DOT MENU -->\r\n-                                <div class=\"absolute top-3 right-3\">\r\n-                                    <div class=\"relative\">\r\n-                                        <button class=\"text-gray-500 hover:text-gray-700\" onclick=\"toggleMenu(this)\">⋮</button>\r\n-                                        <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n-                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n-                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n-                                            <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n-                                        </div>\r\n-                                    </div>\r\n-                                </div>\r\n-\r\n                             </div>\r\n-\r\n-                        @endforeach\r\n+                        </div>\r\n                     </div>\r\n-                </div>\r\n-            @empty\r\n-                <div class=\"text-center text-gray-500 py-6\">No activity logs found.</div>\r\n-            @endforelse\r\n+                @endforeach\r\n+            </div>\r\n+        </div>\r\n+    @empty\r\n+        <div class=\"text-center text-gray-500 py-6\">\r\n+            No activity logs found.\r\n+        </div>\r\n+    @endforelse\r\n \r\n-            @if ($logs->hasPages())\r\n-                <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-                    <p class=\"text-white\">\r\n-                        Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-                    </p>\r\n-                    <div>{{ $logs->links() }}</div>\r\n-                </div>\r\n-            @endif\r\n-\r\n+    <!-- Pagination -->\r\n+    @if ($logs->hasPages())\r\n+        <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+            <p class=\"text-white\">\r\n+                Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+            </p>\r\n+            <div>\r\n+                {{ $logs->links() }}\r\n+            </div>\r\n         </div>\r\n+    @endif\r\n+</div>\r\n \r\n     </div>\r\n </div>\r\n \r\n <script>\r\n-function toggleMenu(button) {\r\n-    const menu = button.nextElementSibling;\r\n-    document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n-        if (el !== menu) el.classList.add('hidden');\r\n+    // Toggle menu (3 dots)\r\n+    function toggleMenu(button) {\r\n+        const menu = button.nextElementSibling;\r\n+        document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n+            if (el !== menu) el.classList.add('hidden');\r\n+        });\r\n+        menu.classList.toggle('hidden');\r\n+    }\r\n+\r\n+    document.addEventListener('click', function(e) {\r\n+        if (!e.target.closest('[onclick=\"toggleMenu(this)\"]')) {\r\n+            document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n+        }\r\n     });\r\n-    menu.classList.toggle('hidden');\r\n-}\r\n \r\n-document.addEventListener('click', function(e) {\r\n-    if (!e.target.closest('[onclick=\"toggleMenu(this)\"]')) {\r\n-        document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n-    }\r\n-});\r\n+    // Filtering and Search Logic\r\n+    const searchInput = document.getElementById('searchInput');\r\n+    const roleFilter = document.getElementById('roleFilter');\r\n+    const statusFilter = document.getElementById('statusFilter');\r\n+    const dateFrom = document.getElementById('dateFrom');\r\n+    const dateTo = document.getElementById('dateTo');\r\n+    const filterButton = document.getElementById('filterButton');\r\n+    const resetButton = document.getElementById('resetButton');\r\n \r\n-// --- Collapsible History ---\r\n-function toggleHistory(id) {\r\n-    const section = document.getElementById('history-' + id);\r\n-    section.classList.toggle('hidden');\r\n-}\r\n+    function filterLogs() {\r\n+        const searchTerm = searchInput.value.toLowerCase();\r\n+        const selectedRole = roleFilter.value.toLowerCase();\r\n+        const selectedStatus = statusFilter.value.toLowerCase();\r\n+        const fromDate = dateFrom.value ? new Date(dateFrom.value) : null;\r\n+        const toDate = dateTo.value ? new Date(dateTo.value) : null;\r\n \r\n-// Search + Filters\r\n-const searchInput = document.getElementById('searchInput');\r\n-const roleFilter = document.getElementById('roleFilter');\r\n-const statusFilter = document.getElementById('statusFilter');\r\n-const dateFrom = document.getElementById('dateFrom');\r\n-const dateTo = document.getElementById('dateTo');\r\n-const filterButton = document.getElementById('filterButton');\r\n-const resetButton = document.getElementById('resetButton');\r\n+        document.querySelectorAll('.log-item').forEach(item => {\r\n+            const username = item.dataset.username;\r\n+            const activity = item.dataset.activity;\r\n+            const role = item.dataset.role;\r\n+            const status = item.dataset.status;\r\n+            const date = new Date(item.dataset.date);\r\n \r\n-function filterLogs() {\r\n-    const searchTerm = searchInput.value.toLowerCase();\r\n-    const selectedRole = roleFilter.value.toLowerCase();\r\n-    const selectedStatus = statusFilter.value.toLowerCase();\r\n-    const fromDate = dateFrom.value ? new Date(dateFrom.value) : null;\r\n-    const toDate = dateTo.value ? new Date(dateTo.value) : null;\r\n+            let visible = true;\r\n \r\n-    document.querySelectorAll('.log-item').forEach(item => {\r\n-        const username = item.dataset.username;\r\n-        const activity = item.dataset.activity;\r\n-        const role = item.dataset.role;\r\n-        const status = item.dataset.status;\r\n-        const date = new Date(item.dataset.date);\r\n+            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) {\r\n+                visible = false;\r\n+            }\r\n+            if (selectedRole && role !== selectedRole) visible = false;\r\n+            if (selectedStatus && status !== selectedStatus) visible = false;\r\n+            if (fromDate && date < fromDate) visible = false;\r\n+            if (toDate && date > toDate) visible = false;\r\n \r\n-        let visible = true;\r\n+            item.style.display = visible ? '' : 'none';\r\n+        });\r\n+    }\r\n \r\n-        if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) {\r\n-            visible = false;\r\n-        }\r\n-        if (selectedRole && role !== selectedRole) visible = false;\r\n-        if (selectedStatus && status !== selectedStatus) visible = false;\r\n-        if (fromDate && date < fromDate) visible = false;\r\n-        if (toDate && date > toDate) visible = false;\r\n+    filterButton.addEventListener('click', filterLogs);\r\n+    searchInput.addEventListener('input', filterLogs);\r\n \r\n-        item.style.display = visible ? '' : 'none';\r\n+    resetButton.addEventListener('click', () => {\r\n+        searchInput.value = '';\r\n+        roleFilter.value = '';\r\n+        statusFilter.value = '';\r\n+        dateFrom.value = '';\r\n+        dateTo.value = '';\r\n+        filterLogs();\r\n     });\r\n-}\r\n-\r\n-filterButton.addEventListener('click', filterLogs);\r\n-searchInput.addEventListener('input', filterLogs);\r\n-\r\n-resetButton.addEventListener('click', () => {\r\n-    searchInput.value = '';\r\n-    roleFilter.value = '';\r\n-    statusFilter.value = '';\r\n-    dateFrom.value = '';\r\n-    dateTo.value = '';\r\n-    filterLogs();\r\n-});\r\n </script>\r\n-\r\n @endsection\r\n"
                },
                {
                    "date": 1765122585417,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,21 +3,24 @@\n @section('content')\r\n @include('layouts.loading-overlay')\r\n \r\n @php\r\n-    use Carbon\\Carbon;\r\n+use Carbon\\Carbon;\r\n \r\n-    // Group logs by date (Today, Yesterday, or exact date)\r\n-    $groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n-        $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-        if ($date->isToday()) {\r\n-            return 'Today';\r\n-        } elseif ($date->isYesterday()) {\r\n-            return 'Yesterday';\r\n-        } else {\r\n-            return $date->format('F d, Y');\r\n-        }\r\n-    });\r\n+```\r\n+// Group logs by date (Today, Yesterday, or exact date)\r\n+$groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n+    $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+    if ($date->isToday()) {\r\n+        return 'Today';\r\n+    } elseif ($date->isYesterday()) {\r\n+        return 'Yesterday';\r\n+    } else {\r\n+        return $date->format('F d, Y');\r\n+    }\r\n+});\r\n+```\r\n+\r\n @endphp\r\n \r\n <div class=\"p-4\">\r\n     <div class=\"bg-mainbg px-6 min-h-screen\">\r\n@@ -28,177 +31,168 @@\n                 <p class=\"text-sm text-gray-600\">Manage, track, and publish important information for SWISA members.</p>\r\n             </div>\r\n         </div>\r\n \r\n-        <!-- Filters & Search -->\r\n-        <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n-            <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n-                <!-- Search Bar -->\r\n-                <div class=\"flex items-center w-full sm:w-1/3\">\r\n-                    <input \r\n-                        id=\"searchInput\"\r\n-                        type=\"text\"\r\n-                        placeholder=\"Search by user, activity...\"\r\n-                        class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n-                </div>\r\n+```\r\n+    <!-- Filters & Search -->\r\n+    <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n+        <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n+            <div class=\"flex items-center w-full sm:w-1/3\">\r\n+                <input \r\n+                    id=\"searchInput\"\r\n+                    type=\"text\"\r\n+                    placeholder=\"Search by user, activity...\"\r\n+                    class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n+            </div>\r\n \r\n-                <!-- Filters -->\r\n-                <div class=\"flex flex-wrap gap-2\">\r\n-                    <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                        <option value=\"\">All Roles</option>\r\n-                        <option value=\"Admin\">Admin</option>\r\n-                        <option value=\"Member\">SWISA Member</option>\r\n-                        <option value=\"Support Staff\">Support Staff</option>\r\n-                    </select>\r\n+            <div class=\"flex flex-wrap gap-2\">\r\n+                <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <option value=\"\">All Roles</option>\r\n+                    <option value=\"Admin\">Admin</option>\r\n+                    <option value=\"Member\">SWISA Member</option>\r\n+                    <option value=\"Support Staff\">Support Staff</option>\r\n+                </select>\r\n \r\n-                    <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                        <option value=\"\">All Status</option>\r\n-                        <option value=\"success\">Successful</option>\r\n-                        <option value=\"failed\">Failed</option>\r\n-                        <option value=\"pending\">Pending</option>\r\n-                    </select>\r\n+                <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <option value=\"\">All Status</option>\r\n+                    <option value=\"success\">Successful</option>\r\n+                    <option value=\"failed\">Failed</option>\r\n+                    <option value=\"pending\">Pending</option>\r\n+                </select>\r\n \r\n-                    <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                    <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n \r\n-                    <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n+                <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n \r\n-                    <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n-                </div>\r\n+                <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n             </div>\r\n         </div>\r\n+    </div>\r\n \r\n-        <!-- Activity Timeline -->\r\n-<div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n-    @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n-        <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n-            <!-- Date Header -->\r\n-            <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n-                {{ $dateLabel }}\r\n-            </h3>\r\n+    <!-- Activity Timeline -->\r\n+    <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+        @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+            <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+                <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n+                    {{ $dateLabel }}\r\n+                </h3>\r\n \r\n-            <div class=\"space-y-4\">\r\n-                @foreach ($logsForDate as $log)\r\n-                    @php\r\n-                        $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-                        $activity = strtolower($log->activity ?? '');\r\n-                        $activityClass = 'bg-gray-100 text-gray-700';\r\n-                        if (str_contains($activity, 'attempt')) {\r\n-                            $activityClass = 'bg-red-100 text-red-700';\r\n-                        } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n-                            $activityClass = 'bg-green-100 text-green-700';\r\n-                        } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n-                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                        } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n-                            $activityClass = 'bg-blue-100 text-blue-700';\r\n-                        } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n-                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                        } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n-                            $activityClass = 'bg-red-100 text-red-700';\r\n-                        }\r\n+                <div class=\"space-y-4\">\r\n+                    @foreach ($logsForDate as $log)\r\n+                        @php\r\n+                            $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                            $activity = strtolower($log->activity ?? '');\r\n+                            $activityClass = 'bg-gray-100 text-gray-700';\r\n+                            if (str_contains($activity, 'attempt')) $activityClass = 'bg-red-100 text-red-700';\r\n+                            elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) $activityClass = 'bg-green-100 text-green-700';\r\n+                            elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                            elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) $activityClass = 'bg-blue-100 text-blue-700';\r\n+                            elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                            elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) $activityClass = 'bg-red-100 text-red-700';\r\n \r\n-                        $statusColor = match($log->status) {\r\n-                            'success' => 'text-green-600 font-medium',\r\n-                            'failed' => 'text-red-600 font-medium',\r\n-                            'pending' => 'text-yellow-600 font-medium',\r\n-                            default => 'text-gray-600'\r\n-                        };\r\n+                            $statusColor = match($log->status) {\r\n+                                'success' => 'text-green-600 font-medium',\r\n+                                'failed' => 'text-red-600 font-medium',\r\n+                                'pending' => 'text-yellow-600 font-medium',\r\n+                                default => 'text-gray-600'\r\n+                            };\r\n \r\n-                        $role = $log->role ?? 'N/A';\r\n-                        $role = ucwords(str_replace('_', ' ', $role));\r\n+                            $role = $log->role ?? 'N/A';\r\n+                            $role = ucwords(str_replace('_', ' ', $role));\r\n \r\n-                        // Parse details if JSON\r\n-                        $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n-                        $device = $details['Device'] ?? null;\r\n-                    @endphp\r\n+                            $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n+                            $device = $details['Device'] ?? null;\r\n \r\n-                    <div \r\n-                        class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n-                        data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n-                        data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n-                        data-role=\"{{ strtolower($role) }}\"\r\n-                        data-status=\"{{ strtolower($log->status) }}\"\r\n-                        data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n-                    >\r\n-                        <!-- Time -->\r\n-                        <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n-                            {{ $timestamp->format('h:i A') }}\r\n-                        </div>\r\n+                            // For ActivityHistory logs, get full member name from user_info\r\n+                            if(isset($log->user) && $log->user && $log->user->user_info) {\r\n+                                $log->user_name = $log->user->user_info->name ?? 'Unknown User';\r\n+                            }\r\n+                        @endphp\r\n \r\n-                        <!-- Content -->\r\n-                        <div class=\"flex-1\">\r\n-                            <div class=\"flex flex-col\">\r\n-                                <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n-                                    <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n-                                    <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n-                                    performed\r\n-                                    <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n-                                        {{ $log->activity }}\r\n-                                    </span>\r\n-                                </span>\r\n+                        <div \r\n+                            class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                            data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n+                            data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n+                            data-role=\"{{ strtolower($role) }}\"\r\n+                            data-status=\"{{ strtolower($log->status) }}\"\r\n+                            data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                        >\r\n+                            <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n+                                {{ $timestamp->format('h:i A') }}\r\n+                            </div>\r\n \r\n-                                <div class=\"text-xs text-gray-500 mt-1\">\r\n-                                    IP: {{ $log->ip_address ?? '—' }} • \r\n-                                    <span class=\"{{ $statusColor }}\">\r\n-                                        {{ ucfirst($log->status) }}\r\n+                            <div class=\"flex-1\">\r\n+                                <div class=\"flex flex-col\">\r\n+                                    <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n+                                        <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n+                                        <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n+                                        performed\r\n+                                        <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                            {{ $log->activity }}\r\n+                                        </span>\r\n                                     </span>\r\n-                                </div>\r\n \r\n-                                @if(!empty($details))\r\n-                                    <div class=\"text-xs text-gray-400 mt-1\">\r\n-                                        @if($device)\r\n-                                            <strong>Device:</strong> {{ $device }}\r\n-                                        @else\r\n-                                            <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n-                                        @endif\r\n+                                    <div class=\"text-xs text-gray-500 mt-1\">\r\n+                                        IP: {{ $log->ip_address ?? '—' }} • \r\n+                                        <span class=\"{{ $statusColor }}\">\r\n+                                            {{ ucfirst($log->status) }}\r\n+                                        </span>\r\n                                     </div>\r\n-                                @endif\r\n+\r\n+                                    @if(!empty($details))\r\n+                                        <div class=\"text-xs text-gray-400 mt-1\">\r\n+                                            @if($device)\r\n+                                                <strong>Device:</strong> {{ $device }}\r\n+                                            @else\r\n+                                                <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n+                                            @endif\r\n+                                        </div>\r\n+                                    @endif\r\n+                                </div>\r\n                             </div>\r\n-                        </div>\r\n \r\n-                        <!-- Action Menu (3 Dots) -->\r\n-                        <div class=\"absolute top-3 right-3\">\r\n-                            <div class=\"relative\">\r\n-                                <button \r\n-                                    class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n-                                    onclick=\"toggleMenu(this)\">\r\n-                                    ⋮\r\n-                                </button>\r\n-                                <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n+                            <div class=\"absolute top-3 right-3\">\r\n+                                <div class=\"relative\">\r\n+                                    <button \r\n+                                        class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n+                                        onclick=\"toggleMenu(this)\">\r\n+                                        ⋮\r\n+                                    </button>\r\n+                                    <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n+                                    </div>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n-                    </div>\r\n-                @endforeach\r\n+                    @endforeach\r\n+                </div>\r\n             </div>\r\n-        </div>\r\n-    @empty\r\n-        <div class=\"text-center text-gray-500 py-6\">\r\n-            No activity logs found.\r\n-        </div>\r\n-    @endforelse\r\n+        @empty\r\n+            <div class=\"text-center text-gray-500 py-6\">\r\n+                No activity logs found.\r\n+            </div>\r\n+        @endforelse\r\n \r\n-    <!-- Pagination -->\r\n-    @if ($logs->hasPages())\r\n-        <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-            <p class=\"text-white\">\r\n-                Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-            </p>\r\n-            <div>\r\n-                {{ $logs->links() }}\r\n+        @if ($logs->hasPages())\r\n+            <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+                <p class=\"text-white\">\r\n+                    Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+                </p>\r\n+                <div>\r\n+                    {{ $logs->links() }}\r\n+                </div>\r\n             </div>\r\n-        </div>\r\n-    @endif\r\n+        @endif\r\n+    </div>\r\n </div>\r\n+```\r\n \r\n-    </div>\r\n </div>\r\n \r\n <script>\r\n-    // Toggle menu (3 dots)\r\n     function toggleMenu(button) {\r\n         const menu = button.nextElementSibling;\r\n         document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n             if (el !== menu) el.classList.add('hidden');\r\n@@ -211,9 +205,8 @@\n             document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n         }\r\n     });\r\n \r\n-    // Filtering and Search Logic\r\n     const searchInput = document.getElementById('searchInput');\r\n     const roleFilter = document.getElementById('roleFilter');\r\n     const statusFilter = document.getElementById('statusFilter');\r\n     const dateFrom = document.getElementById('dateFrom');\r\n@@ -236,11 +229,9 @@\n             const date = new Date(item.dataset.date);\r\n \r\n             let visible = true;\r\n \r\n-            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) {\r\n-                visible = false;\r\n-            }\r\n+            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) visible = false;\r\n             if (selectedRole && role !== selectedRole) visible = false;\r\n             if (selectedStatus && status !== selectedStatus) visible = false;\r\n             if (fromDate && date < fromDate) visible = false;\r\n             if (toDate && date > toDate) visible = false;\r\n@@ -260,5 +251,6 @@\n         dateTo.value = '';\r\n         filterLogs();\r\n     });\r\n </script>\r\n+\r\n @endsection\r\n"
                },
                {
                    "date": 1765122664738,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,24 +3,21 @@\n @section('content')\r\n @include('layouts.loading-overlay')\r\n \r\n @php\r\n-use Carbon\\Carbon;\r\n+    use Carbon\\Carbon;\r\n \r\n-```\r\n-// Group logs by date (Today, Yesterday, or exact date)\r\n-$groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n-    $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-    if ($date->isToday()) {\r\n-        return 'Today';\r\n-    } elseif ($date->isYesterday()) {\r\n-        return 'Yesterday';\r\n-    } else {\r\n-        return $date->format('F d, Y');\r\n-    }\r\n-});\r\n-```\r\n-\r\n+    // Group logs by date (Today, Yesterday, or exact date)\r\n+    $groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n+        $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+        if ($date->isToday()) {\r\n+            return 'Today';\r\n+        } elseif ($date->isYesterday()) {\r\n+            return 'Yesterday';\r\n+        } else {\r\n+            return $date->format('F d, Y');\r\n+        }\r\n+    });\r\n @endphp\r\n \r\n <div class=\"p-4\">\r\n     <div class=\"bg-mainbg px-6 min-h-screen\">\r\n@@ -31,168 +28,177 @@\n                 <p class=\"text-sm text-gray-600\">Manage, track, and publish important information for SWISA members.</p>\r\n             </div>\r\n         </div>\r\n \r\n-```\r\n-    <!-- Filters & Search -->\r\n-    <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n-        <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n-            <div class=\"flex items-center w-full sm:w-1/3\">\r\n-                <input \r\n-                    id=\"searchInput\"\r\n-                    type=\"text\"\r\n-                    placeholder=\"Search by user, activity...\"\r\n-                    class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n-            </div>\r\n+        <!-- Filters & Search -->\r\n+        <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n+            <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n+                <!-- Search Bar -->\r\n+                <div class=\"flex items-center w-full sm:w-1/3\">\r\n+                    <input \r\n+                        id=\"searchInput\"\r\n+                        type=\"text\"\r\n+                        placeholder=\"Search by user, activity...\"\r\n+                        class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n+                </div>\r\n \r\n-            <div class=\"flex flex-wrap gap-2\">\r\n-                <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                    <option value=\"\">All Roles</option>\r\n-                    <option value=\"Admin\">Admin</option>\r\n-                    <option value=\"Member\">SWISA Member</option>\r\n-                    <option value=\"Support Staff\">Support Staff</option>\r\n-                </select>\r\n+                <!-- Filters -->\r\n+                <div class=\"flex flex-wrap gap-2\">\r\n+                    <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                        <option value=\"\">All Roles</option>\r\n+                        <option value=\"Admin\">Admin</option>\r\n+                        <option value=\"Member\">SWISA Member</option>\r\n+                        <option value=\"Support Staff\">Support Staff</option>\r\n+                    </select>\r\n \r\n-                <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                    <option value=\"\">All Status</option>\r\n-                    <option value=\"success\">Successful</option>\r\n-                    <option value=\"failed\">Failed</option>\r\n-                    <option value=\"pending\">Pending</option>\r\n-                </select>\r\n+                    <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                        <option value=\"\">All Status</option>\r\n+                        <option value=\"success\">Successful</option>\r\n+                        <option value=\"failed\">Failed</option>\r\n+                        <option value=\"pending\">Pending</option>\r\n+                    </select>\r\n \r\n-                <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n \r\n-                <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n+                    <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n \r\n-                <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n+                    <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n+                </div>\r\n             </div>\r\n         </div>\r\n-    </div>\r\n \r\n-    <!-- Activity Timeline -->\r\n-    <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n-        @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n-            <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n-                <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n-                    {{ $dateLabel }}\r\n-                </h3>\r\n+        <!-- Activity Timeline -->\r\n+<div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+    @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+        <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+            <!-- Date Header -->\r\n+            <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n+                {{ $dateLabel }}\r\n+            </h3>\r\n \r\n-                <div class=\"space-y-4\">\r\n-                    @foreach ($logsForDate as $log)\r\n-                        @php\r\n-                            $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-                            $activity = strtolower($log->activity ?? '');\r\n-                            $activityClass = 'bg-gray-100 text-gray-700';\r\n-                            if (str_contains($activity, 'attempt')) $activityClass = 'bg-red-100 text-red-700';\r\n-                            elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) $activityClass = 'bg-green-100 text-green-700';\r\n-                            elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                            elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) $activityClass = 'bg-blue-100 text-blue-700';\r\n-                            elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                            elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) $activityClass = 'bg-red-100 text-red-700';\r\n+            <div class=\"space-y-4\">\r\n+                @foreach ($logsForDate as $log)\r\n+                    @php\r\n+                        $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                        $activity = strtolower($log->activity ?? '');\r\n+                        $activityClass = 'bg-gray-100 text-gray-700';\r\n+                        if (str_contains($activity, 'attempt')) {\r\n+                            $activityClass = 'bg-red-100 text-red-700';\r\n+                        } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n+                            $activityClass = 'bg-green-100 text-green-700';\r\n+                        } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n+                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                        } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n+                            $activityClass = 'bg-blue-100 text-blue-700';\r\n+                        } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n+                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                        } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n+                            $activityClass = 'bg-red-100 text-red-700';\r\n+                        }\r\n \r\n-                            $statusColor = match($log->status) {\r\n-                                'success' => 'text-green-600 font-medium',\r\n-                                'failed' => 'text-red-600 font-medium',\r\n-                                'pending' => 'text-yellow-600 font-medium',\r\n-                                default => 'text-gray-600'\r\n-                            };\r\n+                        $statusColor = match($log->status) {\r\n+                            'success' => 'text-green-600 font-medium',\r\n+                            'failed' => 'text-red-600 font-medium',\r\n+                            'pending' => 'text-yellow-600 font-medium',\r\n+                            default => 'text-gray-600'\r\n+                        };\r\n \r\n-                            $role = $log->role ?? 'N/A';\r\n-                            $role = ucwords(str_replace('_', ' ', $role));\r\n+                        $role = $log->role ?? 'N/A';\r\n+                        $role = ucwords(str_replace('_', ' ', $role));\r\n \r\n-                            $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n-                            $device = $details['Device'] ?? null;\r\n+                        // Parse details if JSON\r\n+                        $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n+                        $device = $details['Device'] ?? null;\r\n+                    @endphp\r\n \r\n-                            // For ActivityHistory logs, get full member name from user_info\r\n-                            if(isset($log->user) && $log->user && $log->user->user_info) {\r\n-                                $log->user_name = $log->user->user_info->name ?? 'Unknown User';\r\n-                            }\r\n-                        @endphp\r\n+                    <div \r\n+                        class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                        data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n+                        data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n+                        data-role=\"{{ strtolower($role) }}\"\r\n+                        data-status=\"{{ strtolower($log->status) }}\"\r\n+                        data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                    >\r\n+                        <!-- Time -->\r\n+                        <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n+                            {{ $timestamp->format('h:i A') }}\r\n+                        </div>\r\n \r\n-                        <div \r\n-                            class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n-                            data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n-                            data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n-                            data-role=\"{{ strtolower($role) }}\"\r\n-                            data-status=\"{{ strtolower($log->status) }}\"\r\n-                            data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n-                        >\r\n-                            <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n-                                {{ $timestamp->format('h:i A') }}\r\n-                            </div>\r\n+                        <!-- Content -->\r\n+                        <div class=\"flex-1\">\r\n+                            <div class=\"flex flex-col\">\r\n+                                <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n+                                    <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n+                                    <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n+                                    performed\r\n+                                    <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                        {{ $log->activity }}\r\n+                                    </span>\r\n+                                </span>\r\n \r\n-                            <div class=\"flex-1\">\r\n-                                <div class=\"flex flex-col\">\r\n-                                    <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n-                                        <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n-                                        <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n-                                        performed\r\n-                                        <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n-                                            {{ $log->activity }}\r\n-                                        </span>\r\n+                                <div class=\"text-xs text-gray-500 mt-1\">\r\n+                                    IP: {{ $log->ip_address ?? '—' }} • \r\n+                                    <span class=\"{{ $statusColor }}\">\r\n+                                        {{ ucfirst($log->status) }}\r\n                                     </span>\r\n+                                </div>\r\n \r\n-                                    <div class=\"text-xs text-gray-500 mt-1\">\r\n-                                        IP: {{ $log->ip_address ?? '—' }} • \r\n-                                        <span class=\"{{ $statusColor }}\">\r\n-                                            {{ ucfirst($log->status) }}\r\n-                                        </span>\r\n+                                @if(!empty($details))\r\n+                                    <div class=\"text-xs text-gray-400 mt-1\">\r\n+                                        @if($device)\r\n+                                            <strong>Device:</strong> {{ $device }}\r\n+                                        @else\r\n+                                            <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n+                                        @endif\r\n                                     </div>\r\n-\r\n-                                    @if(!empty($details))\r\n-                                        <div class=\"text-xs text-gray-400 mt-1\">\r\n-                                            @if($device)\r\n-                                                <strong>Device:</strong> {{ $device }}\r\n-                                            @else\r\n-                                                <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n-                                            @endif\r\n-                                        </div>\r\n-                                    @endif\r\n-                                </div>\r\n+                                @endif\r\n                             </div>\r\n+                        </div>\r\n \r\n-                            <div class=\"absolute top-3 right-3\">\r\n-                                <div class=\"relative\">\r\n-                                    <button \r\n-                                        class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n-                                        onclick=\"toggleMenu(this)\">\r\n-                                        ⋮\r\n-                                    </button>\r\n-                                    <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n-                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n-                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n-                                        <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n-                                    </div>\r\n+                        <!-- Action Menu (3 Dots) -->\r\n+                        <div class=\"absolute top-3 right-3\">\r\n+                            <div class=\"relative\">\r\n+                                <button \r\n+                                    class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n+                                    onclick=\"toggleMenu(this)\">\r\n+                                    ⋮\r\n+                                </button>\r\n+                                <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n-                    @endforeach\r\n-                </div>\r\n+                    </div>\r\n+                @endforeach\r\n             </div>\r\n-        @empty\r\n-            <div class=\"text-center text-gray-500 py-6\">\r\n-                No activity logs found.\r\n-            </div>\r\n-        @endforelse\r\n+        </div>\r\n+    @empty\r\n+        <div class=\"text-center text-gray-500 py-6\">\r\n+            No activity logs found.\r\n+        </div>\r\n+    @endforelse\r\n \r\n-        @if ($logs->hasPages())\r\n-            <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-                <p class=\"text-white\">\r\n-                    Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-                </p>\r\n-                <div>\r\n-                    {{ $logs->links() }}\r\n-                </div>\r\n+    <!-- Pagination -->\r\n+    @if ($logs->hasPages())\r\n+        <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+            <p class=\"text-white\">\r\n+                Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+            </p>\r\n+            <div>\r\n+                {{ $logs->links() }}\r\n             </div>\r\n-        @endif\r\n-    </div>\r\n+        </div>\r\n+    @endif\r\n </div>\r\n-```\r\n \r\n+    </div>\r\n </div>\r\n \r\n <script>\r\n+    // Toggle menu (3 dots)\r\n     function toggleMenu(button) {\r\n         const menu = button.nextElementSibling;\r\n         document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n             if (el !== menu) el.classList.add('hidden');\r\n@@ -205,8 +211,9 @@\n             document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n         }\r\n     });\r\n \r\n+    // Filtering and Search Logic\r\n     const searchInput = document.getElementById('searchInput');\r\n     const roleFilter = document.getElementById('roleFilter');\r\n     const statusFilter = document.getElementById('statusFilter');\r\n     const dateFrom = document.getElementById('dateFrom');\r\n@@ -229,9 +236,11 @@\n             const date = new Date(item.dataset.date);\r\n \r\n             let visible = true;\r\n \r\n-            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) visible = false;\r\n+            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) {\r\n+                visible = false;\r\n+            }\r\n             if (selectedRole && role !== selectedRole) visible = false;\r\n             if (selectedStatus && status !== selectedStatus) visible = false;\r\n             if (fromDate && date < fromDate) visible = false;\r\n             if (toDate && date > toDate) visible = false;\r\n@@ -251,6 +260,5 @@\n         dateTo.value = '';\r\n         filterLogs();\r\n     });\r\n </script>\r\n-\r\n @endsection\r\n"
                },
                {
                    "date": 1765122987269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,21 +3,19 @@\n @section('content')\r\n @include('layouts.loading-overlay')\r\n \r\n @php\r\n-    use Carbon\\Carbon;\r\n+use Carbon\\Carbon;\r\n \r\n-    // Group logs by date (Today, Yesterday, or exact date)\r\n-    $groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n-        $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-        if ($date->isToday()) {\r\n-            return 'Today';\r\n-        } elseif ($date->isYesterday()) {\r\n-            return 'Yesterday';\r\n-        } else {\r\n-            return $date->format('F d, Y');\r\n-        }\r\n-    });\r\n+```\r\n+$groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n+    $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+    if ($date->isToday()) return 'Today';\r\n+    elseif ($date->isYesterday()) return 'Yesterday';\r\n+    else return $date->format('F d, Y');\r\n+});\r\n+```\r\n+\r\n @endphp\r\n \r\n <div class=\"p-4\">\r\n     <div class=\"bg-mainbg px-6 min-h-screen\">\r\n@@ -28,177 +26,158 @@\n                 <p class=\"text-sm text-gray-600\">Manage, track, and publish important information for SWISA members.</p>\r\n             </div>\r\n         </div>\r\n \r\n-        <!-- Filters & Search -->\r\n-        <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n-            <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n-                <!-- Search Bar -->\r\n-                <div class=\"flex items-center w-full sm:w-1/3\">\r\n-                    <input \r\n-                        id=\"searchInput\"\r\n-                        type=\"text\"\r\n-                        placeholder=\"Search by user, activity...\"\r\n-                        class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n-                </div>\r\n+```\r\n+    <!-- Filters & Search -->\r\n+    <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n+        <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n+            <div class=\"flex items-center w-full sm:w-1/3\">\r\n+                <input \r\n+                    id=\"searchInput\"\r\n+                    type=\"text\"\r\n+                    placeholder=\"Search by user, activity...\"\r\n+                    class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n+            </div>\r\n \r\n-                <!-- Filters -->\r\n-                <div class=\"flex flex-wrap gap-2\">\r\n-                    <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                        <option value=\"\">All Roles</option>\r\n-                        <option value=\"Admin\">Admin</option>\r\n-                        <option value=\"Member\">SWISA Member</option>\r\n-                        <option value=\"Support Staff\">Support Staff</option>\r\n-                    </select>\r\n+            <div class=\"flex flex-wrap gap-2\">\r\n+                <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <option value=\"\">All Roles</option>\r\n+                    <option value=\"Admin\">Admin</option>\r\n+                    <option value=\"Member\">SWISA Member</option>\r\n+                    <option value=\"Support Staff\">Support Staff</option>\r\n+                </select>\r\n \r\n-                    <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                        <option value=\"\">All Status</option>\r\n-                        <option value=\"success\">Successful</option>\r\n-                        <option value=\"failed\">Failed</option>\r\n-                        <option value=\"pending\">Pending</option>\r\n-                    </select>\r\n+                <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <option value=\"\">All Status</option>\r\n+                    <option value=\"success\">Successful</option>\r\n+                    <option value=\"failed\">Failed</option>\r\n+                    <option value=\"pending\">Pending</option>\r\n+                </select>\r\n \r\n-                    <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                    <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n \r\n-                    <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n-\r\n-                    <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n-                </div>\r\n+                <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n+                <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n             </div>\r\n         </div>\r\n+    </div>\r\n \r\n-        <!-- Activity Timeline -->\r\n-<div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n-    @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n-        <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n-            <!-- Date Header -->\r\n-            <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n-                {{ $dateLabel }}\r\n-            </h3>\r\n+    <!-- Activity Timeline -->\r\n+    <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+        @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+            <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+                <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n+                    {{ $dateLabel }}\r\n+                </h3>\r\n \r\n-            <div class=\"space-y-4\">\r\n-                @foreach ($logsForDate as $log)\r\n-                    @php\r\n-                        $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-                        $activity = strtolower($log->activity ?? '');\r\n-                        $activityClass = 'bg-gray-100 text-gray-700';\r\n-                        if (str_contains($activity, 'attempt')) {\r\n-                            $activityClass = 'bg-red-100 text-red-700';\r\n-                        } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n-                            $activityClass = 'bg-green-100 text-green-700';\r\n-                        } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n-                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                        } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n-                            $activityClass = 'bg-blue-100 text-blue-700';\r\n-                        } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n-                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                        } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n-                            $activityClass = 'bg-red-100 text-red-700';\r\n-                        }\r\n+                <div class=\"space-y-4\">\r\n+                    @foreach ($logsForDate as $log)\r\n+                        @php\r\n+                            $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                            $activity = strtolower($log->activity ?? '');\r\n+                            $activityClass = 'bg-gray-100 text-gray-700';\r\n \r\n-                        $statusColor = match($log->status) {\r\n-                            'success' => 'text-green-600 font-medium',\r\n-                            'failed' => 'text-red-600 font-medium',\r\n-                            'pending' => 'text-yellow-600 font-medium',\r\n-                            default => 'text-gray-600'\r\n-                        };\r\n+                            if (str_contains($activity, 'contribution')) $activityClass = 'bg-orange-100 text-orange-700';\r\n+                            elseif (str_contains($activity, 'training attending')) $activityClass = 'bg-blue-100 text-blue-700';\r\n+                            elseif (str_contains($activity, 'grant application')) $activityClass = 'bg-green-100 text-green-700';\r\n+                            elseif (str_contains($activity, 'attempt')) $activityClass = 'bg-red-100 text-red-700';\r\n+                            elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) $activityClass = 'bg-green-100 text-green-700';\r\n+                            elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                            elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) $activityClass = 'bg-blue-100 text-blue-700';\r\n+                            elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                            elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) $activityClass = 'bg-red-100 text-red-700';\r\n \r\n-                        $role = $log->role ?? 'N/A';\r\n-                        $role = ucwords(str_replace('_', ' ', $role));\r\n+                            $statusColor = match($log->status) {\r\n+                                'success' => 'text-green-600 font-medium',\r\n+                                'failed' => 'text-red-600 font-medium',\r\n+                                'pending' => 'text-yellow-600 font-medium',\r\n+                                default => 'text-gray-600'\r\n+                            };\r\n \r\n-                        // Parse details if JSON\r\n-                        $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n-                        $device = $details['Device'] ?? null;\r\n-                    @endphp\r\n+                            $role = $log->role ?? 'N/A';\r\n+                            $role = ucwords(str_replace('_', ' ', $role));\r\n \r\n-                    <div \r\n-                        class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n-                        data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n-                        data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n-                        data-role=\"{{ strtolower($role) }}\"\r\n-                        data-status=\"{{ strtolower($log->status) }}\"\r\n-                        data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n-                    >\r\n-                        <!-- Time -->\r\n-                        <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n-                            {{ $timestamp->format('h:i A') }}\r\n-                        </div>\r\n+                            $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n \r\n-                        <!-- Content -->\r\n-                        <div class=\"flex-1\">\r\n-                            <div class=\"flex flex-col\">\r\n-                                <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n-                                    <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n-                                    <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n-                                    performed\r\n-                                    <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n-                                        {{ $log->activity }}\r\n-                                    </span>\r\n-                                </span>\r\n+                            if(isset($log->user) && $log->user && $log->user->user_info) {\r\n+                                $log->user_name = $log->user->user_info->name ?? 'Unknown User';\r\n+                            }\r\n+                        @endphp\r\n \r\n-                                <div class=\"text-xs text-gray-500 mt-1\">\r\n-                                    IP: {{ $log->ip_address ?? '—' }} • \r\n-                                    <span class=\"{{ $statusColor }}\">\r\n-                                        {{ ucfirst($log->status) }}\r\n+                        <div \r\n+                            class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                            data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n+                            data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n+                            data-role=\"{{ strtolower($role) }}\"\r\n+                            data-status=\"{{ strtolower($log->status) }}\"\r\n+                            data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                        >\r\n+                            <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n+                                {{ $timestamp->format('h:i A') }}\r\n+                            </div>\r\n+\r\n+                            <div class=\"flex-1\">\r\n+                                <div class=\"flex flex-col\">\r\n+                                    <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n+                                        <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n+                                        <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n+                                        performed\r\n+                                        <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                            {{ $log->activity }}\r\n+                                        </span>\r\n                                     </span>\r\n-                                </div>\r\n \r\n-                                @if(!empty($details))\r\n-                                    <div class=\"text-xs text-gray-400 mt-1\">\r\n-                                        @if($device)\r\n-                                            <strong>Device:</strong> {{ $device }}\r\n-                                        @else\r\n+                                    @if(!empty($details))\r\n+                                        <div class=\"text-xs text-gray-400 mt-1\">\r\n                                             <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n-                                        @endif\r\n-                                    </div>\r\n-                                @endif\r\n+                                        </div>\r\n+                                    @endif\r\n+                                </div>\r\n                             </div>\r\n-                        </div>\r\n \r\n-                        <!-- Action Menu (3 Dots) -->\r\n-                        <div class=\"absolute top-3 right-3\">\r\n-                            <div class=\"relative\">\r\n-                                <button \r\n-                                    class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n-                                    onclick=\"toggleMenu(this)\">\r\n-                                    ⋮\r\n-                                </button>\r\n-                                <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n+                            <div class=\"absolute top-3 right-3\">\r\n+                                <div class=\"relative\">\r\n+                                    <button \r\n+                                        class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n+                                        onclick=\"toggleMenu(this)\">\r\n+                                        ⋮\r\n+                                    </button>\r\n+                                    <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n+                                    </div>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n-                    </div>\r\n-                @endforeach\r\n+                    @endforeach\r\n+                </div>\r\n             </div>\r\n-        </div>\r\n-    @empty\r\n-        <div class=\"text-center text-gray-500 py-6\">\r\n-            No activity logs found.\r\n-        </div>\r\n-    @endforelse\r\n+        @empty\r\n+            <div class=\"text-center text-gray-500 py-6\">\r\n+                No activity logs found.\r\n+            </div>\r\n+        @endforelse\r\n \r\n-    <!-- Pagination -->\r\n-    @if ($logs->hasPages())\r\n-        <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-            <p class=\"text-white\">\r\n-                Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-            </p>\r\n-            <div>\r\n-                {{ $logs->links() }}\r\n+        @if ($logs->hasPages())\r\n+            <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+                <p class=\"text-white\">\r\n+                    Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+                </p>\r\n+                <div>\r\n+                    {{ $logs->links() }}\r\n+                </div>\r\n             </div>\r\n-        </div>\r\n-    @endif\r\n+        @endif\r\n+    </div>\r\n </div>\r\n+```\r\n \r\n-    </div>\r\n </div>\r\n \r\n <script>\r\n-    // Toggle menu (3 dots)\r\n     function toggleMenu(button) {\r\n         const menu = button.nextElementSibling;\r\n         document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n             if (el !== menu) el.classList.add('hidden');\r\n@@ -211,9 +190,8 @@\n             document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n         }\r\n     });\r\n \r\n-    // Filtering and Search Logic\r\n     const searchInput = document.getElementById('searchInput');\r\n     const roleFilter = document.getElementById('roleFilter');\r\n     const statusFilter = document.getElementById('statusFilter');\r\n     const dateFrom = document.getElementById('dateFrom');\r\n@@ -235,12 +213,9 @@\n             const status = item.dataset.status;\r\n             const date = new Date(item.dataset.date);\r\n \r\n             let visible = true;\r\n-\r\n-            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) {\r\n-                visible = false;\r\n-            }\r\n+            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) visible = false;\r\n             if (selectedRole && role !== selectedRole) visible = false;\r\n             if (selectedStatus && status !== selectedStatus) visible = false;\r\n             if (fromDate && date < fromDate) visible = false;\r\n             if (toDate && date > toDate) visible = false;\r\n@@ -260,5 +235,6 @@\n         dateTo.value = '';\r\n         filterLogs();\r\n     });\r\n </script>\r\n+\r\n @endsection\r\n"
                },
                {
                    "date": 1765123012054,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,16 +5,14 @@\n \r\n @php\r\n use Carbon\\Carbon;\r\n \r\n-```\r\n $groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n     $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n     if ($date->isToday()) return 'Today';\r\n     elseif ($date->isYesterday()) return 'Yesterday';\r\n     else return $date->format('F d, Y');\r\n });\r\n-```\r\n \r\n @endphp\r\n \r\n <div class=\"p-4\">\r\n"
                },
                {
                    "date": 1765123026452,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,17 +3,21 @@\n @section('content')\r\n @include('layouts.loading-overlay')\r\n \r\n @php\r\n-use Carbon\\Carbon;\r\n+    use Carbon\\Carbon;\r\n \r\n-$groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n-    $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-    if ($date->isToday()) return 'Today';\r\n-    elseif ($date->isYesterday()) return 'Yesterday';\r\n-    else return $date->format('F d, Y');\r\n-});\r\n-\r\n+    // Group logs by date (Today, Yesterday, or exact date)\r\n+    $groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n+        $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+        if ($date->isToday()) {\r\n+            return 'Today';\r\n+        } elseif ($date->isYesterday()) {\r\n+            return 'Yesterday';\r\n+        } else {\r\n+            return $date->format('F d, Y');\r\n+        }\r\n+    });\r\n @endphp\r\n \r\n <div class=\"p-4\">\r\n     <div class=\"bg-mainbg px-6 min-h-screen\">\r\n@@ -24,158 +28,177 @@\n                 <p class=\"text-sm text-gray-600\">Manage, track, and publish important information for SWISA members.</p>\r\n             </div>\r\n         </div>\r\n \r\n-```\r\n-    <!-- Filters & Search -->\r\n-    <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n-        <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n-            <div class=\"flex items-center w-full sm:w-1/3\">\r\n-                <input \r\n-                    id=\"searchInput\"\r\n-                    type=\"text\"\r\n-                    placeholder=\"Search by user, activity...\"\r\n-                    class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n-            </div>\r\n+        <!-- Filters & Search -->\r\n+        <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n+            <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n+                <!-- Search Bar -->\r\n+                <div class=\"flex items-center w-full sm:w-1/3\">\r\n+                    <input \r\n+                        id=\"searchInput\"\r\n+                        type=\"text\"\r\n+                        placeholder=\"Search by user, activity...\"\r\n+                        class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n+                </div>\r\n \r\n-            <div class=\"flex flex-wrap gap-2\">\r\n-                <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                    <option value=\"\">All Roles</option>\r\n-                    <option value=\"Admin\">Admin</option>\r\n-                    <option value=\"Member\">SWISA Member</option>\r\n-                    <option value=\"Support Staff\">Support Staff</option>\r\n-                </select>\r\n+                <!-- Filters -->\r\n+                <div class=\"flex flex-wrap gap-2\">\r\n+                    <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                        <option value=\"\">All Roles</option>\r\n+                        <option value=\"Admin\">Admin</option>\r\n+                        <option value=\"Member\">SWISA Member</option>\r\n+                        <option value=\"Support Staff\">Support Staff</option>\r\n+                    </select>\r\n \r\n-                <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                    <option value=\"\">All Status</option>\r\n-                    <option value=\"success\">Successful</option>\r\n-                    <option value=\"failed\">Failed</option>\r\n-                    <option value=\"pending\">Pending</option>\r\n-                </select>\r\n+                    <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                        <option value=\"\">All Status</option>\r\n+                        <option value=\"success\">Successful</option>\r\n+                        <option value=\"failed\">Failed</option>\r\n+                        <option value=\"pending\">Pending</option>\r\n+                    </select>\r\n \r\n-                <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n \r\n-                <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n-                <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n+                    <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n+\r\n+                    <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n+                </div>\r\n             </div>\r\n         </div>\r\n-    </div>\r\n \r\n-    <!-- Activity Timeline -->\r\n-    <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n-        @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n-            <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n-                <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n-                    {{ $dateLabel }}\r\n-                </h3>\r\n+        <!-- Activity Timeline -->\r\n+<div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+    @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+        <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+            <!-- Date Header -->\r\n+            <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n+                {{ $dateLabel }}\r\n+            </h3>\r\n \r\n-                <div class=\"space-y-4\">\r\n-                    @foreach ($logsForDate as $log)\r\n-                        @php\r\n-                            $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-                            $activity = strtolower($log->activity ?? '');\r\n-                            $activityClass = 'bg-gray-100 text-gray-700';\r\n+            <div class=\"space-y-4\">\r\n+                @foreach ($logsForDate as $log)\r\n+                    @php\r\n+                        $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                        $activity = strtolower($log->activity ?? '');\r\n+                        $activityClass = 'bg-gray-100 text-gray-700';\r\n+                        if (str_contains($activity, 'attempt')) {\r\n+                            $activityClass = 'bg-red-100 text-red-700';\r\n+                        } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n+                            $activityClass = 'bg-green-100 text-green-700';\r\n+                        } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n+                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                        } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n+                            $activityClass = 'bg-blue-100 text-blue-700';\r\n+                        } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n+                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                        } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n+                            $activityClass = 'bg-red-100 text-red-700';\r\n+                        }\r\n \r\n-                            if (str_contains($activity, 'contribution')) $activityClass = 'bg-orange-100 text-orange-700';\r\n-                            elseif (str_contains($activity, 'training attending')) $activityClass = 'bg-blue-100 text-blue-700';\r\n-                            elseif (str_contains($activity, 'grant application')) $activityClass = 'bg-green-100 text-green-700';\r\n-                            elseif (str_contains($activity, 'attempt')) $activityClass = 'bg-red-100 text-red-700';\r\n-                            elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) $activityClass = 'bg-green-100 text-green-700';\r\n-                            elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                            elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) $activityClass = 'bg-blue-100 text-blue-700';\r\n-                            elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                            elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) $activityClass = 'bg-red-100 text-red-700';\r\n+                        $statusColor = match($log->status) {\r\n+                            'success' => 'text-green-600 font-medium',\r\n+                            'failed' => 'text-red-600 font-medium',\r\n+                            'pending' => 'text-yellow-600 font-medium',\r\n+                            default => 'text-gray-600'\r\n+                        };\r\n \r\n-                            $statusColor = match($log->status) {\r\n-                                'success' => 'text-green-600 font-medium',\r\n-                                'failed' => 'text-red-600 font-medium',\r\n-                                'pending' => 'text-yellow-600 font-medium',\r\n-                                default => 'text-gray-600'\r\n-                            };\r\n+                        $role = $log->role ?? 'N/A';\r\n+                        $role = ucwords(str_replace('_', ' ', $role));\r\n \r\n-                            $role = $log->role ?? 'N/A';\r\n-                            $role = ucwords(str_replace('_', ' ', $role));\r\n+                        // Parse details if JSON\r\n+                        $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n+                        $device = $details['Device'] ?? null;\r\n+                    @endphp\r\n \r\n-                            $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n+                    <div \r\n+                        class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                        data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n+                        data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n+                        data-role=\"{{ strtolower($role) }}\"\r\n+                        data-status=\"{{ strtolower($log->status) }}\"\r\n+                        data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                    >\r\n+                        <!-- Time -->\r\n+                        <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n+                            {{ $timestamp->format('h:i A') }}\r\n+                        </div>\r\n \r\n-                            if(isset($log->user) && $log->user && $log->user->user_info) {\r\n-                                $log->user_name = $log->user->user_info->name ?? 'Unknown User';\r\n-                            }\r\n-                        @endphp\r\n+                        <!-- Content -->\r\n+                        <div class=\"flex-1\">\r\n+                            <div class=\"flex flex-col\">\r\n+                                <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n+                                    <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n+                                    <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n+                                    performed\r\n+                                    <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                        {{ $log->activity }}\r\n+                                    </span>\r\n+                                </span>\r\n \r\n-                        <div \r\n-                            class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n-                            data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n-                            data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n-                            data-role=\"{{ strtolower($role) }}\"\r\n-                            data-status=\"{{ strtolower($log->status) }}\"\r\n-                            data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n-                        >\r\n-                            <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n-                                {{ $timestamp->format('h:i A') }}\r\n-                            </div>\r\n-\r\n-                            <div class=\"flex-1\">\r\n-                                <div class=\"flex flex-col\">\r\n-                                    <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n-                                        <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n-                                        <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n-                                        performed\r\n-                                        <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n-                                            {{ $log->activity }}\r\n-                                        </span>\r\n+                                <div class=\"text-xs text-gray-500 mt-1\">\r\n+                                    IP: {{ $log->ip_address ?? '—' }} • \r\n+                                    <span class=\"{{ $statusColor }}\">\r\n+                                        {{ ucfirst($log->status) }}\r\n                                     </span>\r\n+                                </div>\r\n \r\n-                                    @if(!empty($details))\r\n-                                        <div class=\"text-xs text-gray-400 mt-1\">\r\n+                                @if(!empty($details))\r\n+                                    <div class=\"text-xs text-gray-400 mt-1\">\r\n+                                        @if($device)\r\n+                                            <strong>Device:</strong> {{ $device }}\r\n+                                        @else\r\n                                             <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n-                                        </div>\r\n-                                    @endif\r\n-                                </div>\r\n+                                        @endif\r\n+                                    </div>\r\n+                                @endif\r\n                             </div>\r\n+                        </div>\r\n \r\n-                            <div class=\"absolute top-3 right-3\">\r\n-                                <div class=\"relative\">\r\n-                                    <button \r\n-                                        class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n-                                        onclick=\"toggleMenu(this)\">\r\n-                                        ⋮\r\n-                                    </button>\r\n-                                    <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n-                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n-                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n-                                        <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n-                                    </div>\r\n+                        <!-- Action Menu (3 Dots) -->\r\n+                        <div class=\"absolute top-3 right-3\">\r\n+                            <div class=\"relative\">\r\n+                                <button \r\n+                                    class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n+                                    onclick=\"toggleMenu(this)\">\r\n+                                    ⋮\r\n+                                </button>\r\n+                                <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                    <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n-                    @endforeach\r\n-                </div>\r\n+                    </div>\r\n+                @endforeach\r\n             </div>\r\n-        @empty\r\n-            <div class=\"text-center text-gray-500 py-6\">\r\n-                No activity logs found.\r\n-            </div>\r\n-        @endforelse\r\n+        </div>\r\n+    @empty\r\n+        <div class=\"text-center text-gray-500 py-6\">\r\n+            No activity logs found.\r\n+        </div>\r\n+    @endforelse\r\n \r\n-        @if ($logs->hasPages())\r\n-            <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-                <p class=\"text-white\">\r\n-                    Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-                </p>\r\n-                <div>\r\n-                    {{ $logs->links() }}\r\n-                </div>\r\n+    <!-- Pagination -->\r\n+    @if ($logs->hasPages())\r\n+        <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+            <p class=\"text-white\">\r\n+                Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+            </p>\r\n+            <div>\r\n+                {{ $logs->links() }}\r\n             </div>\r\n-        @endif\r\n-    </div>\r\n+        </div>\r\n+    @endif\r\n </div>\r\n-```\r\n \r\n+    </div>\r\n </div>\r\n \r\n <script>\r\n+    // Toggle menu (3 dots)\r\n     function toggleMenu(button) {\r\n         const menu = button.nextElementSibling;\r\n         document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n             if (el !== menu) el.classList.add('hidden');\r\n@@ -188,8 +211,9 @@\n             document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n         }\r\n     });\r\n \r\n+    // Filtering and Search Logic\r\n     const searchInput = document.getElementById('searchInput');\r\n     const roleFilter = document.getElementById('roleFilter');\r\n     const statusFilter = document.getElementById('statusFilter');\r\n     const dateFrom = document.getElementById('dateFrom');\r\n@@ -211,9 +235,12 @@\n             const status = item.dataset.status;\r\n             const date = new Date(item.dataset.date);\r\n \r\n             let visible = true;\r\n-            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) visible = false;\r\n+\r\n+            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) {\r\n+                visible = false;\r\n+            }\r\n             if (selectedRole && role !== selectedRole) visible = false;\r\n             if (selectedStatus && status !== selectedStatus) visible = false;\r\n             if (fromDate && date < fromDate) visible = false;\r\n             if (toDate && date > toDate) visible = false;\r\n@@ -233,6 +260,5 @@\n         dateTo.value = '';\r\n         filterLogs();\r\n     });\r\n </script>\r\n-\r\n @endsection\r\n"
                },
                {
                    "date": 1765123165751,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,21 +3,24 @@\n @section('content')\r\n @include('layouts.loading-overlay')\r\n \r\n @php\r\n-    use Carbon\\Carbon;\r\n+use Carbon\\Carbon;\r\n \r\n-    // Group logs by date (Today, Yesterday, or exact date)\r\n-    $groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n-        $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-        if ($date->isToday()) {\r\n-            return 'Today';\r\n-        } elseif ($date->isYesterday()) {\r\n-            return 'Yesterday';\r\n-        } else {\r\n-            return $date->format('F d, Y');\r\n-        }\r\n-    });\r\n+```\r\n+// Group logs by date (Today, Yesterday, or exact date)\r\n+$groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n+    $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+    if ($date->isToday()) {\r\n+        return 'Today';\r\n+    } elseif ($date->isYesterday()) {\r\n+        return 'Yesterday';\r\n+    } else {\r\n+        return $date->format('F d, Y');\r\n+    }\r\n+});\r\n+```\r\n+\r\n @endphp\r\n \r\n <div class=\"p-4\">\r\n     <div class=\"bg-mainbg px-6 min-h-screen\">\r\n@@ -28,177 +31,186 @@\n                 <p class=\"text-sm text-gray-600\">Manage, track, and publish important information for SWISA members.</p>\r\n             </div>\r\n         </div>\r\n \r\n-        <!-- Filters & Search -->\r\n-        <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n-            <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n-                <!-- Search Bar -->\r\n-                <div class=\"flex items-center w-full sm:w-1/3\">\r\n-                    <input \r\n-                        id=\"searchInput\"\r\n-                        type=\"text\"\r\n-                        placeholder=\"Search by user, activity...\"\r\n-                        class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n-                </div>\r\n+```\r\n+    <!-- Filters & Search -->\r\n+    <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n+        <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n+            <div class=\"flex items-center w-full sm:w-1/3\">\r\n+                <input \r\n+                    id=\"searchInput\"\r\n+                    type=\"text\"\r\n+                    placeholder=\"Search by user, activity...\"\r\n+                    class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n+            </div>\r\n \r\n-                <!-- Filters -->\r\n-                <div class=\"flex flex-wrap gap-2\">\r\n-                    <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                        <option value=\"\">All Roles</option>\r\n-                        <option value=\"Admin\">Admin</option>\r\n-                        <option value=\"Member\">SWISA Member</option>\r\n-                        <option value=\"Support Staff\">Support Staff</option>\r\n-                    </select>\r\n+            <div class=\"flex flex-wrap gap-2\">\r\n+                <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <option value=\"\">All Roles</option>\r\n+                    <option value=\"Admin\">Admin</option>\r\n+                    <option value=\"Member\">SWISA Member</option>\r\n+                    <option value=\"Support Staff\">Support Staff</option>\r\n+                </select>\r\n \r\n-                    <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                        <option value=\"\">All Status</option>\r\n-                        <option value=\"success\">Successful</option>\r\n-                        <option value=\"failed\">Failed</option>\r\n-                        <option value=\"pending\">Pending</option>\r\n-                    </select>\r\n+                <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <option value=\"\">All Status</option>\r\n+                    <option value=\"success\">Successful</option>\r\n+                    <option value=\"failed\">Failed</option>\r\n+                    <option value=\"pending\">Pending</option>\r\n+                </select>\r\n \r\n-                    <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n-                    <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n \r\n-                    <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n+                <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n \r\n-                    <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n-                </div>\r\n+                <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n             </div>\r\n         </div>\r\n+    </div>\r\n \r\n-        <!-- Activity Timeline -->\r\n-<div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n-    @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n-        <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n-            <!-- Date Header -->\r\n-            <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n-                {{ $dateLabel }}\r\n-            </h3>\r\n+    <!-- Activity Timeline -->\r\n+    <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+        @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+            <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+                <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n+                    {{ $dateLabel }}\r\n+                </h3>\r\n \r\n-            <div class=\"space-y-4\">\r\n-                @foreach ($logsForDate as $log)\r\n-                    @php\r\n-                        $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n-                        $activity = strtolower($log->activity ?? '');\r\n-                        $activityClass = 'bg-gray-100 text-gray-700';\r\n-                        if (str_contains($activity, 'attempt')) {\r\n-                            $activityClass = 'bg-red-100 text-red-700';\r\n-                        } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n-                            $activityClass = 'bg-green-100 text-green-700';\r\n-                        } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n-                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                        } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n-                            $activityClass = 'bg-blue-100 text-blue-700';\r\n-                        } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n-                            $activityClass = 'bg-yellow-100 text-yellow-700';\r\n-                        } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n-                            $activityClass = 'bg-red-100 text-red-700';\r\n-                        }\r\n+                <div class=\"space-y-4\">\r\n+                    @foreach ($logsForDate as $log)\r\n+                        @php\r\n+                            $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                            $activity = strtolower($log->activity ?? '');\r\n+                            \r\n+                            // Default activity color\r\n+                            $activityClass = 'bg-gray-100 text-gray-700';\r\n \r\n-                        $statusColor = match($log->status) {\r\n-                            'success' => 'text-green-600 font-medium',\r\n-                            'failed' => 'text-red-600 font-medium',\r\n-                            'pending' => 'text-yellow-600 font-medium',\r\n-                            default => 'text-gray-600'\r\n-                        };\r\n+                            // Custom activity colors\r\n+                            if (str_contains($activity, 'contribution')) {\r\n+                                $activityClass = 'bg-orange-100 text-orange-700';\r\n+                            } elseif (str_contains($activity, 'training attending')) {\r\n+                                $activityClass = 'bg-blue-100 text-blue-700';\r\n+                            } elseif (str_contains($activity, 'grant application')) {\r\n+                                $activityClass = 'bg-green-100 text-green-700';\r\n+                            }\r\n+                            // Other standard actions\r\n+                            elseif (str_contains($activity, 'attempt')) {\r\n+                                $activityClass = 'bg-red-100 text-red-700';\r\n+                            } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n+                                $activityClass = 'bg-green-100 text-green-700';\r\n+                            } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n+                                $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                            } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n+                                $activityClass = 'bg-blue-100 text-blue-700';\r\n+                            } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n+                                $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                            } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n+                                $activityClass = 'bg-red-100 text-red-700';\r\n+                            }\r\n \r\n-                        $role = $log->role ?? 'N/A';\r\n-                        $role = ucwords(str_replace('_', ' ', $role));\r\n+                            $statusColor = match($log->status) {\r\n+                                'success' => 'text-green-600 font-medium',\r\n+                                'failed' => 'text-red-600 font-medium',\r\n+                                'pending' => 'text-yellow-600 font-medium',\r\n+                                default => 'text-gray-600'\r\n+                            };\r\n \r\n-                        // Parse details if JSON\r\n-                        $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n-                        $device = $details['Device'] ?? null;\r\n-                    @endphp\r\n+                            $role = $log->role ?? 'N/A';\r\n+                            $role = ucwords(str_replace('_', ' ', $role));\r\n \r\n-                    <div \r\n-                        class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n-                        data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n-                        data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n-                        data-role=\"{{ strtolower($role) }}\"\r\n-                        data-status=\"{{ strtolower($log->status) }}\"\r\n-                        data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n-                    >\r\n-                        <!-- Time -->\r\n-                        <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n-                            {{ $timestamp->format('h:i A') }}\r\n-                        </div>\r\n+                            $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n+                            $device = $details['Device'] ?? null;\r\n \r\n-                        <!-- Content -->\r\n-                        <div class=\"flex-1\">\r\n-                            <div class=\"flex flex-col\">\r\n-                                <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n-                                    <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n-                                    <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n-                                    performed\r\n-                                    <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n-                                        {{ $log->activity }}\r\n-                                    </span>\r\n-                                </span>\r\n+                            if(isset($log->user) && $log->user && $log->user->user_info) {\r\n+                                $log->user_name = $log->user->user_info->name ?? 'Unknown User';\r\n+                            }\r\n+                        @endphp\r\n \r\n-                                <div class=\"text-xs text-gray-500 mt-1\">\r\n-                                    IP: {{ $log->ip_address ?? '—' }} • \r\n-                                    <span class=\"{{ $statusColor }}\">\r\n-                                        {{ ucfirst($log->status) }}\r\n+                        <div \r\n+                            class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                            data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n+                            data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n+                            data-role=\"{{ strtolower($role) }}\"\r\n+                            data-status=\"{{ strtolower($log->status) }}\"\r\n+                            data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                        >\r\n+                            <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n+                                {{ $timestamp->format('h:i A') }}\r\n+                            </div>\r\n+\r\n+                            <div class=\"flex-1\">\r\n+                                <div class=\"flex flex-col\">\r\n+                                    <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n+                                        <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n+                                        <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n+                                        performed\r\n+                                        <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                            {{ $log->activity }}\r\n+                                        </span>\r\n                                     </span>\r\n-                                </div>\r\n \r\n-                                @if(!empty($details))\r\n-                                    <div class=\"text-xs text-gray-400 mt-1\">\r\n-                                        @if($device)\r\n-                                            <strong>Device:</strong> {{ $device }}\r\n-                                        @else\r\n-                                            <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n-                                        @endif\r\n+                                    <div class=\"text-xs text-gray-500 mt-1\">\r\n+                                        IP: {{ $log->ip_address ?? '—' }} • \r\n+                                        <span class=\"{{ $statusColor }}\">\r\n+                                            {{ ucfirst($log->status) }}\r\n+                                        </span>\r\n                                     </div>\r\n-                                @endif\r\n+\r\n+                                    @if(!empty($details))\r\n+                                        <div class=\"text-xs text-gray-400 mt-1\">\r\n+                                            @if($device)\r\n+                                                <strong>Device:</strong> {{ $device }}\r\n+                                            @else\r\n+                                                <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n+                                            @endif\r\n+                                        </div>\r\n+                                    @endif\r\n+                                </div>\r\n                             </div>\r\n-                        </div>\r\n \r\n-                        <!-- Action Menu (3 Dots) -->\r\n-                        <div class=\"absolute top-3 right-3\">\r\n-                            <div class=\"relative\">\r\n-                                <button \r\n-                                    class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n-                                    onclick=\"toggleMenu(this)\">\r\n-                                    ⋮\r\n-                                </button>\r\n-                                <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n-                                    <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n+                            <div class=\"absolute top-3 right-3\">\r\n+                                <div class=\"relative\">\r\n+                                    <button \r\n+                                        class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n+                                        onclick=\"toggleMenu(this)\">\r\n+                                        ⋮\r\n+                                    </button>\r\n+                                    <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n+                                    </div>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n-                    </div>\r\n-                @endforeach\r\n+                    @endforeach\r\n+                </div>\r\n             </div>\r\n-        </div>\r\n-    @empty\r\n-        <div class=\"text-center text-gray-500 py-6\">\r\n-            No activity logs found.\r\n-        </div>\r\n-    @endforelse\r\n+        @empty\r\n+            <div class=\"text-center text-gray-500 py-6\">\r\n+                No activity logs found.\r\n+            </div>\r\n+        @endforelse\r\n \r\n-    <!-- Pagination -->\r\n-    @if ($logs->hasPages())\r\n-        <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n-            <p class=\"text-white\">\r\n-                Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n-            </p>\r\n-            <div>\r\n-                {{ $logs->links() }}\r\n+        @if ($logs->hasPages())\r\n+            <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+                <p class=\"text-white\">\r\n+                    Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+                </p>\r\n+                <div>\r\n+                    {{ $logs->links() }}\r\n+                </div>\r\n             </div>\r\n-        </div>\r\n-    @endif\r\n+        @endif\r\n+    </div>\r\n </div>\r\n+```\r\n \r\n-    </div>\r\n </div>\r\n \r\n <script>\r\n-    // Toggle menu (3 dots)\r\n     function toggleMenu(button) {\r\n         const menu = button.nextElementSibling;\r\n         document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n             if (el !== menu) el.classList.add('hidden');\r\n@@ -211,9 +223,8 @@\n             document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n         }\r\n     });\r\n \r\n-    // Filtering and Search Logic\r\n     const searchInput = document.getElementById('searchInput');\r\n     const roleFilter = document.getElementById('roleFilter');\r\n     const statusFilter = document.getElementById('statusFilter');\r\n     const dateFrom = document.getElementById('dateFrom');\r\n@@ -236,11 +247,9 @@\n             const date = new Date(item.dataset.date);\r\n \r\n             let visible = true;\r\n \r\n-            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) {\r\n-                visible = false;\r\n-            }\r\n+            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) visible = false;\r\n             if (selectedRole && role !== selectedRole) visible = false;\r\n             if (selectedStatus && status !== selectedStatus) visible = false;\r\n             if (fromDate && date < fromDate) visible = false;\r\n             if (toDate && date > toDate) visible = false;\r\n@@ -260,5 +269,6 @@\n         dateTo.value = '';\r\n         filterLogs();\r\n     });\r\n </script>\r\n+\r\n @endsection\r\n"
                },
                {
                    "date": 1765123182925,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,10 +4,8 @@\n @include('layouts.loading-overlay')\r\n \r\n @php\r\n use Carbon\\Carbon;\r\n-\r\n-```\r\n // Group logs by date (Today, Yesterday, or exact date)\r\n $groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n     $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n     if ($date->isToday()) {\r\n@@ -17,10 +15,8 @@\n     } else {\r\n         return $date->format('F d, Y');\r\n     }\r\n });\r\n-```\r\n-\r\n @endphp\r\n \r\n <div class=\"p-4\">\r\n     <div class=\"bg-mainbg px-6 min-h-screen\">\r\n"
                },
                {
                    "date": 1765123403205,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,270 @@\n+@extends('layouts.app')\r\n+\r\n+@section('content')\r\n+@include('layouts.loading-overlay')\r\n+\r\n+@php\r\n+use Carbon\\Carbon;\r\n+// Group logs by date (Today, Yesterday, or exact date)\r\n+$groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n+    $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+    if ($date->isToday()) {\r\n+        return 'Today';\r\n+    } elseif ($date->isYesterday()) {\r\n+        return 'Yesterday';\r\n+    } else {\r\n+        return $date->format('F d, Y');\r\n+    }\r\n+});\r\n+@endphp\r\n+\r\n+<div class=\"p-4\">\r\n+    <div class=\"bg-mainbg px-6 min-h-screen\">\r\n+        <!-- Page Header -->\r\n+        <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-3\">\r\n+            <div class=\"text-customIT flex flex-col\">\r\n+                <h2 class=\"text-[20px] sm:text-[25px] font-bold text-custom\">Activity Logs</h2>\r\n+                <p class=\"text-sm text-gray-600\">Manage, track, and publish important information for SWISA members.</p>\r\n+            </div>\r\n+        </div>\r\n+\r\n+```\r\n+    <!-- Filters & Search -->\r\n+    <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n+        <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n+            <div class=\"flex items-center w-full sm:w-1/3\">\r\n+                <input \r\n+                    id=\"searchInput\"\r\n+                    type=\"text\"\r\n+                    placeholder=\"Search by user, activity...\"\r\n+                    class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n+            </div>\r\n+\r\n+            <div class=\"flex flex-wrap gap-2\">\r\n+                <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <option value=\"\">All Roles</option>\r\n+                    <option value=\"Admin\">Admin</option>\r\n+                    <option value=\"Member\">SWISA Member</option>\r\n+                    <option value=\"Support Staff\">Support Staff</option>\r\n+                </select>\r\n+\r\n+                <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                    <option value=\"\">All Status</option>\r\n+                    <option value=\"success\">Successful</option>\r\n+                    <option value=\"failed\">Failed</option>\r\n+                    <option value=\"pending\">Pending</option>\r\n+                </select>\r\n+\r\n+                <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+                <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n+\r\n+                <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n+\r\n+                <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n+            </div>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- Activity Timeline -->\r\n+    <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n+        @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n+            <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n+                <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n+                    {{ $dateLabel }}\r\n+                </h3>\r\n+\r\n+                <div class=\"space-y-4\">\r\n+                    @foreach ($logsForDate as $log)\r\n+                        @php\r\n+                            $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n+                            $activity = strtolower($log->activity ?? '');\r\n+                            \r\n+                            // Default activity color\r\n+                            $activityClass = 'bg-gray-100 text-gray-700';\r\n+\r\n+                            // Custom activity colors\r\n+                            if (str_contains($activity, 'contribution')) {\r\n+                                $activityClass = 'bg-orange-100 text-orange-700';\r\n+                            } elseif (str_contains($activity, 'training attending')) {\r\n+                                $activityClass = 'bg-blue-100 text-blue-700';\r\n+                            } elseif (str_contains($activity, 'grant application')) {\r\n+                                $activityClass = 'bg-green-100 text-green-700';\r\n+                            }\r\n+                            // Other standard actions\r\n+                            elseif (str_contains($activity, 'attempt')) {\r\n+                                $activityClass = 'bg-red-100 text-red-700';\r\n+                            } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n+                                $activityClass = 'bg-green-100 text-green-700';\r\n+                            } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n+                                $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                            } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n+                                $activityClass = 'bg-blue-100 text-blue-700';\r\n+                            } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n+                                $activityClass = 'bg-yellow-100 text-yellow-700';\r\n+                            } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n+                                $activityClass = 'bg-red-100 text-red-700';\r\n+                            }\r\n+\r\n+                            $statusColor = match($log->status) {\r\n+                                'success' => 'text-green-600 font-medium',\r\n+                                'failed' => 'text-red-600 font-medium',\r\n+                                'pending' => 'text-yellow-600 font-medium',\r\n+                                default => 'text-gray-600'\r\n+                            };\r\n+\r\n+                            $role = $log->role ?? 'N/A';\r\n+                            $role = ucwords(str_replace('_', ' ', $role));\r\n+\r\n+                            $details = is_array($log->details) ? $log->details : json_decode($log->details, true) ?? $log->details;\r\n+                            $device = $details['Device'] ?? null;\r\n+\r\n+                            if(isset($log->user) && $log->user && $log->user->user_info) {\r\n+                                $log->user_name = $log->user->user_info->name ?? 'Unknown User';\r\n+                            }\r\n+                        @endphp\r\n+\r\n+                        <div \r\n+                            class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n+                            data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n+                            data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n+                            data-role=\"{{ strtolower($role) }}\"\r\n+                            data-status=\"{{ strtolower($log->status) }}\"\r\n+                            data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n+                        >\r\n+                            <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n+                                {{ $timestamp->format('h:i A') }}\r\n+                            </div>\r\n+\r\n+                            <div class=\"flex-1\">\r\n+                                <div class=\"flex flex-col\">\r\n+                                    <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n+                                        <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n+                                        <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n+                                        performed\r\n+                                        <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n+                                            {{ $log->activity }}\r\n+                                        </span>\r\n+                                    </span>\r\n+\r\n+                                    <div class=\"text-xs text-gray-500 mt-1\">\r\n+                                        IP: {{ $log->ip_address ?? '—' }} • \r\n+                                        <span class=\"{{ $statusColor }}\">\r\n+                                            {{ ucfirst($log->status) }}\r\n+                                        </span>\r\n+                                    </div>\r\n+\r\n+                                    @if(!empty($details))\r\n+                                        <div class=\"text-xs text-gray-400 mt-1\">\r\n+                                            @if($device)\r\n+                                                <strong>Device:</strong> {{ $device }}\r\n+                                            @else\r\n+                                                <strong>Details:</strong> {{ is_array($details) ? json_encode($details) : $details }}\r\n+                                            @endif\r\n+                                        </div>\r\n+                                    @endif\r\n+                                </div>\r\n+                            </div>\r\n+\r\n+                            <div class=\"absolute top-3 right-3\">\r\n+                                <div class=\"relative\">\r\n+                                    <button \r\n+                                        class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n+                                        onclick=\"toggleMenu(this)\">\r\n+                                        ⋮\r\n+                                    </button>\r\n+                                    <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n+                                        <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n+                                    </div>\r\n+                                </div>\r\n+                            </div>\r\n+                        </div>\r\n+                    @endforeach\r\n+                </div>\r\n+            </div>\r\n+        @empty\r\n+            <div class=\"text-center text-gray-500 py-6\">\r\n+                No activity logs found.\r\n+            </div>\r\n+        @endforelse\r\n+\r\n+        @if ($logs->hasPages())\r\n+            <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n+                <p class=\"text-white\">\r\n+                    Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n+                </p>\r\n+                <div>\r\n+                    {{ $logs->links() }}\r\n+                </div>\r\n+            </div>\r\n+        @endif\r\n+    </div>\r\n+</div>\r\n+```\r\n+\r\n+</div>\r\n+\r\n+<script>\r\n+    function toggleMenu(button) {\r\n+        const menu = button.nextElementSibling;\r\n+        document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n+            if (el !== menu) el.classList.add('hidden');\r\n+        });\r\n+        menu.classList.toggle('hidden');\r\n+    }\r\n+\r\n+    document.addEventListener('click', function(e) {\r\n+        if (!e.target.closest('[onclick=\"toggleMenu(this)\"]')) {\r\n+            document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n+        }\r\n+    });\r\n+\r\n+    const searchInput = document.getElementById('searchInput');\r\n+    const roleFilter = document.getElementById('roleFilter');\r\n+    const statusFilter = document.getElementById('statusFilter');\r\n+    const dateFrom = document.getElementById('dateFrom');\r\n+    const dateTo = document.getElementById('dateTo');\r\n+    const filterButton = document.getElementById('filterButton');\r\n+    const resetButton = document.getElementById('resetButton');\r\n+\r\n+    function filterLogs() {\r\n+        const searchTerm = searchInput.value.toLowerCase();\r\n+        const selectedRole = roleFilter.value.toLowerCase();\r\n+        const selectedStatus = statusFilter.value.toLowerCase();\r\n+        const fromDate = dateFrom.value ? new Date(dateFrom.value) : null;\r\n+        const toDate = dateTo.value ? new Date(dateTo.value) : null;\r\n+\r\n+        document.querySelectorAll('.log-item').forEach(item => {\r\n+            const username = item.dataset.username;\r\n+            const activity = item.dataset.activity;\r\n+            const role = item.dataset.role;\r\n+            const status = item.dataset.status;\r\n+            const date = new Date(item.dataset.date);\r\n+\r\n+            let visible = true;\r\n+\r\n+            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) visible = false;\r\n+            if (selectedRole && role !== selectedRole) visible = false;\r\n+            if (selectedStatus && status !== selectedStatus) visible = false;\r\n+            if (fromDate && date < fromDate) visible = false;\r\n+            if (toDate && date > toDate) visible = false;\r\n+\r\n+            item.style.display = visible ? '' : 'none';\r\n+        });\r\n+    }\r\n+\r\n+    filterButton.addEventListener('click', filterLogs);\r\n+    searchInput.addEventListener('input', filterLogs);\r\n+\r\n+    resetButton.addEventListener('click', () => {\r\n+        searchInput.value = '';\r\n+        roleFilter.value = '';\r\n+        statusFilter.value = '';\r\n+        dateFrom.value = '';\r\n+        dateTo.value = '';\r\n+        filterLogs();\r\n+    });\r\n+</script>\r\n+\r\n+@endsection\r\n"
                }
            ],
            "date": 1764087847980,
            "name": "Commit-0",
            "content": "@extends('layouts.app')\r\n\r\n@section('content')\r\n@include('layouts.loading-overlay')\r\n\r\n@php\r\n    use Carbon\\Carbon;\r\n\r\n    // Group logs by date (Today, Yesterday, or exact date)\r\n    $groupedLogs = $logs->sortByDesc('activity_timestamp')->groupBy(function($log) {\r\n        $date = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n        if ($date->isToday()) {\r\n            return 'Today';\r\n        } elseif ($date->isYesterday()) {\r\n            return 'Yesterday';\r\n        } else {\r\n            return $date->format('F d, Y');\r\n        }\r\n    });\r\n@endphp\r\n\r\n<div class=\"p-4\">\r\n    <div class=\"bg-mainbg px-6 min-h-screen\">\r\n        <!-- Page Header -->\r\n        <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-3\">\r\n            <div class=\"text-customIT flex flex-col\">\r\n                <h2 class=\"text-[20px] sm:text-[25px] font-bold text-custom\">Activity Logs</h2>\r\n                <p class=\"text-sm text-gray-600\">Manage, track, and publish important information for SWISA members.</p>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Filters & Search -->\r\n        <div class=\"bg-white shadow rounded-lg p-4 mb-6\">\r\n            <div class=\"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between\">\r\n                <!-- Search Bar -->\r\n                <div class=\"flex items-center w-full sm:w-1/3\">\r\n                    <input \r\n                        id=\"searchInput\"\r\n                        type=\"text\"\r\n                        placeholder=\"Search by user, activity...\"\r\n                        class=\"w-full border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-btncolor focus:outline-none\">\r\n                </div>\r\n\r\n                <!-- Filters -->\r\n                <div class=\"flex flex-wrap gap-2\">\r\n                    <select id=\"roleFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n                        <option value=\"\">All Roles</option>\r\n                        <option value=\"Admin\">Admin</option>\r\n                        <option value=\"Member\">SWISA Member</option>\r\n                        <option value=\"Support Staff\">Support Staff</option>\r\n                    </select>\r\n\r\n                    <select id=\"statusFilter\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n                        <option value=\"\">All Status</option>\r\n                        <option value=\"success\">Successful</option>\r\n                        <option value=\"failed\">Failed</option>\r\n                        <option value=\"pending\">Pending</option>\r\n                    </select>\r\n\r\n                    <input id=\"dateFrom\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n                    <input id=\"dateTo\" type=\"date\" class=\"border rounded-lg px-3 py-2 text-sm\">\r\n\r\n                    <button id=\"filterButton\" class=\"bg-btncolor text-white px-4 py-2 rounded-lg text-sm hover:bg-btnhover\">Filter</button>\r\n\r\n                    <button id=\"resetButton\" class=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300\">Reset</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Activity Timeline -->\r\n        <div class=\"bg-white shadow rounded-lg p-10\" id=\"logsContainer\">\r\n            @forelse ($groupedLogs as $dateLabel => $logsForDate)\r\n                <div class=\"mb-8 log-group\" data-date=\"{{ $dateLabel }}\">\r\n                    <!-- Date Header -->\r\n                    <h3 class=\"text-base font-semibold text-gray-800 mb-4 border-b border-gray-200 pb-1\">\r\n                        {{ $dateLabel }}\r\n                    </h3>\r\n\r\n                    <div class=\"space-y-4\">\r\n                        @foreach ($logsForDate as $log)\r\n                            @php\r\n                                $timestamp = $log->activity_timestamp ? Carbon::parse($log->activity_timestamp) : $log->created_at;\r\n                                $activity = strtolower($log->activity ?? '');\r\n                                $activityClass = 'bg-gray-100 text-gray-700';\r\n                                if (str_contains($activity, 'attempt')) {\r\n                                    $activityClass = 'bg-red-100 text-red-700';\r\n                                } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n                                    $activityClass = 'bg-green-100 text-green-700';\r\n                                } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n                                    $activityClass = 'bg-yellow-100 text-yellow-700';\r\n                                } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n                                    $activityClass = 'bg-blue-100 text-blue-700';\r\n                                } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n                                    $activityClass = 'bg-yellow-100 text-yellow-700';\r\n                                } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n                                    $activityClass = 'bg-red-100 text-red-700';\r\n                                }\r\n\r\n                                $statusColor = match($log->status) {\r\n                                    'success' => 'text-green-600 font-medium',\r\n                                    'failed' => 'text-red-600 font-medium',\r\n                                    'pending' => 'text-yellow-600 font-medium',\r\n                                    default => 'text-gray-600'\r\n                                };\r\n\r\n                                $role = $log->role ?? 'N/A';\r\n                                $role = ucwords(str_replace('_', ' ', $role));\r\n                            @endphp\r\n\r\n                            <div \r\n                                class=\"log-item flex flex-col sm:flex-row sm:items-start sm:gap-5 border border-gray-100 rounded-lg p-4 hover:bg-gray-50 transition relative group\"\r\n                                data-username=\"{{ strtolower($log->user_name ?? '') }}\"\r\n                                data-activity=\"{{ strtolower($log->activity ?? '') }}\"\r\n                                data-role=\"{{ strtolower($role) }}\"\r\n                                data-status=\"{{ strtolower($log->status) }}\"\r\n                                data-date=\"{{ $timestamp->format('Y-m-d') }}\"\r\n                            >\r\n                                <!-- Time -->\r\n                                <div class=\"w-24 shrink-0 text-sm text-gray-500 mb-2 sm:mb-0 sm:text-right mr-8\">\r\n                                    {{ $timestamp->format('h:i A') }}\r\n                                </div>\r\n\r\n                                <!-- Content -->\r\n                                <div class=\"flex-1\">\r\n                                    <div class=\"flex flex-col\">\r\n                                        <span class=\"text-gray-800 text-sm leading-relaxed\">\r\n                                            <strong>{{ $log->user_name ?? 'Unknown User' }}</strong>\r\n                                            <span class=\"text-gray-500 text-sm ml-1\">({{ $role }})</span>\r\n                                            performed\r\n                                            <span class=\"inline-block px-2 py-1 text-xs font-medium rounded-full {{ $activityClass }}\">\r\n                                                {{ $log->activity }}\r\n                                            </span>\r\n                                        </span>\r\n                                        <div class=\"text-xs text-gray-500 mt-1\">\r\n                                            IP: {{ $log->ip_address ?? '—' }} • \r\n                                            <span class=\"{{ $statusColor }}\">\r\n                                                {{ ucfirst($log->status) }}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <!-- Action Menu (3 Dots) -->\r\n                                <div class=\"absolute top-3 right-3\">\r\n                                    <div class=\"relative\">\r\n                                        <button \r\n                                            class=\"text-gray-500 hover:text-gray-700 focus:outline-none\" \r\n                                            onclick=\"toggleMenu(this)\">\r\n                                            ⋮\r\n                                        </button>\r\n                                        <div class=\"hidden absolute right-0 mt-2 w-32 bg-white border rounded-lg shadow-md z-10\">\r\n                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">View Details</button>\r\n                                            <button class=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100\">Copy Info</button>\r\n                                            <button class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100\">Delete</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        @endforeach\r\n                    </div>\r\n                </div>\r\n            @empty\r\n                <div class=\"text-center text-gray-500 py-6\">\r\n                    No activity logs found.\r\n                </div>\r\n            @endforelse\r\n\r\n            <!-- Pagination -->\r\n            @if ($logs->hasPages())\r\n                <div class=\"mt-6 flex justify-between items-center text-sm\">\r\n                    <p class=\"text-gray-600\">\r\n                        Showing {{ $logs->firstItem() }} to {{ $logs->lastItem() }} of {{ $logs->total() }} logs\r\n                    </p>\r\n                    <div>\r\n                        {{ $logs->links() }}\r\n                    </div>\r\n                </div>\r\n            @endif\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script>\r\n    // Toggle menu (3 dots)\r\n    function toggleMenu(button) {\r\n        const menu = button.nextElementSibling;\r\n        document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => {\r\n            if (el !== menu) el.classList.add('hidden');\r\n        });\r\n        menu.classList.toggle('hidden');\r\n    }\r\n\r\n    document.addEventListener('click', function(e) {\r\n        if (!e.target.closest('[onclick=\"toggleMenu(this)\"]')) {\r\n            document.querySelectorAll('[onclick=\"toggleMenu(this)\"] + div').forEach(el => el.classList.add('hidden'));\r\n        }\r\n    });\r\n\r\n    // Filtering and Search Logic\r\n    const searchInput = document.getElementById('searchInput');\r\n    const roleFilter = document.getElementById('roleFilter');\r\n    const statusFilter = document.getElementById('statusFilter');\r\n    const dateFrom = document.getElementById('dateFrom');\r\n    const dateTo = document.getElementById('dateTo');\r\n    const filterButton = document.getElementById('filterButton');\r\n    const resetButton = document.getElementById('resetButton');\r\n\r\n    function filterLogs() {\r\n        const searchTerm = searchInput.value.toLowerCase();\r\n        const selectedRole = roleFilter.value.toLowerCase();\r\n        const selectedStatus = statusFilter.value.toLowerCase();\r\n        const fromDate = dateFrom.value ? new Date(dateFrom.value) : null;\r\n        const toDate = dateTo.value ? new Date(dateTo.value) : null;\r\n\r\n        document.querySelectorAll('.log-item').forEach(item => {\r\n            const username = item.dataset.username;\r\n            const activity = item.dataset.activity;\r\n            const role = item.dataset.role;\r\n            const status = item.dataset.status;\r\n            const date = new Date(item.dataset.date);\r\n\r\n            let visible = true;\r\n\r\n            if (searchTerm && !(username.includes(searchTerm) || activity.includes(searchTerm))) {\r\n                visible = false;\r\n            }\r\n            if (selectedRole && role !== selectedRole) visible = false;\r\n            if (selectedStatus && status !== selectedStatus) visible = false;\r\n            if (fromDate && date < fromDate) visible = false;\r\n            if (toDate && date > toDate) visible = false;\r\n\r\n            item.style.display = visible ? '' : 'none';\r\n        });\r\n    }\r\n\r\n    filterButton.addEventListener('click', filterLogs);\r\n    searchInput.addEventListener('input', filterLogs);\r\n\r\n    resetButton.addEventListener('click', () => {\r\n        searchInput.value = '';\r\n        roleFilter.value = '';\r\n        statusFilter.value = '';\r\n        dateFrom.value = '';\r\n        dateTo.value = '';\r\n        filterLogs();\r\n    });\r\n</script>\r\n@endsection\r\n"
        }
    ]
}