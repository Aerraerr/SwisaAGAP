{
    "sourceFile": "resources/views/swisa-admin/view-training.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 114,
            "patches": [
                {
                    "date": 1763808939322,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763815361711,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,9 +121,10 @@\n                     <tbody>\n                         @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+<td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->first_name }} {{ $user->last_name }}</td>\n+\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n                                     <div class=\"bg-transparent rounded-md inline-block\">\n                                         @if($isFinished && !$user->pivot->check_in_at)\n"
                },
                {
                    "date": 1763815370128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n             </div>\n         </div>\n         <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n             <!-- Initiative tab -->\n-            <div class=\"col-span-12\">\n+            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n                     <div class=\"lg:flex h-full\">\n                         <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n                             <img \n@@ -74,25 +74,25 @@\n                                 </div>\n                             </div>\n                         </div>\n                         <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            {{--<button onclick=\"openModal('programQrModal')\" \n+                            <button onclick=\"openModal('programQrModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 QR Code\n-                            </button>--}}\n+                            </button>\n                             \n-                            <button onclick=\"openModal('editTrainingModal')\" \n+                            <button onclick=\"openModal('editGrantModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Edit Info\n                             </button>\n                             \n-                            {{--<button onclick=\"openModal('geneReportModal')\" \n+                            <button onclick=\"openModal('geneReportModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Generate Report\n-                            </button>--}}\n+                            </button>\n                             \n                             <button onclick=\"openModal('endProgramModal')\" \n                                 class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n@@ -101,41 +101,32 @@\n                         </div>\n                     </div>\n                 </div>\n             </div>\n-\n             <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh] custom-scroll\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n                         <tr class=\"text-customIT text-left\">\n-                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">STATUS</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @forelse($training->participants as $user)\n+                        @for($i = 0; $i < 10; $i++)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-<td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->first_name }} {{ $user->last_name }}</td>\n-\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n+                                    <div class=\"bg-transparent rounded-md  inline-block\">\n+                                        Active\n                                     </div>\n                                 </td>\n                                 <td class=\"pl-4 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n@@ -143,9 +134,9 @@\n                                             <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n                                         </button>\n                                         <!-- The Popover Menu, controlled by Alpine.js -->\n                                         <div x-show=\"show\" \n-                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            class=\"absolute top-full right-0 z-100 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n                                             <h3 class=\"text-md font-bold text-customIT mb-2\">\n                                                 Choose an Action\n                                             </h3>\n                                             <div class=\"border-t border-gray-200 py-2\">\n@@ -161,13 +152,9 @@\n                                         </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @empty\n-                            <tr>\n-                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n-                            </tr>\n-                        @endforelse\n+                        @endfor\n                     </tbody>\n \n                     </table>\n                 </div>\n@@ -176,9 +163,14 @@\n \n             <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n                 <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                     <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">\n+                        This comprehensive training program is designed to equip farmers with the latest knowledge and practical skills in crop management.\n+                        The curriculum covers key areas from advanced land preparation techniques to post-harvest technology. Participants will learn about \n+                        integrated pest management (IPM) strategies to reduce chemical use, and effective methods for ensuring crop quality and minimizing \n+                        post-harvest losses. The program combines theoretical knowledge with hands-on field sessions, allowing participants to apply what they learn in a real-world setting.\n+                    </p>\n                 </div>\n                 \n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n                     <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n@@ -208,51 +200,123 @@\n             </div>\n \n \n             <!-- participants tab start -->\n+            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12\">\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n+                    <div class=\"lg:flex h-full\">\n+                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n+                            <img \n+                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n+                                alt=\"Training Image\" \n+                                class=\"object-cover w-full h-full\"\n+                            >\n+                        </div>\n+                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n+                            <div>\n+                                <p class=\"text-xs md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n+                                <p class=\"text-[10px] lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n+                            </div>\n+                            <div class=\"mb-4 mt-10\">\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n+                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n+                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n+                                </div>\n+                            </div>\n+                        </div>\n+                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n+                            <button onclick=\"openModal('geneReportModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Generate Report\n+                            </button>\n+                            <button disabled onclick=\"openModal('programQrModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n+                                    bg-white  transition-all duration-200 hover:bg-transparent \" >\n+                                QR Code\n+                            </button>\n+                            \n+                            <button disabled onclick=\"openModal('editGrantModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n+                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n+                                Edit Info\n+                            </button>\n+                            <button disabled onclick=\"openModal('endProgramModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n+                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n+                                End Program\n+                            </button>\n+                        </div>\n+                    </div>\n+                </div>\n+            </div>\n              <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh]\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"bg-snbg border border-gray-100\">\n                         <tr class=\"text-customIT text-left \">\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">PRESENT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @forelse($training->participants as $user)\n+                        @for($i = 0; $i < 10; $i++)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n-                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n-                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n-                                        checked\n-                                    @endif >\n+                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\">\n                                 </td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n+                                <td class=\"pl-4 py-3 text-sm\">\n+                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                                        <button @click=\"show = !show\"  class=\" rounded-sm pl-2\">\n+                                            <img src=\"{{ asset('images/dot-menu.svg') }}\"\n+                                            class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                                        </button>\n+                                        <!-- The Popover Menu, controlled by Alpine.js -->\n+                                        <div x-show=\"show\" \n+                                        class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                                Choose an Action\n+                                            </h3>\n+                                            <div class=\"border-t border-gray-200 py-2\">\n+                                                <ul class=\"space-y-2\">\n+                                                    <li>\n+                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                                    </li>\n+                                                    <li>\n+                                                        <a onclick=\"openModal('endProgramModal')\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">Delete</a>\n+                                                    </li>\n+                                                </ul>\n+                                            </div>\n+                                        </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @empty\n-                            \n-                        @endforelse\n+                        @endfor\n                     </tbody>\n                     </table>\n                 </div>\n                 @include('components.pagination')\n"
                },
                {
                    "date": 1763815420556,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n             </div>\n         </div>\n         <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n             <!-- Initiative tab -->\n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12\">\n+            <div class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n                     <div class=\"lg:flex h-full\">\n                         <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n                             <img \n@@ -74,25 +74,25 @@\n                                 </div>\n                             </div>\n                         </div>\n                         <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            <button onclick=\"openModal('programQrModal')\" \n+                            {{--<button onclick=\"openModal('programQrModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 QR Code\n-                            </button>\n+                            </button>--}}\n                             \n-                            <button onclick=\"openModal('editGrantModal')\" \n+                            <button onclick=\"openModal('editTrainingModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Edit Info\n                             </button>\n                             \n-                            <button onclick=\"openModal('geneReportModal')\" \n+                            {{--<button onclick=\"openModal('geneReportModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Generate Report\n-                            </button>\n+                            </button>--}}\n                             \n                             <button onclick=\"openModal('endProgramModal')\" \n                                 class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n@@ -101,32 +101,40 @@\n                         </div>\n                     </div>\n                 </div>\n             </div>\n+\n             <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh] custom-scroll\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n                         <tr class=\"text-customIT text-left\">\n+                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">STATUS</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @for($i = 0; $i < 10; $i++)\n+                        @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md  inline-block\">\n-                                        Active\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n                                     </div>\n                                 </td>\n                                 <td class=\"pl-4 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n@@ -134,9 +142,9 @@\n                                             <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n                                         </button>\n                                         <!-- The Popover Menu, controlled by Alpine.js -->\n                                         <div x-show=\"show\" \n-                                            class=\"absolute top-full right-0 z-100 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n                                             <h3 class=\"text-md font-bold text-customIT mb-2\">\n                                                 Choose an Action\n                                             </h3>\n                                             <div class=\"border-t border-gray-200 py-2\">\n@@ -152,9 +160,13 @@\n                                         </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @endfor\n+                        @empty\n+                            <tr>\n+                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n+                            </tr>\n+                        @endforelse\n                     </tbody>\n \n                     </table>\n                 </div>\n@@ -163,14 +175,9 @@\n \n             <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n                 <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                     <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">\n-                        This comprehensive training program is designed to equip farmers with the latest knowledge and practical skills in crop management.\n-                        The curriculum covers key areas from advanced land preparation techniques to post-harvest technology. Participants will learn about \n-                        integrated pest management (IPM) strategies to reduce chemical use, and effective methods for ensuring crop quality and minimizing \n-                        post-harvest losses. The program combines theoretical knowledge with hands-on field sessions, allowing participants to apply what they learn in a real-world setting.\n-                    </p>\n+                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n                 </div>\n                 \n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n                     <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n@@ -200,123 +207,51 @@\n             </div>\n \n \n             <!-- participants tab start -->\n-            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12\">\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n-                    <div class=\"lg:flex h-full\">\n-                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n-                            <img \n-                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n-                                alt=\"Training Image\" \n-                                class=\"object-cover w-full h-full\"\n-                            >\n-                        </div>\n-                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n-                            <div>\n-                                <p class=\"text-xs md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-                                <p class=\"text-[10px] lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n-                            </div>\n-                            <div class=\"mb-4 mt-10\">\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n-                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n-                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n-                                </div>\n-                            </div>\n-                        </div>\n-                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            <button onclick=\"openModal('geneReportModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Generate Report\n-                            </button>\n-                            <button disabled onclick=\"openModal('programQrModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n-                                    bg-white  transition-all duration-200 hover:bg-transparent \" >\n-                                QR Code\n-                            </button>\n-                            \n-                            <button disabled onclick=\"openModal('editGrantModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n-                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n-                                Edit Info\n-                            </button>\n-                            <button disabled onclick=\"openModal('endProgramModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n-                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n-                                End Program\n-                            </button>\n-                        </div>\n-                    </div>\n-                </div>\n-            </div>\n              <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh]\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"bg-snbg border border-gray-100\">\n                         <tr class=\"text-customIT text-left \">\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">PRESENT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @for($i = 0; $i < 10; $i++)\n+                        @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n-                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\">\n+                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n+                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n+                                        checked\n+                                    @endif >\n                                 </td>\n-                                <td class=\"pl-4 py-3 text-sm\">\n-                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                                        <button @click=\"show = !show\"  class=\" rounded-sm pl-2\">\n-                                            <img src=\"{{ asset('images/dot-menu.svg') }}\"\n-                                            class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                                        </button>\n-                                        <!-- The Popover Menu, controlled by Alpine.js -->\n-                                        <div x-show=\"show\" \n-                                        class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                                Choose an Action\n-                                            </h3>\n-                                            <div class=\"border-t border-gray-200 py-2\">\n-                                                <ul class=\"space-y-2\">\n-                                                    <li>\n-                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                                    </li>\n-                                                    <li>\n-                                                        <a onclick=\"openModal('endProgramModal')\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">Delete</a>\n-                                                    </li>\n-                                                </ul>\n-                                            </div>\n-                                        </div>\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @endfor\n+                        @empty\n+                            \n+                        @endforelse\n                     </tbody>\n                     </table>\n                 </div>\n                 @include('components.pagination')\n"
                },
                {
                    "date": 1763815856508,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -224,34 +224,28 @@\n                         </tr>\n                     </thead>\n                     <tbody>\n                         @forelse($training->participants as $user)\n-                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 pl-6 gap-1\">\n-                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n-                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n-                                        checked\n-                                    @endif >\n+                            <tr>\n+                                <td>{{ $user->formatted_id ?? '-' }}</td>\n+                                <td>{{ $user->name ?? '-' }}</td>\n+                                <td>{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                                <td>\n+                                    <input type=\"checkbox\"\n+                                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n                                 </td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n-                                    </div>\n+                                <td>\n+                                    @if($isFinished && !$user->pivot->check_in_at)\n+                                        <span class=\"text-red-500\">Did Not Attend</span>\n+                                    @else\n+                                        {{ $user->pivot->check_in_at ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') : '-' }}\n+                                    @endif\n                                 </td>\n                             </tr>\n                         @empty\n-                            \n+                            <tr><td colspan=\"5\">No participants found</td></tr>\n                         @endforelse\n+\n                     </tbody>\n                     </table>\n                 </div>\n                 @include('components.pagination')\n"
                },
                {
                    "date": 1763817129231,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -224,28 +224,34 @@\n                         </tr>\n                     </thead>\n                     <tbody>\n                         @forelse($training->participants as $user)\n-                            <tr>\n-                                <td>{{ $user->formatted_id ?? '-' }}</td>\n-                                <td>{{ $user->name ?? '-' }}</td>\n-                                <td>{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                                <td>\n-                                    <input type=\"checkbox\"\n-                                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n+                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 pl-6 gap-1\">\n+                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n+                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n+                                        checked\n+                                    @endif >\n                                 </td>\n-                                <td>\n-                                    @if($isFinished && !$user->pivot->check_in_at)\n-                                        <span class=\"text-red-500\">Did Not Attend</span>\n-                                    @else\n-                                        {{ $user->pivot->check_in_at ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') : '-' }}\n-                                    @endif\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n+                                    </div>\n                                 </td>\n                             </tr>\n                         @empty\n-                            <tr><td colspan=\"5\">No participants found</td></tr>\n+                            \n                         @endforelse\n-\n                     </tbody>\n                     </table>\n                 </div>\n                 @include('components.pagination')\n"
                },
                {
                    "date": 1763819910927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n                     </thead>\n                     <tbody>\n                         @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id }}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n                                     <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n"
                },
                {
                    "date": 1763819926215,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n                     </thead>\n                     <tbody>\n                         @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id }}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n                                     <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n"
                },
                {
                    "date": 1763820122821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -223,9 +223,9 @@\n                             <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @forelse($training->participants as $user)\n+                        @forelse($training->participants as $participant)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n"
                },
                {
                    "date": 1763820221529,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -223,9 +223,9 @@\n                             <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @forelse($training->participants as $participant)\n+                        @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n"
                },
                {
                    "date": 1763820652385,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -209,9 +209,9 @@\n \n             <!-- participants tab start -->\n              <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n+                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attenddasdees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh]\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"bg-snbg border border-gray-100\">\n"
                },
                {
                    "date": 1763820687382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,458 @@\n+\n+@extends('layouts.app')\n+\n+@section('content')\n+<style>\n+    .custom-scroll::-webkit-scrollbar {\n+        width: 4px;\n+        height: 2px; \n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-track {\n+        background: transparent;\n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-thumb {\n+        background-color: #2C6E49; \n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-thumb:hover {\n+        background-color: #94a3b8;\n+    }\n+</style>\n+@include('layouts.loading-overlay')\n+<div class=\"p-4\">\n+        <div class=\"bg-mainbg px-2 space-y-2\">\n+        <div class=\"bg-mainbg px-2\">\n+            <!-- Header -->\n+            <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-2\">\n+                <div class=\"text-customIT flex flex-col\">\n+                    <h2 class=\"text-[20px] sm:text-[25px] font-bold text-custom\">Program Details</h2>\n+                    <p class=\"text-sm text-gray-600\">\n+                        Organize, monitor, and showcase SWISA initiatives, programs, and community events.\n+                    </p>\n+                </div>\n+            </div>\n+        </div>\n+        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n+            <!-- Initiative tab -->\n+            <div class=\"col-span-12\">\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n+                    <div class=\"lg:flex h-full\">\n+                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n+                            <img \n+                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n+                                alt=\"Training Image\" \n+                                class=\"object-cover w-full h-full\"\n+                            >\n+                        </div>\n+                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n+                            <div>\n+                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n+                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n+                            </div>\n+                            <div class=\"mb-4 mt-10\">\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n+                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n+                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n+                                </div>\n+                            </div>\n+                        </div>\n+                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n+                            {{--<button onclick=\"openModal('programQrModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                QR Code\n+                            </button>--}}\n+                            \n+                            <button onclick=\"openModal('editTrainingModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Edit Info\n+                            </button>\n+                            \n+                            {{--<button onclick=\"openModal('geneReportModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Generate Report\n+                            </button>--}}\n+                            \n+                            <button onclick=\"openModal('endProgramModal')\" \n+                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                End Program\n+                            </button>\n+                        </div>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n+                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+                    <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n+                </div>\n+                <div class=\"overflow-auto h-[60vh] custom-scroll\">\n+                    <table class=\"min-w-full border-spacing-y-1\">\n+                    <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n+                        <tr class=\"text-customIT text-left\">\n+                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n+                        </tr>\n+                    </thead>\n+                    <tbody>\n+                        @forelse($training->participants as $user)\n+                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n+                                    </div>\n+                                </td>\n+                                <td class=\"pl-4 py-3 text-sm\">\n+                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                                        <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n+                                            <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                                        </button>\n+                                        <!-- The Popover Menu, controlled by Alpine.js -->\n+                                        <div x-show=\"show\" \n+                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                                Choose an Action\n+                                            </h3>\n+                                            <div class=\"border-t border-gray-200 py-2\">\n+                                                <ul class=\"space-y-2\">\n+                                                    <li>\n+                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                                    </li>\n+                                                    <li>\n+                                                        <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n+                                                    </li>\n+                                                </ul>\n+                                            </div>\n+                                        </div>\n+                                    </div>\n+                                </td>\n+                            </tr>\n+                        @empty\n+                            <tr>\n+                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n+                            </tr>\n+                        @endforelse\n+                    </tbody>\n+\n+                    </table>\n+                </div>\n+                @include('components.pagination')\n+            </div>\n+\n+            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n+                <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n+                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+                </div>\n+                \n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n+                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n+                        {{ $training->date->format('d F, Y') }}\n+                    </p>\n+\n+                    {{-- Check if training is tomorrow or another day --}}\n+                    <p class=\"text-center text-sm text-btncolor mt-1\">\n+                        @if($training->date->isTomorrow())\n+                            This training is scheduled for <strong>Tomorrow</strong>.\n+                        @elseif($training->date->isToday())\n+                            This training is happening <strong>Today</strong>!\n+                        @else\n+                            This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+                        @endif\n+                    </p>\n+\n+                    <div class=\"px-10 py-3\">\n+                        <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n+                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                            View Participants \n+                        </button>\n+                    </div>\n+\n+                </div>\n+\n+            </div>\n+\n+\n+            <!-- participants tab start -->\n+             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n+                </div>\n+                <div class=\"overflow-auto h-[60vh]\">\n+                    <table class=\"min-w-full border-spacing-y-1\">\n+                    <thead class=\"bg-snbg border border-gray-100\">\n+                        <tr class=\"text-customIT text-left \">\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">PRESENT</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n+                        </tr>\n+                    </thead>\n+                    <tbody>\n+                        @forelse($training->participants as $user)\n+                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ??}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ??}}</td>\n+                                <td class=\"px-4 py-2 pl-6 gap-1\">\n+                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n+                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n+                                        checked\n+                                    @endif >\n+                                </td>\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n+                                    </div>\n+                                </td>\n+                            </tr>\n+                        @empty\n+                            \n+                        @endforelse\n+                    </tbody>\n+                    </table>\n+                </div>\n+                @include('components.pagination')\n+            </div>\n+\n+            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n+                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n+                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-6\">QR CODE</h2>\n+                    <div class=\"flex justify-center bg-gray-200 mx-12 h-60 w-60\">\n+                        <p class=\"text-sm text-bsctxt py-28\">QR IMAGE</p>\n+                    </div>\n+                    <p class=\" text-bsctxt text-md\">INIT-EV112403232323</p>\n+                    <button onclick=\"openModal('programQrModal')\" class=\"text-md mt-6 px-14 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n+                        Expand QR Code\n+                    </button>\n+                </div>\n+                                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md mt-2 overflow-auto\">\n+                        <button  onclick=\"openQrScanner()\" class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                            Manage Attendance\n+                        </button>\n+                </div>     \n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n+                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">Back to Initiative</p>\n+                    <div class=\"px-10 py-3\">\n+                        <button  @click=\"activeTab = 'initiative'\" class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                            Initiative\n+                        </button>\n+                    </div>\n+                </div>\n+            </div>\n+        </div>\n+        @include('components.modals.edit-training')\n+        @include('components.modals.end-program')\n+        @include('components.modals.program-qr')\n+        @include('components.modals.generate-report')\n+    </div>\n+</div>\n+<!-- Scanner Modal -->\n+<div id=\"qrScannerModal\" \n+    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-200\">\n+    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full\">\n+        <!-- Header -->\n+        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n+            Scan User QR Code\n+        </h2>\n+        \n+        <!-- Camera Preview -->\n+        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n+            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n+        </div>\n+\n+        <!-- Scan Result -->\n+        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n+            Waiting for scan...\n+        </div>\n+\n+        <!-- Upload Button -->\n+        <div class=\"mt-6\">\n+            <input type=\"file\" id=\"qrUpload\" accept=\"image/*\" \n+                class=\"w-full py-3 border rounded-lg cursor-pointer text-center\"/>\n+        </div>\n+\n+        <!-- Close Button -->\n+        <div class=\"mt-3\">\n+            <button onclick=\"closeQrScanner()\" \n+                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n+                Close Scanner\n+            </button>\n+        </div>\n+    </div>\n+</div>\n+<!-- SUCCESS MODAL -->\n+<div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-50\">\n+    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n+        <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n+        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n+        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md\">OK</button>\n+    </div>\n+</div>\n+\n+\n+\n+\n+\n+\n+<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n+    <div class=\"flex flex-col items-center\">\n+        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n+            viewBox=\"0 0 24 24\">\n+            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n+            <path class=\"opacity-75\" fill=\"currentColor\"\n+                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n+        </svg>\n+        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n+    </div>\n+</div>\n+\n+\n+<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n+<script>\n+    function showLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n+\n+        // Auto hide after 1s (optional)\n+        setTimeout(() => {\n+            hideLoadingOverlayBtn();\n+        }, 1000);\n+    }\n+\n+    function hideLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n+    }\n+</script>\n+\n+<script>\n+let html5QrCode; \n+\n+function onScanSuccess(decodedText, decodedResult) {\n+    console.log(` Code scanned = ${decodedText}`, decodedResult);\n+\n+    const successModal = document.getElementById(\"scanSuccessModal\");\n+    const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+    if (decodedText.startsWith(\"http\")) {\n+        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+    } else {\n+        linkOutput.textContent = `Scanned: ${decodedText}`;\n+    }\n+\n+    successModal.classList.remove(\"hidden\");\n+\n+    // Auto-close modal after 2 seconds\n+    setTimeout(() => {\n+        successModal.classList.add(\"hidden\");\n+    }, 2000);\n+}\n+\n+function openQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (!html5QrCode) {\n+        html5QrCode = new Html5Qrcode(\"qr-reader\");\n+    }\n+\n+    // Request camera permission & start scanner\n+    Html5Qrcode.getCameras().then(cameras => {\n+        if (cameras && cameras.length) {\n+            html5QrCode.start(\n+                cameras[0].id,   // use first camera\n+                { fps: 10, qrbox: 350 },\n+                onScanSuccess\n+            ).catch(err => console.error(\"Camera start failed:\", err));\n+        }\n+    }).catch(err => console.error(\"Camera permission denied:\", err));\n+}\n+\n+function closeQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (html5QrCode) {\n+        html5QrCode.stop()\n+            .then(() => html5QrCode.clear())\n+            .catch(err => console.error(\"Failed to stop scanner:\", err));\n+    }\n+}\n+\n+function closeSuccessModal() {\n+    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n+}\n+\n+// Custom Upload File\n+document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n+    if (e.target.files.length === 0) return;\n+    const file = e.target.files[0];\n+    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n+\n+    html5QrCode.scanFile(file, true)\n+        .then(decodedText => {\n+            const successModal = document.getElementById(\"scanSuccessModal\");\n+            const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+            if (decodedText.startsWith(\"http\")) {\n+                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+            } else {\n+                linkOutput.textContent = `Scanned: ${decodedText}`;\n+            }\n+\n+            successModal.classList.remove(\"hidden\");\n+\n+            // Auto-close modal after 2 seconds\n+            setTimeout(() => {\n+                successModal.classList.add(\"hidden\");\n+            }, 2000);\n+        })\n+        .catch(err => {\n+            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n+            console.error(\"Image scan failed:\", err);\n+        });\n+});\n+</script>\n+\n+@endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763820708535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,10 +226,10 @@\n                     <tbody>\n                         @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ??}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ??}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n                                     <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n                                      @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                         checked\n@@ -454,463 +454,5 @@\n         });\n });\n </script>\n \n-@endsection\n-\n-@extends('layouts.app')\n-\n-@section('content')\n-<style>\n-    .custom-scroll::-webkit-scrollbar {\n-        width: 4px;\n-        height: 2px; \n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-track {\n-        background: transparent;\n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-thumb {\n-        background-color: #2C6E49; \n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-thumb:hover {\n-        background-color: #94a3b8;\n-    }\n-</style>\n-@include('layouts.loading-overlay')\n-<div class=\"p-4\">\n-        <div class=\"bg-mainbg px-2 space-y-2\">\n-        <div class=\"bg-mainbg px-2\">\n-            <!-- Header -->\n-            <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-2\">\n-                <div class=\"text-customIT flex flex-col\">\n-                    <h2 class=\"text-[20px] sm:text-[25px] font-bold text-custom\">Program Details</h2>\n-                    <p class=\"text-sm text-gray-600\">\n-                        Organize, monitor, and showcase SWISA initiatives, programs, and community events.\n-                    </p>\n-                </div>\n-            </div>\n-        </div>\n-        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n-            <!-- Initiative tab -->\n-            <div class=\"col-span-12\">\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n-                    <div class=\"lg:flex h-full\">\n-                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n-                            <img \n-                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n-                                alt=\"Training Image\" \n-                                class=\"object-cover w-full h-full\"\n-                            >\n-                        </div>\n-                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n-                            <div>\n-                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n-                            </div>\n-                            <div class=\"mb-4 mt-10\">\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n-                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n-                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n-                                </div>\n-                            </div>\n-                        </div>\n-                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            {{--<button onclick=\"openModal('programQrModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                QR Code\n-                            </button>--}}\n-                            \n-                            <button onclick=\"openModal('editTrainingModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Edit Info\n-                            </button>\n-                            \n-                            {{--<button onclick=\"openModal('geneReportModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Generate Report\n-                            </button>--}}\n-                            \n-                            <button onclick=\"openModal('endProgramModal')\" \n-                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                End Program\n-                            </button>\n-                        </div>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n-                </div>\n-                <div class=\"overflow-auto h-[60vh] custom-scroll\">\n-                    <table class=\"min-w-full border-spacing-y-1\">\n-                    <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n-                        <tr class=\"text-customIT text-left\">\n-                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n-                        </tr>\n-                    </thead>\n-                    <tbody>\n-                        @forelse($training->participants as $user)\n-                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n-                                    </div>\n-                                </td>\n-                                <td class=\"pl-4 py-3 text-sm\">\n-                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                                        <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n-                                            <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                                        </button>\n-                                        <!-- The Popover Menu, controlled by Alpine.js -->\n-                                        <div x-show=\"show\" \n-                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                                Choose an Action\n-                                            </h3>\n-                                            <div class=\"border-t border-gray-200 py-2\">\n-                                                <ul class=\"space-y-2\">\n-                                                    <li>\n-                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                                    </li>\n-                                                    <li>\n-                                                        <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n-                                                    </li>\n-                                                </ul>\n-                                            </div>\n-                                        </div>\n-                                    </div>\n-                                </td>\n-                            </tr>\n-                        @empty\n-                            <tr>\n-                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n-                            </tr>\n-                        @endforelse\n-                    </tbody>\n-\n-                    </table>\n-                </div>\n-                @include('components.pagination')\n-            </div>\n-\n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n-                <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n-                </div>\n-                \n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n-                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n-                        {{ $training->date->format('d F, Y') }}\n-                    </p>\n-\n-                    {{-- Check if training is tomorrow or another day --}}\n-                    <p class=\"text-center text-sm text-btncolor mt-1\">\n-                        @if($training->date->isTomorrow())\n-                            This training is scheduled for <strong>Tomorrow</strong>.\n-                        @elseif($training->date->isToday())\n-                            This training is happening <strong>Today</strong>!\n-                        @else\n-                            This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-                        @endif\n-                    </p>\n-\n-                    <div class=\"px-10 py-3\">\n-                        <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n-                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            View Participants \n-                        </button>\n-                    </div>\n-\n-                </div>\n-\n-            </div>\n-\n-\n-            <!-- participants tab start -->\n-             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attenddasdees</h1>\n-                </div>\n-                <div class=\"overflow-auto h-[60vh]\">\n-                    <table class=\"min-w-full border-spacing-y-1\">\n-                    <thead class=\"bg-snbg border border-gray-100\">\n-                        <tr class=\"text-customIT text-left \">\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">PRESENT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n-                        </tr>\n-                    </thead>\n-                    <tbody>\n-                        @forelse($training->participants as $user)\n-                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 pl-6 gap-1\">\n-                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n-                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n-                                        checked\n-                                    @endif >\n-                                </td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n-                                    </div>\n-                                </td>\n-                            </tr>\n-                        @empty\n-                            \n-                        @endforelse\n-                    </tbody>\n-                    </table>\n-                </div>\n-                @include('components.pagination')\n-            </div>\n-\n-            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n-                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-6\">QR CODE</h2>\n-                    <div class=\"flex justify-center bg-gray-200 mx-12 h-60 w-60\">\n-                        <p class=\"text-sm text-bsctxt py-28\">QR IMAGE</p>\n-                    </div>\n-                    <p class=\" text-bsctxt text-md\">INIT-EV112403232323</p>\n-                    <button onclick=\"openModal('programQrModal')\" class=\"text-md mt-6 px-14 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n-                        Expand QR Code\n-                    </button>\n-                </div>\n-                                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md mt-2 overflow-auto\">\n-                        <button  onclick=\"openQrScanner()\" class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            Manage Attendance\n-                        </button>\n-                </div>     \n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n-                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">Back to Initiative</p>\n-                    <div class=\"px-10 py-3\">\n-                        <button  @click=\"activeTab = 'initiative'\" class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            Initiative\n-                        </button>\n-                    </div>\n-                </div>\n-            </div>\n-        </div>\n-        @include('components.modals.edit-training')\n-        @include('components.modals.end-program')\n-        @include('components.modals.program-qr')\n-        @include('components.modals.generate-report')\n-    </div>\n-</div>\n-<!-- Scanner Modal -->\n-<div id=\"qrScannerModal\" \n-    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-200\">\n-    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full\">\n-        <!-- Header -->\n-        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n-            Scan User QR Code\n-        </h2>\n-        \n-        <!-- Camera Preview -->\n-        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n-            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n-        </div>\n-\n-        <!-- Scan Result -->\n-        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n-            Waiting for scan...\n-        </div>\n-\n-        <!-- Upload Button -->\n-        <div class=\"mt-6\">\n-            <input type=\"file\" id=\"qrUpload\" accept=\"image/*\" \n-                class=\"w-full py-3 border rounded-lg cursor-pointer text-center\"/>\n-        </div>\n-\n-        <!-- Close Button -->\n-        <div class=\"mt-3\">\n-            <button onclick=\"closeQrScanner()\" \n-                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n-                Close Scanner\n-            </button>\n-        </div>\n-    </div>\n-</div>\n-<!-- SUCCESS MODAL -->\n-<div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-50\">\n-    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n-        <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n-        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n-        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md\">OK</button>\n-    </div>\n-</div>\n-\n-\n-\n-\n-\n-\n-<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n-    <div class=\"flex flex-col items-center\">\n-        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n-            viewBox=\"0 0 24 24\">\n-            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n-            <path class=\"opacity-75\" fill=\"currentColor\"\n-                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n-        </svg>\n-        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n-    </div>\n-</div>\n-\n-\n-<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n-<script>\n-    function showLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n-\n-        // Auto hide after 1s (optional)\n-        setTimeout(() => {\n-            hideLoadingOverlayBtn();\n-        }, 1000);\n-    }\n-\n-    function hideLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n-    }\n-</script>\n-\n-<script>\n-let html5QrCode; \n-\n-function onScanSuccess(decodedText, decodedResult) {\n-    console.log(` Code scanned = ${decodedText}`, decodedResult);\n-\n-    const successModal = document.getElementById(\"scanSuccessModal\");\n-    const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-    if (decodedText.startsWith(\"http\")) {\n-        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-    } else {\n-        linkOutput.textContent = `Scanned: ${decodedText}`;\n-    }\n-\n-    successModal.classList.remove(\"hidden\");\n-\n-    // Auto-close modal after 2 seconds\n-    setTimeout(() => {\n-        successModal.classList.add(\"hidden\");\n-    }, 2000);\n-}\n-\n-function openQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (!html5QrCode) {\n-        html5QrCode = new Html5Qrcode(\"qr-reader\");\n-    }\n-\n-    // Request camera permission & start scanner\n-    Html5Qrcode.getCameras().then(cameras => {\n-        if (cameras && cameras.length) {\n-            html5QrCode.start(\n-                cameras[0].id,   // use first camera\n-                { fps: 10, qrbox: 350 },\n-                onScanSuccess\n-            ).catch(err => console.error(\"Camera start failed:\", err));\n-        }\n-    }).catch(err => console.error(\"Camera permission denied:\", err));\n-}\n-\n-function closeQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (html5QrCode) {\n-        html5QrCode.stop()\n-            .then(() => html5QrCode.clear())\n-            .catch(err => console.error(\"Failed to stop scanner:\", err));\n-    }\n-}\n-\n-function closeSuccessModal() {\n-    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n-}\n-\n-// Custom Upload File\n-document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n-    if (e.target.files.length === 0) return;\n-    const file = e.target.files[0];\n-    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n-\n-    html5QrCode.scanFile(file, true)\n-        .then(decodedText => {\n-            const successModal = document.getElementById(\"scanSuccessModal\");\n-            const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-            if (decodedText.startsWith(\"http\")) {\n-                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-            } else {\n-                linkOutput.textContent = `Scanned: ${decodedText}`;\n-            }\n-\n-            successModal.classList.remove(\"hidden\");\n-\n-            // Auto-close modal after 2 seconds\n-            setTimeout(() => {\n-                successModal.classList.add(\"hidden\");\n-            }, 2000);\n-        })\n-        .catch(err => {\n-            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n-            console.error(\"Image scan failed:\", err);\n-        });\n-});\n-</script>\n-\n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763820767867,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,11 +225,11 @@\n                     </thead>\n                     <tbody>\n                         @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n                                     <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n                                      @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                         checked\n"
                },
                {
                    "date": 1763821890824,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n                     </thead>\n                     <tbody>\n                         @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n                                     <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n"
                },
                {
                    "date": 1763821939121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n             </div>\n         </div>\n         <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n             <!-- Initiative tab -->\n-            <div class=\"col-span-12\">\n+            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n                     <div class=\"lg:flex h-full\">\n                         <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n                             <img \n@@ -74,25 +74,25 @@\n                                 </div>\n                             </div>\n                         </div>\n                         <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            {{--<button onclick=\"openModal('programQrModal')\" \n+                            <button onclick=\"openModal('programQrModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 QR Code\n-                            </button>--}}\n+                            </button>\n                             \n-                            <button onclick=\"openModal('editTrainingModal')\" \n+                            <button onclick=\"openModal('editGrantModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Edit Info\n                             </button>\n                             \n-                            {{--<button onclick=\"openModal('geneReportModal')\" \n+                            <button onclick=\"openModal('geneReportModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Generate Report\n-                            </button>--}}\n+                            </button>\n                             \n                             <button onclick=\"openModal('endProgramModal')\" \n                                 class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n@@ -101,40 +101,32 @@\n                         </div>\n                     </div>\n                 </div>\n             </div>\n-\n             <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh] custom-scroll\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n                         <tr class=\"text-customIT text-left\">\n-                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">STATUS</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @forelse($training->participants as $user)\n+                        @for($i = 0; $i < 10; $i++)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n+                                    <div class=\"bg-transparent rounded-md  inline-block\">\n+                                        Active\n                                     </div>\n                                 </td>\n                                 <td class=\"pl-4 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n@@ -142,9 +134,9 @@\n                                             <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n                                         </button>\n                                         <!-- The Popover Menu, controlled by Alpine.js -->\n                                         <div x-show=\"show\" \n-                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            class=\"absolute top-full right-0 z-100 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n                                             <h3 class=\"text-md font-bold text-customIT mb-2\">\n                                                 Choose an Action\n                                             </h3>\n                                             <div class=\"border-t border-gray-200 py-2\">\n@@ -160,13 +152,9 @@\n                                         </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @empty\n-                            <tr>\n-                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n-                            </tr>\n-                        @endforelse\n+                        @endfor\n                     </tbody>\n \n                     </table>\n                 </div>\n@@ -175,9 +163,14 @@\n \n             <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n                 <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                     <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">\n+                        This comprehensive training program is designed to equip farmers with the latest knowledge and practical skills in crop management.\n+                        The curriculum covers key areas from advanced land preparation techniques to post-harvest technology. Participants will learn about \n+                        integrated pest management (IPM) strategies to reduce chemical use, and effective methods for ensuring crop quality and minimizing \n+                        post-harvest losses. The program combines theoretical knowledge with hands-on field sessions, allowing participants to apply what they learn in a real-world setting.\n+                    </p>\n                 </div>\n                 \n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n                     <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n@@ -207,51 +200,123 @@\n             </div>\n \n \n             <!-- participants tab start -->\n+            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12\">\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n+                    <div class=\"lg:flex h-full\">\n+                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n+                            <img \n+                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n+                                alt=\"Training Image\" \n+                                class=\"object-cover w-full h-full\"\n+                            >\n+                        </div>\n+                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n+                            <div>\n+                                <p class=\"text-xs md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n+                                <p class=\"text-[10px] lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n+                            </div>\n+                            <div class=\"mb-4 mt-10\">\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n+                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n+                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n+                                </div>\n+                            </div>\n+                        </div>\n+                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n+                            <button onclick=\"openModal('geneReportModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Generate Report\n+                            </button>\n+                            <button disabled onclick=\"openModal('programQrModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n+                                    bg-white  transition-all duration-200 hover:bg-transparent \" >\n+                                QR Code\n+                            </button>\n+                            \n+                            <button disabled onclick=\"openModal('editGrantModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n+                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n+                                Edit Info\n+                            </button>\n+                            <button disabled onclick=\"openModal('endProgramModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n+                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n+                                End Program\n+                            </button>\n+                        </div>\n+                    </div>\n+                </div>\n+            </div>\n              <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh]\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"bg-snbg border border-gray-100\">\n                         <tr class=\"text-customIT text-left \">\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">PRESENT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @forelse($training->participants as $user)\n+                        @for($i = 0; $i < 10; $i++)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n-                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n-                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n-                                        checked\n-                                    @endif >\n+                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\">\n                                 </td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n+                                <td class=\"pl-4 py-3 text-sm\">\n+                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                                        <button @click=\"show = !show\"  class=\" rounded-sm pl-2\">\n+                                            <img src=\"{{ asset('images/dot-menu.svg') }}\"\n+                                            class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                                        </button>\n+                                        <!-- The Popover Menu, controlled by Alpine.js -->\n+                                        <div x-show=\"show\" \n+                                        class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                                Choose an Action\n+                                            </h3>\n+                                            <div class=\"border-t border-gray-200 py-2\">\n+                                                <ul class=\"space-y-2\">\n+                                                    <li>\n+                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                                    </li>\n+                                                    <li>\n+                                                        <a onclick=\"openModal('endProgramModal')\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">Delete</a>\n+                                                    </li>\n+                                                </ul>\n+                                            </div>\n+                                        </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @empty\n-                            \n-                        @endforelse\n+                        @endfor\n                     </tbody>\n                     </table>\n                 </div>\n                 @include('components.pagination')\n"
                },
                {
                    "date": 1763821956287,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n             </div>\n         </div>\n         <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n             <!-- Initiative tab -->\n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12\">\n+            <div class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n                     <div class=\"lg:flex h-full\">\n                         <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n                             <img \n@@ -74,25 +74,25 @@\n                                 </div>\n                             </div>\n                         </div>\n                         <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            <button onclick=\"openModal('programQrModal')\" \n+                            {{--<button onclick=\"openModal('programQrModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 QR Code\n-                            </button>\n+                            </button>--}}\n                             \n-                            <button onclick=\"openModal('editGrantModal')\" \n+                            <button onclick=\"openModal('editTrainingModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Edit Info\n                             </button>\n                             \n-                            <button onclick=\"openModal('geneReportModal')\" \n+                            {{--<button onclick=\"openModal('geneReportModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Generate Report\n-                            </button>\n+                            </button>--}}\n                             \n                             <button onclick=\"openModal('endProgramModal')\" \n                                 class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n@@ -101,32 +101,40 @@\n                         </div>\n                     </div>\n                 </div>\n             </div>\n+\n             <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh] custom-scroll\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n                         <tr class=\"text-customIT text-left\">\n+                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">STATUS</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @for($i = 0; $i < 10; $i++)\n+                        @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md  inline-block\">\n-                                        Active\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n                                     </div>\n                                 </td>\n                                 <td class=\"pl-4 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n@@ -134,9 +142,9 @@\n                                             <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n                                         </button>\n                                         <!-- The Popover Menu, controlled by Alpine.js -->\n                                         <div x-show=\"show\" \n-                                            class=\"absolute top-full right-0 z-100 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n                                             <h3 class=\"text-md font-bold text-customIT mb-2\">\n                                                 Choose an Action\n                                             </h3>\n                                             <div class=\"border-t border-gray-200 py-2\">\n@@ -152,9 +160,13 @@\n                                         </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @endfor\n+                        @empty\n+                            <tr>\n+                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n+                            </tr>\n+                        @endforelse\n                     </tbody>\n \n                     </table>\n                 </div>\n@@ -163,14 +175,9 @@\n \n             <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n                 <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                     <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">\n-                        This comprehensive training program is designed to equip farmers with the latest knowledge and practical skills in crop management.\n-                        The curriculum covers key areas from advanced land preparation techniques to post-harvest technology. Participants will learn about \n-                        integrated pest management (IPM) strategies to reduce chemical use, and effective methods for ensuring crop quality and minimizing \n-                        post-harvest losses. The program combines theoretical knowledge with hands-on field sessions, allowing participants to apply what they learn in a real-world setting.\n-                    </p>\n+                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n                 </div>\n                 \n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n                     <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n@@ -200,123 +207,51 @@\n             </div>\n \n \n             <!-- participants tab start -->\n-            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12\">\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n-                    <div class=\"lg:flex h-full\">\n-                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n-                            <img \n-                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n-                                alt=\"Training Image\" \n-                                class=\"object-cover w-full h-full\"\n-                            >\n-                        </div>\n-                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n-                            <div>\n-                                <p class=\"text-xs md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-                                <p class=\"text-[10px] lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n-                            </div>\n-                            <div class=\"mb-4 mt-10\">\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n-                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n-                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n-                                </div>\n-                            </div>\n-                        </div>\n-                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            <button onclick=\"openModal('geneReportModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Generate Report\n-                            </button>\n-                            <button disabled onclick=\"openModal('programQrModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n-                                    bg-white  transition-all duration-200 hover:bg-transparent \" >\n-                                QR Code\n-                            </button>\n-                            \n-                            <button disabled onclick=\"openModal('editGrantModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n-                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n-                                Edit Info\n-                            </button>\n-                            <button disabled onclick=\"openModal('endProgramModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n-                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n-                                End Program\n-                            </button>\n-                        </div>\n-                    </div>\n-                </div>\n-            </div>\n              <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh]\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"bg-snbg border border-gray-100\">\n                         <tr class=\"text-customIT text-left \">\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">PRESENT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @for($i = 0; $i < 10; $i++)\n+                        @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n-                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\">\n+                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n+                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n+                                        checked\n+                                    @endif >\n                                 </td>\n-                                <td class=\"pl-4 py-3 text-sm\">\n-                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                                        <button @click=\"show = !show\"  class=\" rounded-sm pl-2\">\n-                                            <img src=\"{{ asset('images/dot-menu.svg') }}\"\n-                                            class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                                        </button>\n-                                        <!-- The Popover Menu, controlled by Alpine.js -->\n-                                        <div x-show=\"show\" \n-                                        class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                                Choose an Action\n-                                            </h3>\n-                                            <div class=\"border-t border-gray-200 py-2\">\n-                                                <ul class=\"space-y-2\">\n-                                                    <li>\n-                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                                    </li>\n-                                                    <li>\n-                                                        <a onclick=\"openModal('endProgramModal')\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">Delete</a>\n-                                                    </li>\n-                                                </ul>\n-                                            </div>\n-                                        </div>\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @endfor\n+                        @empty\n+                            \n+                        @endforelse\n                     </tbody>\n                     </table>\n                 </div>\n                 @include('components.pagination')\n"
                },
                {
                    "date": 1763822793390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,10 @@\n                         </div>\n                         <div class=\"lg:ml-4 sm:flex-1 p-2\">\n                             <div>\n                                 <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n+<td>{{ $user->user_info && $user->user_info->sector ? $user->user_info->sector->sector_name : '-' }}</td>\n+\n                             </div>\n                             <div class=\"mb-4 mt-10\">\n                                 <div class=\"flex items-center space-x-4 mb-1\">\n                                     <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n"
                },
                {
                    "date": 1763822799740,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,10 +48,9 @@\n                         </div>\n                         <div class=\"lg:ml-4 sm:flex-1 p-2\">\n                             <div>\n                                 <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-<td>{{ $user->user_info && $user->user_info->sector ? $user->user_info->sector->sector_name : '-' }}</td>\n-\n+                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n                             </div>\n                             <div class=\"mb-4 mt-10\">\n                                 <div class=\"flex items-center space-x-4 mb-1\">\n                                     <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n"
                },
                {
                    "date": 1763823249773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n             </div>\n         </div>\n         <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n             <!-- Initiative tab -->\n-            <div class=\"col-span-12\">\n+            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n                     <div class=\"lg:flex h-full\">\n                         <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n                             <img \n@@ -74,25 +74,25 @@\n                                 </div>\n                             </div>\n                         </div>\n                         <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            {{--<button onclick=\"openModal('programQrModal')\" \n+                            <button onclick=\"openModal('programQrModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 QR Code\n-                            </button>--}}\n+                            </button>\n                             \n-                            <button onclick=\"openModal('editTrainingModal')\" \n+                            <button onclick=\"openModal('editGrantModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Edit Info\n                             </button>\n                             \n-                            {{--<button onclick=\"openModal('geneReportModal')\" \n+                            <button onclick=\"openModal('geneReportModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Generate Report\n-                            </button>--}}\n+                            </button>\n                             \n                             <button onclick=\"openModal('endProgramModal')\" \n                                 class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n@@ -101,40 +101,32 @@\n                         </div>\n                     </div>\n                 </div>\n             </div>\n-\n             <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh] custom-scroll\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n                         <tr class=\"text-customIT text-left\">\n-                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">STATUS</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @forelse($training->participants as $user)\n+                        @for($i = 0; $i < 10; $i++)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n+                                    <div class=\"bg-transparent rounded-md  inline-block\">\n+                                        Active\n                                     </div>\n                                 </td>\n                                 <td class=\"pl-4 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n@@ -142,9 +134,9 @@\n                                             <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n                                         </button>\n                                         <!-- The Popover Menu, controlled by Alpine.js -->\n                                         <div x-show=\"show\" \n-                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            class=\"absolute top-full right-0 z-100 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n                                             <h3 class=\"text-md font-bold text-customIT mb-2\">\n                                                 Choose an Action\n                                             </h3>\n                                             <div class=\"border-t border-gray-200 py-2\">\n@@ -160,13 +152,9 @@\n                                         </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @empty\n-                            <tr>\n-                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n-                            </tr>\n-                        @endforelse\n+                        @endfor\n                     </tbody>\n \n                     </table>\n                 </div>\n@@ -175,9 +163,14 @@\n \n             <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n                 <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                     <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">\n+                        This comprehensive training program is designed to equip farmers with the latest knowledge and practical skills in crop management.\n+                        The curriculum covers key areas from advanced land preparation techniques to post-harvest technology. Participants will learn about \n+                        integrated pest management (IPM) strategies to reduce chemical use, and effective methods for ensuring crop quality and minimizing \n+                        post-harvest losses. The program combines theoretical knowledge with hands-on field sessions, allowing participants to apply what they learn in a real-world setting.\n+                    </p>\n                 </div>\n                 \n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n                     <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n@@ -207,51 +200,123 @@\n             </div>\n \n \n             <!-- participants tab start -->\n+            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12\">\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n+                    <div class=\"lg:flex h-full\">\n+                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n+                            <img \n+                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n+                                alt=\"Training Image\" \n+                                class=\"object-cover w-full h-full\"\n+                            >\n+                        </div>\n+                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n+                            <div>\n+                                <p class=\"text-xs md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n+                                <p class=\"text-[10px] lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n+                            </div>\n+                            <div class=\"mb-4 mt-10\">\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n+                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n+                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n+                                </div>\n+                            </div>\n+                        </div>\n+                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n+                            <button onclick=\"openModal('geneReportModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Generate Report\n+                            </button>\n+                            <button disabled onclick=\"openModal('programQrModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n+                                    bg-white  transition-all duration-200 hover:bg-transparent \" >\n+                                QR Code\n+                            </button>\n+                            \n+                            <button disabled onclick=\"openModal('editGrantModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n+                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n+                                Edit Info\n+                            </button>\n+                            <button disabled onclick=\"openModal('endProgramModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n+                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n+                                End Program\n+                            </button>\n+                        </div>\n+                    </div>\n+                </div>\n+            </div>\n              <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh]\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"bg-snbg border border-gray-100\">\n                         <tr class=\"text-customIT text-left \">\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">PRESENT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @forelse($training->participants as $user)\n+                        @for($i = 0; $i < 10; $i++)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n-                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n-                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n-                                        checked\n-                                    @endif >\n+                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\">\n                                 </td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n+                                <td class=\"pl-4 py-3 text-sm\">\n+                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                                        <button @click=\"show = !show\"  class=\" rounded-sm pl-2\">\n+                                            <img src=\"{{ asset('images/dot-menu.svg') }}\"\n+                                            class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                                        </button>\n+                                        <!-- The Popover Menu, controlled by Alpine.js -->\n+                                        <div x-show=\"show\" \n+                                        class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                                Choose an Action\n+                                            </h3>\n+                                            <div class=\"border-t border-gray-200 py-2\">\n+                                                <ul class=\"space-y-2\">\n+                                                    <li>\n+                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                                    </li>\n+                                                    <li>\n+                                                        <a onclick=\"openModal('endProgramModal')\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">Delete</a>\n+                                                    </li>\n+                                                </ul>\n+                                            </div>\n+                                        </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @empty\n-                            \n-                        @endforelse\n+                        @endfor\n                     </tbody>\n                     </table>\n                 </div>\n                 @include('components.pagination')\n"
                },
                {
                    "date": 1763823256709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n             </div>\n         </div>\n         <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n             <!-- Initiative tab -->\n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12\">\n+            <div class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n                     <div class=\"lg:flex h-full\">\n                         <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n                             <img \n@@ -74,25 +74,25 @@\n                                 </div>\n                             </div>\n                         </div>\n                         <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            <button onclick=\"openModal('programQrModal')\" \n+                            {{--<button onclick=\"openModal('programQrModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 QR Code\n-                            </button>\n+                            </button>--}}\n                             \n-                            <button onclick=\"openModal('editGrantModal')\" \n+                            <button onclick=\"openModal('editTrainingModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Edit Info\n                             </button>\n                             \n-                            <button onclick=\"openModal('geneReportModal')\" \n+                            {{--<button onclick=\"openModal('geneReportModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Generate Report\n-                            </button>\n+                            </button>--}}\n                             \n                             <button onclick=\"openModal('endProgramModal')\" \n                                 class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                     bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n@@ -101,32 +101,40 @@\n                         </div>\n                     </div>\n                 </div>\n             </div>\n+\n             <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh] custom-scroll\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n                         <tr class=\"text-customIT text-left\">\n+                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">STATUS</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @for($i = 0; $i < 10; $i++)\n+                        @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md  inline-block\">\n-                                        Active\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n                                     </div>\n                                 </td>\n                                 <td class=\"pl-4 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n@@ -134,9 +142,9 @@\n                                             <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n                                         </button>\n                                         <!-- The Popover Menu, controlled by Alpine.js -->\n                                         <div x-show=\"show\" \n-                                            class=\"absolute top-full right-0 z-100 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n                                             <h3 class=\"text-md font-bold text-customIT mb-2\">\n                                                 Choose an Action\n                                             </h3>\n                                             <div class=\"border-t border-gray-200 py-2\">\n@@ -152,9 +160,13 @@\n                                         </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @endfor\n+                        @empty\n+                            <tr>\n+                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n+                            </tr>\n+                        @endforelse\n                     </tbody>\n \n                     </table>\n                 </div>\n@@ -163,14 +175,9 @@\n \n             <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n                 <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                     <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">\n-                        This comprehensive training program is designed to equip farmers with the latest knowledge and practical skills in crop management.\n-                        The curriculum covers key areas from advanced land preparation techniques to post-harvest technology. Participants will learn about \n-                        integrated pest management (IPM) strategies to reduce chemical use, and effective methods for ensuring crop quality and minimizing \n-                        post-harvest losses. The program combines theoretical knowledge with hands-on field sessions, allowing participants to apply what they learn in a real-world setting.\n-                    </p>\n+                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n                 </div>\n                 \n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n                     <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n@@ -200,123 +207,51 @@\n             </div>\n \n \n             <!-- participants tab start -->\n-            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12\">\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n-                    <div class=\"lg:flex h-full\">\n-                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n-                            <img \n-                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n-                                alt=\"Training Image\" \n-                                class=\"object-cover w-full h-full\"\n-                            >\n-                        </div>\n-                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n-                            <div>\n-                                <p class=\"text-xs md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-                                <p class=\"text-[10px] lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n-                            </div>\n-                            <div class=\"mb-4 mt-10\">\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n-                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n-                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n-                                </div>\n-                            </div>\n-                        </div>\n-                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            <button onclick=\"openModal('geneReportModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Generate Report\n-                            </button>\n-                            <button disabled onclick=\"openModal('programQrModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n-                                    bg-white  transition-all duration-200 hover:bg-transparent \" >\n-                                QR Code\n-                            </button>\n-                            \n-                            <button disabled onclick=\"openModal('editGrantModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n-                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n-                                Edit Info\n-                            </button>\n-                            <button disabled onclick=\"openModal('endProgramModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-transparent text-transparent font-semibold \n-                                    bg-white  transition-all duration-200 hover:bg-transparent \">\n-                                End Program\n-                            </button>\n-                        </div>\n-                    </div>\n-                </div>\n-            </div>\n              <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh]\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"bg-snbg border border-gray-100\">\n                         <tr class=\"text-customIT text-left \">\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID NUMBER</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">MEMBER TYPE</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n                             <th class=\"px-4 py-3 text-xs font-medium\">PRESENT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n                         </tr>\n                     </thead>\n                     <tbody>\n-                        @for($i = 0; $i < 10; $i++)\n+                        @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Aeron Jead Marquez</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">112233445566</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">Member Type</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n-                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\">\n+                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n+                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n+                                        checked\n+                                    @endif >\n                                 </td>\n-                                <td class=\"pl-4 py-3 text-sm\">\n-                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                                        <button @click=\"show = !show\"  class=\" rounded-sm pl-2\">\n-                                            <img src=\"{{ asset('images/dot-menu.svg') }}\"\n-                                            class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                                        </button>\n-                                        <!-- The Popover Menu, controlled by Alpine.js -->\n-                                        <div x-show=\"show\" \n-                                        class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                                Choose an Action\n-                                            </h3>\n-                                            <div class=\"border-t border-gray-200 py-2\">\n-                                                <ul class=\"space-y-2\">\n-                                                    <li>\n-                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                                    </li>\n-                                                    <li>\n-                                                        <a onclick=\"openModal('endProgramModal')\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">Delete</a>\n-                                                    </li>\n-                                                </ul>\n-                                            </div>\n-                                        </div>\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @endfor\n+                        @empty\n+                            \n+                        @endforelse\n                     </tbody>\n                     </table>\n                 </div>\n                 @include('components.pagination')\n"
                },
                {
                    "date": 1763823425579,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,11 +225,11 @@\n                     </thead>\n                     <tbody>\n                         @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n                                     <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n                                      @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                         checked\n"
                },
                {
                    "date": 1763823454557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,11 +225,11 @@\n                     </thead>\n                     <tbody>\n                         @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ??}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n                                     <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n                                      @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                         checked\n"
                },
                {
                    "date": 1763823515667,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,29 +225,27 @@\n                     </thead>\n                     <tbody>\n                         @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ??}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 pl-6 gap-1\">\n                                     <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n                                      @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                         checked\n                                     @endif >\n                                 </td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n-                                    </div>\n-                                </td>\n+<td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+    @if($user->pivot->check_in_at)\n+        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n+    @elseif($isFinished)\n+        <span class=\"text-red-500\">Did Not Attend</span>\n+    @else\n+        <span class=\"text-gray-400\">Not Yet Attended</span>\n+    @endif\n+</td>\n+\n                             </tr>\n                         @empty\n                             \n                         @endforelse\n"
                },
                {
                    "date": 1763823561378,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,18 +234,20 @@\n                                      @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                         checked\n                                     @endif >\n                                 </td>\n-<td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-    @if($user->pivot->check_in_at)\n-        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n-    @elseif($isFinished)\n-        <span class=\"text-red-500\">Did Not Attend</span>\n-    @else\n-        <span class=\"text-gray-400\">Not Yet Attended</span>\n-    @endif\n-</td>\n-\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n+                                    </div>\n+                                </td>\n                             </tr>\n                         @empty\n                             \n                         @endforelse\n"
                },
                {
                    "date": 1763823576254,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,20 +234,18 @@\n                                      @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                         checked\n                                     @endif >\n                                 </td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n-                                    </div>\n-                                </td>\n+<td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+    @if($user->pivot->check_in_at)\n+        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n+    @elseif($isFinished)\n+        <span class=\"text-red-500\">Did Not Attend</span>\n+    @else\n+        <span class=\"text-gray-400\">Not Yet Attended</span>\n+    @endif\n+</td>\n+\n                             </tr>\n                         @empty\n                             \n                         @endforelse\n"
                },
                {
                    "date": 1763829438734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,17 +234,17 @@\n                                      @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                         checked\n                                     @endif >\n                                 </td>\n-<td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-    @if($user->pivot->check_in_at)\n-        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n-    @elseif($isFinished)\n-        <span class=\"text-red-500\">Did Not Attend</span>\n-    @else\n-        <span class=\"text-gray-400\">Not Yet Attended</span>\n-    @endif\n-</td>\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                    @if($user->pivot->check_in_at)\n+                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n+                                    @elseif($isFinished)\n+                                        <span class=\"text-red-500\">Did Not Attend</span>\n+                                    @else\n+                                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                                    @endif\n+                                </td>\n \n                             </tr>\n                         @empty\n                             \n"
                },
                {
                    "date": 1763831159198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,18 +124,15 @@\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n-                                    </div>\n+                                    @if($user->pivot->check_in_at)\n+                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n+                                    @elseif($isFinished)\n+                                        <span class=\"text-red-500\">Did Not Attend</span>\n+                                    @else\n+                                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                                    @endif\n                                 </td>\n                                 <td class=\"pl-4 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n                                         <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n"
                },
                {
                    "date": 1763831582997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+<script src=\"https://unpkg.com/html5-qrcode\" type=\"text/javascript\"></script>\n \n @extends('layouts.app')\n \n @section('content')\n"
                },
                {
                    "date": 1763832523603,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,4 @@\n-<script src=\"https://unpkg.com/html5-qrcode\" type=\"text/javascript\"></script>\n \n @extends('layouts.app')\n \n @section('content')\n@@ -125,15 +124,18 @@\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    @if($user->pivot->check_in_at)\n-                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n-                                    @elseif($isFinished)\n-                                        <span class=\"text-red-500\">Did Not Attend</span>\n-                                    @else\n-                                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                                    @endif\n+                                    <div class=\"bg-transparent rounded-md inline-block\">\n+                                        @if($isFinished && !$user->pivot->check_in_at)\n+                                            <span class=\"text-red-500\">Did Not Attend</span>\n+                                        @else\n+                                            {{ $user->pivot->check_in_at \n+                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n+                                                : '-' \n+                                            }}\n+                                        @endif\n+                                    </div>\n                                 </td>\n                                 <td class=\"pl-4 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n                                         <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n@@ -232,17 +234,17 @@\n                                      @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                         checked\n                                     @endif >\n                                 </td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    @if($user->pivot->check_in_at)\n-                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n-                                    @elseif($isFinished)\n-                                        <span class=\"text-red-500\">Did Not Attend</span>\n-                                    @else\n-                                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                                    @endif\n-                                </td>\n+                            <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                @if($user->pivot->check_in_at)\n+                                    {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n+                                @elseif($isFinished)\n+                                    <span class=\"text-red-500\">Did Not Attend</span>\n+                                @else\n+                                    <span class=\"text-gray-400\">Not Yet Attended</span>\n+                                @endif\n+                            </td>\n \n                             </tr>\n                         @empty\n                             \n"
                },
                {
                    "date": 1763832531394,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+<script src=\"https://unpkg.com/html5-qrcode\" type=\"text/javascript\"></script>\n \n @extends('layouts.app')\n \n @section('content')\n@@ -124,18 +125,15 @@\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    <div class=\"bg-transparent rounded-md inline-block\">\n-                                        @if($isFinished && !$user->pivot->check_in_at)\n-                                            <span class=\"text-red-500\">Did Not Attend</span>\n-                                        @else\n-                                            {{ $user->pivot->check_in_at \n-                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n-                                                : '-' \n-                                            }}\n-                                        @endif\n-                                    </div>\n+                                    @if($user->pivot->check_in_at)\n+                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n+                                    @elseif($isFinished)\n+                                        <span class=\"text-red-500\">Did Not Attend</span>\n+                                    @else\n+                                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                                    @endif\n                                 </td>\n                                 <td class=\"pl-4 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n                                         <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n@@ -234,17 +232,17 @@\n                                      @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                         checked\n                                     @endif >\n                                 </td>\n-                            <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                @if($user->pivot->check_in_at)\n-                                    {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n-                                @elseif($isFinished)\n-                                    <span class=\"text-red-500\">Did Not Attend</span>\n-                                @else\n-                                    <span class=\"text-gray-400\">Not Yet Attended</span>\n-                                @endif\n-                            </td>\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                    @if($user->pivot->check_in_at)\n+                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n+                                    @elseif($isFinished)\n+                                        <span class=\"text-red-500\">Did Not Attend</span>\n+                                    @else\n+                                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                                    @endif\n+                                </td>\n \n                             </tr>\n                         @empty\n                             \n"
                },
                {
                    "date": 1763832582533,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n-<script src=\"https://unpkg.com/html5-qrcode\" type=\"text/javascript\"></script>\n \n+\n @extends('layouts.app')\n \n @section('content')\n <style>\n@@ -122,9 +122,9 @@\n                     <tbody>\n                         @forelse($training->participants as $user)\n                             <tr class=\"border border-gray-300 hover:bg-gray-100\">\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n                                 <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                 <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n                                     @if($user->pivot->check_in_at)\n                                         {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n"
                },
                {
                    "date": 1763833719952,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -303,12 +303,11 @@\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n         </div>\n \n-        <!-- Upload Button -->\n-        <div class=\"mt-6\">\n-            <input type=\"file\" id=\"qrUpload\" accept=\"image/*\" \n-                class=\"w-full py-3 border rounded-lg cursor-pointer text-center\"/>\n+        <!-- Insert Member Text -->\n+        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n+            or insert member\n         </div>\n \n         <!-- Close Button -->\n         <div class=\"mt-3\">\n@@ -318,8 +317,9 @@\n             </button>\n         </div>\n     </div>\n </div>\n+\n <!-- SUCCESS MODAL -->\n <div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-50\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n"
                },
                {
                    "date": 1763833740874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -303,11 +303,12 @@\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n         </div>\n \n-        <!-- Insert Member Text -->\n-        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n-            or insert member\n+        <!-- Upload Button -->\n+        <div class=\"mt-6\">\n+            <input type=\"file\" id=\"qrUpload\" accept=\"image/*\" \n+                class=\"w-full py-3 border rounded-lg cursor-pointer text-center\"/>\n         </div>\n \n         <!-- Close Button -->\n         <div class=\"mt-3\">\n@@ -317,9 +318,8 @@\n             </button>\n         </div>\n     </div>\n </div>\n-\n <!-- SUCCESS MODAL -->\n <div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-50\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n"
                },
                {
                    "date": 1763833787019,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -286,9 +286,9 @@\n     </div>\n </div>\n <!-- Scanner Modal -->\n <div id=\"qrScannerModal\" \n-    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-200\">\n+    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-5000 opacity-0 pointer-events-none transition-opacity duration-200\">\n     <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full\">\n         <!-- Header -->\n         <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n             Scan User QR Code\n"
                },
                {
                    "date": 1763833813912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -319,9 +319,9 @@\n         </div>\n     </div>\n </div>\n <!-- SUCCESS MODAL -->\n-<div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-50\">\n+<div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-5000\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n         <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n         <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md\">OK</button>\n"
                },
                {
                    "date": 1763833886996,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -286,9 +286,9 @@\n     </div>\n </div>\n <!-- Scanner Modal -->\n <div id=\"qrScannerModal\" \n-    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-5000 opacity-0 pointer-events-none transition-opacity duration-200\">\n+    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-9999 opacity-0 pointer-events-none transition-opacity duration-200\">\n     <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full\">\n         <!-- Header -->\n         <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n             Scan User QR Code\n"
                },
                {
                    "date": 1763834047258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -286,10 +286,10 @@\n     </div>\n </div>\n <!-- Scanner Modal -->\n <div id=\"qrScannerModal\" \n-    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-9999 opacity-0 pointer-events-none transition-opacity duration-200\">\n-    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full\">\n+    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n+    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n         <!-- Header -->\n         <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n             Scan User QR Code\n         </h2>\n@@ -303,12 +303,11 @@\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n         </div>\n \n-        <!-- Upload Button -->\n-        <div class=\"mt-6\">\n-            <input type=\"file\" id=\"qrUpload\" accept=\"image/*\" \n-                class=\"w-full py-3 border rounded-lg cursor-pointer text-center\"/>\n+        <!-- Insert Member Text -->\n+        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n+            or insert member\n         </div>\n \n         <!-- Close Button -->\n         <div class=\"mt-3\">\n@@ -318,8 +317,9 @@\n             </button>\n         </div>\n     </div>\n </div>\n+\n <!-- SUCCESS MODAL -->\n <div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-5000\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n"
                },
                {
                    "date": 1763834260690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,34 +252,42 @@\n                 </div>\n                 @include('components.pagination')\n             </div>\n \n-            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n-                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-6\">QR CODE</h2>\n-                    <div class=\"flex justify-center bg-gray-200 mx-12 h-60 w-60\">\n-                        <p class=\"text-sm text-bsctxt py-28\">QR IMAGE</p>\n-                    </div>\n-                    <p class=\" text-bsctxt text-md\">INIT-EV112403232323</p>\n-                    <button onclick=\"openModal('programQrModal')\" class=\"text-md mt-6 px-14 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n-                        Expand QR Code\n-                    </button>\n-                </div>\n-                                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md mt-2 overflow-auto\">\n-                        <button  onclick=\"openQrScanner()\" class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            Manage Attendance\n-                        </button>\n-                </div>     \n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n-                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">Back to Initiative</p>\n-                    <div class=\"px-10 py-3\">\n-                        <button  @click=\"activeTab = 'initiative'\" class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            Initiative\n-                        </button>\n-                    </div>\n-                </div>\n-            </div>\n+<div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n+    <!-- Scanner Mode Info -->\n+    <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n+        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n+        <p class=\"text-bsctxt text-md mb-6\">\n+            On Scanner mode to manage attendance\n+        </p>\n+        <button onclick=\"openQrScanner()\" \n+            class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n+            Start Scanner\n+        </button>\n+    </div>\n+\n+    <!-- Manage Attendance Button -->\n+    <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n+        <button onclick=\"openQrScanner()\" \n+            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+            Manage Attendance\n+        </button>\n+    </div>     \n+\n+    <!-- Back to Initiative -->\n+    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n+        <div class=\"px-10 py-3\">\n+            <button @click=\"activeTab = 'initiative'\" \n+                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                Initiative\n+            </button>\n         </div>\n+    </div>\n+</div>\n+\n+        </div>\n         @include('components.modals.edit-training')\n         @include('components.modals.end-program')\n         @include('components.modals.program-qr')\n         @include('components.modals.generate-report')\n"
                },
                {
                    "date": 1763834319578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -257,9 +257,9 @@\n     <!-- Scanner Mode Info -->\n     <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n         <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n         <p class=\"text-bsctxt text-md mb-6\">\n-            On Scanner mode to manage attendance\n+            On the Scanner mode to manage attendance\n         </p>\n         <button onclick=\"openQrScanner()\" \n             class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n             Start Scanner\n"
                },
                {
                    "date": 1763834326633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,40 +252,40 @@\n                 </div>\n                 @include('components.pagination')\n             </div>\n \n-<div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n-    <!-- Scanner Mode Info -->\n-    <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n-        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n-        <p class=\"text-bsctxt text-md mb-6\">\n-            On the Scanner mode to manage attendance\n-        </p>\n-        <button onclick=\"openQrScanner()\" \n-            class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n-            Start Scanner\n-        </button>\n-    </div>\n+            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n+                <!-- Scanner Mode Info -->\n+                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n+                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n+                    <p class=\"text-bsctxt text-md mb-6\">\n+                        On the Scanner mode to manage attendance\n+                    </p>\n+                    <button onclick=\"openQrScanner()\" \n+                        class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n+                        Start Scanner\n+                    </button>\n+                </div>\n \n-    <!-- Manage Attendance Button -->\n-    <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n-        <button onclick=\"openQrScanner()\" \n-            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-            Manage Attendance\n-        </button>\n-    </div>     \n+                <!-- Manage Attendance Button -->\n+                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n+                    <button onclick=\"openQrScanner()\" \n+                        class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                        Manage Attendance\n+                    </button>\n+                </div>     \n \n-    <!-- Back to Initiative -->\n-    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n-        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n-        <div class=\"px-10 py-3\">\n-            <button @click=\"activeTab = 'initiative'\" \n-                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                Initiative\n-            </button>\n-        </div>\n-    </div>\n-</div>\n+                <!-- Back to Initiative -->\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n+                    <div class=\"px-10 py-3\">\n+                        <button @click=\"activeTab = 'initiative'\" \n+                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                            Initiative\n+                        </button>\n+                    </div>\n+                </div>\n+            </div>\n \n         </div>\n         @include('components.modals.edit-training')\n         @include('components.modals.end-program')\n"
                },
                {
                    "date": 1763834518345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -210,47 +210,47 @@\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh]\">\n-                    <table class=\"min-w-full border-spacing-y-1\">\n-                    <thead class=\"bg-snbg border border-gray-100\">\n-                        <tr class=\"text-customIT text-left \">\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">PRESENT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n-                        </tr>\n-                    </thead>\n-                    <tbody>\n-                        @forelse($training->participants as $user)\n-                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 pl-6 gap-1\">\n-                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n-                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n-                                        checked\n-                                    @endif >\n-                                </td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    @if($user->pivot->check_in_at)\n-                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n-                                    @elseif($isFinished)\n-                                        <span class=\"text-red-500\">Did Not Attend</span>\n-                                    @else\n-                                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                                    @endif\n-                                </td>\n+    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+            <tr>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+            </tr>\n+        </thead>\n+        <tbody class=\"bg-white divide-y divide-gray-100\">\n+            @forelse($training->participants as $user)\n+            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                <td class=\"px-6 py-3 text-center\">\n+                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n+                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n+                </td>\n+                <td class=\"px-6 py-3 text-sm font-medium\">\n+                    @if($user->pivot->check_in_at)\n+                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                    @elseif($isFinished)\n+                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                    @else\n+                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                    @endif\n+                </td>\n+            </tr>\n+            @empty\n+            <tr>\n+                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+            </tr>\n+            @endforelse\n+        </tbody>\n+    </table>\n+</div>\n \n-                            </tr>\n-                        @empty\n-                            \n-                        @endforelse\n-                    </tbody>\n-                    </table>\n-                </div>\n                 @include('components.pagination')\n             </div>\n \n             <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n"
                },
                {
                    "date": 1763834962407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,32 +1,30 @@\n-\n-\n @extends('layouts.app')\n \n @section('content')\n <style>\n     .custom-scroll::-webkit-scrollbar {\n         width: 4px;\n         height: 2px; \n     }\n-\n     .custom-scroll::-webkit-scrollbar-track {\n         background: transparent;\n     }\n-\n     .custom-scroll::-webkit-scrollbar-thumb {\n         background-color: #2C6E49; \n     }\n-\n     .custom-scroll::-webkit-scrollbar-thumb:hover {\n         background-color: #94a3b8;\n     }\n </style>\n+\n @include('layouts.loading-overlay')\n+\n <div class=\"p-4\">\n-        <div class=\"bg-mainbg px-2 space-y-2\">\n+    <div class=\"bg-mainbg px-2 space-y-2\">\n+\n+        <!-- Header -->\n         <div class=\"bg-mainbg px-2\">\n-            <!-- Header -->\n             <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-2\">\n                 <div class=\"text-customIT flex flex-col\">\n                     <h2 class=\"text-[20px] sm:text-[25px] font-bold text-custom\">Program Details</h2>\n                     <p class=\"text-sm text-gray-600\">\n@@ -34,156 +32,146 @@\n                     </p>\n                 </div>\n             </div>\n         </div>\n-        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n-            <!-- Initiative tab -->\n+\n+        <!-- Main Grid -->\n+        <div class=\"grid grid-cols-12 gap-2 py-2\" x-data=\"{ activeTab: 'initiative' }\">\n+\n+            <!-- Initiative Tab -->\n             <div class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n                     <div class=\"lg:flex h-full\">\n-                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n+                        <!-- Program Image -->\n+                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n                             <img \n-                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n+                                src=\"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }}\"\n                                 alt=\"Training Image\" \n-                                class=\"object-cover w-full h-full\"\n+                                class=\"object-cover w-full h-full rounded-md\"\n                             >\n                         </div>\n+\n+                        <!-- Program Details -->\n                         <div class=\"lg:ml-4 sm:flex-1 p-2\">\n                             <div>\n-                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n+                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title }}</p>\n+                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name }}</p>\n                             </div>\n-                            <div class=\"mb-4 mt-10\">\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n-                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n+                            <div class=\"mb-4 mt-10 space-y-2\">\n+                                <div class=\"flex items-center space-x-4\">\n+                                    <p class=\"font-semibold text-md text-gray-600\">Status:</p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->date < now() ? 'Completed' : 'Upcoming' }}</span>\n                                 </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n-                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n+                                <div class=\"flex items-center space-x-4\">\n+                                    <p class=\"font-semibold text-md text-gray-600\">Date:</p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n                                 </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n+                                <div class=\"flex items-center space-x-4\">\n+                                    <p class=\"font-semibold text-md text-gray-600\">Time:</p>\n                                     <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n                                 </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n+                                <div class=\"flex items-center space-x-4\">\n+                                    <p class=\"font-semibold text-md text-gray-600\">Venue:</p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->venue }}</span>\n                                 </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n+                                <div class=\"flex items-center space-x-4\">\n+                                    <p class=\"font-semibold text-md text-gray-600\">Participants:</p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count() }}</span>\n                                 </div>\n                             </div>\n                         </div>\n+\n+                        <!-- Action Buttons -->\n                         <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            {{--<button onclick=\"openModal('programQrModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                QR Code\n-                            </button>--}}\n-                            \n                             <button onclick=\"openModal('editTrainingModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Edit Info\n                             </button>\n-                            \n-                            {{--<button onclick=\"openModal('geneReportModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Generate Report\n-                            </button>--}}\n-                            \n+\n                             <button onclick=\"openModal('endProgramModal')\" \n-                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                class=\"min-w-[220px] py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 End Program\n                             </button>\n                         </div>\n                     </div>\n                 </div>\n             </div>\n \n+            <!-- Program Attendees Tab -->\n             <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n-                </div>\n+                <h1 class=\"text-lg xl:text-2xl font-bold text-customIT mb-4\">Program Attendees</h1>\n                 <div class=\"overflow-auto h-[60vh] custom-scroll\">\n-                    <table class=\"min-w-full border-spacing-y-1\">\n-                    <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n-                        <tr class=\"text-customIT text-left\">\n-                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n-                        </tr>\n-                    </thead>\n-                    <tbody>\n-                        @forelse($training->participants as $user)\n-                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+                        <thead class=\"bg-btncolor text-white rounded-t-lg sticky top-0 z-10\">\n+                            <tr>\n+                                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+                                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n+                            </tr>\n+                        </thead>\n+                        <tbody class=\"bg-white divide-y divide-gray-100\">\n+                            @forelse($training->participants as $user)\n+                            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                                <td class=\"px-6 py-3 text-sm font-medium\">\n                                     @if($user->pivot->check_in_at)\n-                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n+                                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n                                     @elseif($isFinished)\n-                                        <span class=\"text-red-500\">Did Not Attend</span>\n+                                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n                                     @else\n                                         <span class=\"text-gray-400\">Not Yet Attended</span>\n                                     @endif\n                                 </td>\n-                                <td class=\"pl-4 py-3 text-sm\">\n+                                <td class=\"px-6 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n                                         <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n                                             <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n                                         </button>\n-                                        <!-- The Popover Menu, controlled by Alpine.js -->\n                                         <div x-show=\"show\" \n                                             class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                                Choose an Action\n-                                            </h3>\n-                                            <div class=\"border-t border-gray-200 py-2\">\n-                                                <ul class=\"space-y-2\">\n-                                                    <li>\n-                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                                    </li>\n-                                                    <li>\n-                                                        <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n-                                                    </li>\n-                                                </ul>\n-                                            </div>\n+                                            <h3 class=\"text-md font-bold text-customIT mb-2\">Choose an Action</h3>\n+                                            <ul class=\"space-y-2\">\n+                                                <li>\n+                                                    <a href=\"{{ route('view-profile', $training->id) }}\" class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                                </li>\n+                                                <li>\n+                                                    <a href=\"{{ route('grant-request') }}\" class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n+                                                </li>\n+                                            </ul>\n                                         </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                        @empty\n+                            @empty\n                             <tr>\n-                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n+                                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n                             </tr>\n-                        @endforelse\n-                    </tbody>\n-\n+                            @endforelse\n+                        </tbody>\n                     </table>\n                 </div>\n                 @include('components.pagination')\n             </div>\n \n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n-                <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n+            <!-- Description & Scanner Mode -->\n+            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n+                <!-- Description -->\n+                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n+                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Description</h2>\n                     <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n                 </div>\n-                \n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n+\n+                <!-- Training Date Info -->\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n                     <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n                         {{ $training->date->format('d F, Y') }}\n                     </p>\n-\n-                    {{-- Check if training is tomorrow or another day --}}\n                     <p class=\"text-center text-sm text-btncolor mt-1\">\n                         @if($training->date->isTomorrow())\n                             This training is scheduled for <strong>Tomorrow</strong>.\n                         @elseif($training->date->isToday())\n@@ -191,91 +179,35 @@\n                         @else\n                             This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n                         @endif\n                     </p>\n-\n                     <div class=\"px-10 py-3\">\n                         <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n                             class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                             View Participants \n                         </button>\n                     </div>\n-\n                 </div>\n-\n             </div>\n \n-\n-            <!-- participants tab start -->\n-             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n-                </div>\n-                <div class=\"overflow-auto h-[60vh]\">\n-    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-            <tr>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-            </tr>\n-        </thead>\n-        <tbody class=\"bg-white divide-y divide-gray-100\">\n-            @forelse($training->participants as $user)\n-            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                <td class=\"px-6 py-3 text-center\">\n-                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n-                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n-                </td>\n-                <td class=\"px-6 py-3 text-sm font-medium\">\n-                    @if($user->pivot->check_in_at)\n-                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                    @elseif($isFinished)\n-                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                    @else\n-                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                    @endif\n-                </td>\n-            </tr>\n-            @empty\n-            <tr>\n-                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-            </tr>\n-            @endforelse\n-        </tbody>\n-    </table>\n-</div>\n-\n-                @include('components.pagination')\n-            </div>\n-\n+            <!-- Participants Tab Scanner -->\n             <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n-                <!-- Scanner Mode Info -->\n                 <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n                     <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n-                    <p class=\"text-bsctxt text-md mb-6\">\n-                        On the Scanner mode to manage attendance\n-                    </p>\n+                    <p class=\"text-bsctxt text-md mb-6\">On the Scanner mode to manage attendance</p>\n                     <button onclick=\"openQrScanner()\" \n                         class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n                         Start Scanner\n                     </button>\n                 </div>\n \n-                <!-- Manage Attendance Button -->\n                 <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n                     <button onclick=\"openQrScanner()\" \n                         class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                         Manage Attendance\n                     </button>\n                 </div>     \n \n-                <!-- Back to Initiative -->\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n                     <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n                     <div class=\"px-10 py-3\">\n                         <button @click=\"activeTab = 'initiative'\" \n@@ -286,177 +218,80 @@\n                 </div>\n             </div>\n \n         </div>\n+\n         @include('components.modals.edit-training')\n         @include('components.modals.end-program')\n         @include('components.modals.program-qr')\n         @include('components.modals.generate-report')\n     </div>\n </div>\n-<!-- Scanner Modal -->\n-<div id=\"qrScannerModal\" \n-    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n-    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n-        <!-- Header -->\n-        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n-            Scan User QR Code\n-        </h2>\n-        \n-        <!-- Camera Preview -->\n-        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n-            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n-        </div>\n \n-        <!-- Scan Result -->\n-        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n-            Waiting for scan...\n-        </div>\n+@include('components.qr-scanner-modals')\n \n-        <!-- Insert Member Text -->\n-        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n-            or insert member\n-        </div>\n+<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n+<script>\n+    let html5QrCode; \n+    function onScanSuccess(decodedText, decodedResult) {\n+        const successModal = document.getElementById(\"scanSuccessModal\");\n+        const linkOutput = document.getElementById(\"scanLinkOutput\");\n \n-        <!-- Close Button -->\n-        <div class=\"mt-3\">\n-            <button onclick=\"closeQrScanner()\" \n-                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n-                Close Scanner\n-            </button>\n-        </div>\n-    </div>\n-</div>\n+        if (decodedText.startsWith(\"http\")) {\n+            linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+        } else {\n+            linkOutput.textContent = `Scanned: ${decodedText}`;\n+        }\n \n-<!-- SUCCESS MODAL -->\n-<div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-5000\">\n-    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n-        <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n-        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n-        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md\">OK</button>\n-    </div>\n-</div>\n+        successModal.classList.remove(\"hidden\");\n+        setTimeout(() => { successModal.classList.add(\"hidden\"); }, 2000);\n+    }\n \n+    function openQrScanner() {\n+        const modal = document.getElementById(\"qrScannerModal\");\n+        modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n \n+        if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n+        Html5Qrcode.getCameras().then(cameras => {\n+            if (cameras && cameras.length) {\n+                html5QrCode.start(cameras[0].id, { fps: 10, qrbox: 350 }, onScanSuccess)\n+                    .catch(err => console.error(\"Camera start failed:\", err));\n+            }\n+        }).catch(err => console.error(\"Camera permission denied:\", err));\n+    }\n \n+    function closeQrScanner() {\n+        const modal = document.getElementById(\"qrScannerModal\");\n+        modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n+        if (html5QrCode) {\n+            html5QrCode.stop().then(() => html5QrCode.clear())\n+                .catch(err => console.error(\"Failed to stop scanner:\", err));\n+        }\n+    }\n \n+    function closeSuccessModal() {\n+        document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n+    }\n \n-\n-<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n-    <div class=\"flex flex-col items-center\">\n-        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n-            viewBox=\"0 0 24 24\">\n-            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n-            <path class=\"opacity-75\" fill=\"currentColor\"\n-                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n-        </svg>\n-        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n-    </div>\n-</div>\n-\n-\n-<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n-<script>\n     function showLoadingOverlayBtn() {\n         document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n-\n-        // Auto hide after 1s (optional)\n-        setTimeout(() => {\n-            hideLoadingOverlayBtn();\n-        }, 1000);\n+        setTimeout(() => { hideLoadingOverlayBtn(); }, 1000);\n     }\n \n     function hideLoadingOverlayBtn() {\n         document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n     }\n-</script>\n \n-<script>\n-let html5QrCode; \n+    document.getElementById(\"qrUpload\")?.addEventListener(\"change\", e => {\n+        if (!e.target.files.length) return;\n+        const file = e.target.files[0];\n+        if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n \n-function onScanSuccess(decodedText, decodedResult) {\n-    console.log(` Code scanned = ${decodedText}`, decodedResult);\n-\n-    const successModal = document.getElementById(\"scanSuccessModal\");\n-    const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-    if (decodedText.startsWith(\"http\")) {\n-        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-    } else {\n-        linkOutput.textContent = `Scanned: ${decodedText}`;\n-    }\n-\n-    successModal.classList.remove(\"hidden\");\n-\n-    // Auto-close modal after 2 seconds\n-    setTimeout(() => {\n-        successModal.classList.add(\"hidden\");\n-    }, 2000);\n-}\n-\n-function openQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (!html5QrCode) {\n-        html5QrCode = new Html5Qrcode(\"qr-reader\");\n-    }\n-\n-    // Request camera permission & start scanner\n-    Html5Qrcode.getCameras().then(cameras => {\n-        if (cameras && cameras.length) {\n-            html5QrCode.start(\n-                cameras[0].id,   // use first camera\n-                { fps: 10, qrbox: 350 },\n-                onScanSuccess\n-            ).catch(err => console.error(\"Camera start failed:\", err));\n-        }\n-    }).catch(err => console.error(\"Camera permission denied:\", err));\n-}\n-\n-function closeQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n-\n\\ No newline at end of file\n-    if (html5QrCode) {\n-        html5QrCode.stop()\n-            .then(() => html5QrCode.clear())\n-            .catch(err => console.error(\"Failed to stop scanner:\", err));\n-    }\n-}\n-\n-function closeSuccessModal() {\n-    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n-}\n-\n-// Custom Upload File\n-document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n-    if (e.target.files.length === 0) return;\n-    const file = e.target.files[0];\n-    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n-\n-    html5QrCode.scanFile(file, true)\n-        .then(decodedText => {\n-            const successModal = document.getElementById(\"scanSuccessModal\");\n-            const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-            if (decodedText.startsWith(\"http\")) {\n-                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-            } else {\n-                linkOutput.textContent = `Scanned: ${decodedText}`;\n-            }\n-\n-            successModal.classList.remove(\"hidden\");\n-\n-            // Auto-close modal after 2 seconds\n-            setTimeout(() => {\n-                successModal.classList.add(\"hidden\");\n-            }, 2000);\n-        })\n-        .catch(err => {\n-            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n-            console.error(\"Image scan failed:\", err);\n-        });\n-});\n+        html5QrCode.scanFile(file, true)\n+            .then(decodedText => onScanSuccess(decodedText))\n+            .catch(err => {\n+                document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n+                console.error(\"Image scan failed:\", err);\n+            });\n+    });\n </script>\n-\n-@endsection\n+@endsection\n"
                },
                {
                    "date": 1763834987027,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,30 +1,32 @@\n+\n+\n @extends('layouts.app')\n \n @section('content')\n <style>\n     .custom-scroll::-webkit-scrollbar {\n         width: 4px;\n         height: 2px; \n     }\n+\n     .custom-scroll::-webkit-scrollbar-track {\n         background: transparent;\n     }\n+\n     .custom-scroll::-webkit-scrollbar-thumb {\n         background-color: #2C6E49; \n     }\n+\n     .custom-scroll::-webkit-scrollbar-thumb:hover {\n         background-color: #94a3b8;\n     }\n </style>\n-\n @include('layouts.loading-overlay')\n-\n <div class=\"p-4\">\n-    <div class=\"bg-mainbg px-2 space-y-2\">\n-\n-        <!-- Header -->\n+        <div class=\"bg-mainbg px-2 space-y-2\">\n         <div class=\"bg-mainbg px-2\">\n+            <!-- Header -->\n             <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-2\">\n                 <div class=\"text-customIT flex flex-col\">\n                     <h2 class=\"text-[20px] sm:text-[25px] font-bold text-custom\">Program Details</h2>\n                     <p class=\"text-sm text-gray-600\">\n@@ -32,146 +34,156 @@\n                     </p>\n                 </div>\n             </div>\n         </div>\n-\n-        <!-- Main Grid -->\n-        <div class=\"grid grid-cols-12 gap-2 py-2\" x-data=\"{ activeTab: 'initiative' }\">\n-\n-            <!-- Initiative Tab -->\n+        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n+            <!-- Initiative tab -->\n             <div class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n                     <div class=\"lg:flex h-full\">\n-                        <!-- Program Image -->\n-                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n+                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n                             <img \n-                                src=\"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }}\"\n+                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n                                 alt=\"Training Image\" \n-                                class=\"object-cover w-full h-full rounded-md\"\n+                                class=\"object-cover w-full h-full\"\n                             >\n                         </div>\n-\n-                        <!-- Program Details -->\n                         <div class=\"lg:ml-4 sm:flex-1 p-2\">\n                             <div>\n-                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title }}</p>\n-                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name }}</p>\n+                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n+                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n                             </div>\n-                            <div class=\"mb-4 mt-10 space-y-2\">\n-                                <div class=\"flex items-center space-x-4\">\n-                                    <p class=\"font-semibold text-md text-gray-600\">Status:</p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->date < now() ? 'Completed' : 'Upcoming' }}</span>\n+                            <div class=\"mb-4 mt-10\">\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n+                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n                                 </div>\n-                                <div class=\"flex items-center space-x-4\">\n-                                    <p class=\"font-semibold text-md text-gray-600\">Date:</p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n+                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n                                 </div>\n-                                <div class=\"flex items-center space-x-4\">\n-                                    <p class=\"font-semibold text-md text-gray-600\">Time:</p>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n                                     <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n                                 </div>\n-                                <div class=\"flex items-center space-x-4\">\n-                                    <p class=\"font-semibold text-md text-gray-600\">Venue:</p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->venue }}</span>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n                                 </div>\n-                                <div class=\"flex items-center space-x-4\">\n-                                    <p class=\"font-semibold text-md text-gray-600\">Participants:</p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count() }}</span>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n                                 </div>\n                             </div>\n                         </div>\n-\n-                        <!-- Action Buttons -->\n                         <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n+                            {{--<button onclick=\"openModal('programQrModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                QR Code\n+                            </button>--}}\n+                            \n                             <button onclick=\"openModal('editTrainingModal')\" \n                                 class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 Edit Info\n                             </button>\n-\n+                            \n+                            {{--<button onclick=\"openModal('geneReportModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Generate Report\n+                            </button>--}}\n+                            \n                             <button onclick=\"openModal('endProgramModal')\" \n-                                class=\"min-w-[220px] py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                 End Program\n                             </button>\n                         </div>\n                     </div>\n                 </div>\n             </div>\n \n-            <!-- Program Attendees Tab -->\n             <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n-                <h1 class=\"text-lg xl:text-2xl font-bold text-customIT mb-4\">Program Attendees</h1>\n+                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+                    <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n+                </div>\n                 <div class=\"overflow-auto h-[60vh] custom-scroll\">\n-                    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-                        <thead class=\"bg-btncolor text-white rounded-t-lg sticky top-0 z-10\">\n-                            <tr>\n-                                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-                                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n-                            </tr>\n-                        </thead>\n-                        <tbody class=\"bg-white divide-y divide-gray-100\">\n-                            @forelse($training->participants as $user)\n-                            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                                <td class=\"px-6 py-3 text-sm font-medium\">\n+                    <table class=\"min-w-full border-spacing-y-1\">\n+                    <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n+                        <tr class=\"text-customIT text-left\">\n+                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n+                        </tr>\n+                    </thead>\n+                    <tbody>\n+                        @forelse($training->participants as $user)\n+                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n                                     @if($user->pivot->check_in_at)\n-                                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n                                     @elseif($isFinished)\n-                                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                                        <span class=\"text-red-500\">Did Not Attend</span>\n                                     @else\n                                         <span class=\"text-gray-400\">Not Yet Attended</span>\n                                     @endif\n                                 </td>\n-                                <td class=\"px-6 py-3 text-sm\">\n+                                <td class=\"pl-4 py-3 text-sm\">\n                                     <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n                                         <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n                                             <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n                                         </button>\n+                                        <!-- The Popover Menu, controlled by Alpine.js -->\n                                         <div x-show=\"show\" \n                                             class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                            <h3 class=\"text-md font-bold text-customIT mb-2\">Choose an Action</h3>\n-                                            <ul class=\"space-y-2\">\n-                                                <li>\n-                                                    <a href=\"{{ route('view-profile', $training->id) }}\" class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                                </li>\n-                                                <li>\n-                                                    <a href=\"{{ route('grant-request') }}\" class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n-                                                </li>\n-                                            </ul>\n+                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                                Choose an Action\n+                                            </h3>\n+                                            <div class=\"border-t border-gray-200 py-2\">\n+                                                <ul class=\"space-y-2\">\n+                                                    <li>\n+                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                                    </li>\n+                                                    <li>\n+                                                        <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n+                                                    </li>\n+                                                </ul>\n+                                            </div>\n                                         </div>\n                                     </div>\n                                 </td>\n                             </tr>\n-                            @empty\n+                        @empty\n                             <tr>\n-                                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n                             </tr>\n-                            @endforelse\n-                        </tbody>\n+                        @endforelse\n+                    </tbody>\n+\n                     </table>\n                 </div>\n                 @include('components.pagination')\n             </div>\n \n-            <!-- Description & Scanner Mode -->\n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n-                <!-- Description -->\n-                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Description</h2>\n+            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n+                <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n                     <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n                 </div>\n-\n-                <!-- Training Date Info -->\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+                \n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n                     <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n                         {{ $training->date->format('d F, Y') }}\n                     </p>\n+\n+                    {{-- Check if training is tomorrow or another day --}}\n                     <p class=\"text-center text-sm text-btncolor mt-1\">\n                         @if($training->date->isTomorrow())\n                             This training is scheduled for <strong>Tomorrow</strong>.\n                         @elseif($training->date->isToday())\n@@ -179,35 +191,91 @@\n                         @else\n                             This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n                         @endif\n                     </p>\n+\n                     <div class=\"px-10 py-3\">\n                         <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n                             class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                             View Participants \n                         </button>\n                     </div>\n+\n                 </div>\n+\n             </div>\n \n-            <!-- Participants Tab Scanner -->\n+\n+            <!-- participants tab start -->\n+             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n+                </div>\n+                <div class=\"overflow-auto h-[60vh]\">\n+    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+            <tr>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+            </tr>\n+        </thead>\n+        <tbody class=\"bg-white divide-y divide-gray-100\">\n+            @forelse($training->participants as $user)\n+            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                <td class=\"px-6 py-3 text-center\">\n+                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n+                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n+                </td>\n+                <td class=\"px-6 py-3 text-sm font-medium\">\n+                    @if($user->pivot->check_in_at)\n+                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                    @elseif($isFinished)\n+                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                    @else\n+                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                    @endif\n+                </td>\n+            </tr>\n+            @empty\n+            <tr>\n+                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+            </tr>\n+            @endforelse\n+        </tbody>\n+    </table>\n+</div>\n+\n+                @include('components.pagination')\n+            </div>\n+\n             <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n+                <!-- Scanner Mode Info -->\n                 <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n                     <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n-                    <p class=\"text-bsctxt text-md mb-6\">On the Scanner mode to manage attendance</p>\n+                    <p class=\"text-bsctxt text-md mb-6\">\n+                        On the Scanner mode to manage attendance\n+                    </p>\n                     <button onclick=\"openQrScanner()\" \n                         class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n                         Start Scanner\n                     </button>\n                 </div>\n \n+                <!-- Manage Attendance Button -->\n                 <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n                     <button onclick=\"openQrScanner()\" \n                         class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                         Manage Attendance\n                     </button>\n                 </div>     \n \n+                <!-- Back to Initiative -->\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n                     <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n                     <div class=\"px-10 py-3\">\n                         <button @click=\"activeTab = 'initiative'\" \n@@ -218,80 +286,177 @@\n                 </div>\n             </div>\n \n         </div>\n-\n         @include('components.modals.edit-training')\n         @include('components.modals.end-program')\n         @include('components.modals.program-qr')\n         @include('components.modals.generate-report')\n     </div>\n </div>\n+<!-- Scanner Modal -->\n+<div id=\"qrScannerModal\" \n+    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n+    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n+        <!-- Header -->\n+        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n+            Scan User QR Code\n+        </h2>\n+        \n+        <!-- Camera Preview -->\n+        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n+            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n+        </div>\n \n-@include('components.qr-scanner-modals')\n+        <!-- Scan Result -->\n+        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n+            Waiting for scan...\n+        </div>\n \n-<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n-<script>\n-    let html5QrCode; \n-    function onScanSuccess(decodedText, decodedResult) {\n-        const successModal = document.getElementById(\"scanSuccessModal\");\n-        const linkOutput = document.getElementById(\"scanLinkOutput\");\n+        <!-- Insert Member Text -->\n+        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n+            or insert member\n+        </div>\n \n-        if (decodedText.startsWith(\"http\")) {\n-            linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-        } else {\n-            linkOutput.textContent = `Scanned: ${decodedText}`;\n-        }\n+        <!-- Close Button -->\n+        <div class=\"mt-3\">\n+            <button onclick=\"closeQrScanner()\" \n+                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n+                Close Scanner\n+            </button>\n+        </div>\n+    </div>\n+</div>\n \n-        successModal.classList.remove(\"hidden\");\n-        setTimeout(() => { successModal.classList.add(\"hidden\"); }, 2000);\n-    }\n+<!-- SUCCESS MODAL -->\n+<div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-5000\">\n+    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n+        <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n+        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n+        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md\">OK</button>\n+    </div>\n+</div>\n \n-    function openQrScanner() {\n-        const modal = document.getElementById(\"qrScannerModal\");\n-        modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n \n-        if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n-        Html5Qrcode.getCameras().then(cameras => {\n-            if (cameras && cameras.length) {\n-                html5QrCode.start(cameras[0].id, { fps: 10, qrbox: 350 }, onScanSuccess)\n-                    .catch(err => console.error(\"Camera start failed:\", err));\n-            }\n-        }).catch(err => console.error(\"Camera permission denied:\", err));\n-    }\n \n-    function closeQrScanner() {\n-        const modal = document.getElementById(\"qrScannerModal\");\n-        modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n-        if (html5QrCode) {\n-            html5QrCode.stop().then(() => html5QrCode.clear())\n-                .catch(err => console.error(\"Failed to stop scanner:\", err));\n-        }\n-    }\n \n-    function closeSuccessModal() {\n-        document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n-    }\n \n+\n+<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n+    <div class=\"flex flex-col items-center\">\n+        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n+            viewBox=\"0 0 24 24\">\n+            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n+            <path class=\"opacity-75\" fill=\"currentColor\"\n+                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n+        </svg>\n+        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n+    </div>\n+</div>\n+\n+\n+<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n+<script>\n     function showLoadingOverlayBtn() {\n         document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n-        setTimeout(() => { hideLoadingOverlayBtn(); }, 1000);\n+\n+        // Auto hide after 1s (optional)\n+        setTimeout(() => {\n+            hideLoadingOverlayBtn();\n+        }, 1000);\n     }\n \n     function hideLoadingOverlayBtn() {\n         document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n     }\n+</script>\n \n-    document.getElementById(\"qrUpload\")?.addEventListener(\"change\", e => {\n-        if (!e.target.files.length) return;\n-        const file = e.target.files[0];\n-        if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n+<script>\n+let html5QrCode; \n \n-        html5QrCode.scanFile(file, true)\n-            .then(decodedText => onScanSuccess(decodedText))\n-            .catch(err => {\n-                document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n-                console.error(\"Image scan failed:\", err);\n-            });\n-    });\n+function onScanSuccess(decodedText, decodedResult) {\n+    console.log(` Code scanned = ${decodedText}`, decodedResult);\n+\n+    const successModal = document.getElementById(\"scanSuccessModal\");\n+    const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+    if (decodedText.startsWith(\"http\")) {\n+        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+    } else {\n+        linkOutput.textContent = `Scanned: ${decodedText}`;\n+    }\n+\n+    successModal.classList.remove(\"hidden\");\n+\n+    // Auto-close modal after 2 seconds\n+    setTimeout(() => {\n+        successModal.classList.add(\"hidden\");\n+    }, 2000);\n+}\n+\n+function openQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (!html5QrCode) {\n+        html5QrCode = new Html5Qrcode(\"qr-reader\");\n+    }\n+\n+    // Request camera permission & start scanner\n+    Html5Qrcode.getCameras().then(cameras => {\n+        if (cameras && cameras.length) {\n+            html5QrCode.start(\n+                cameras[0].id,   // use first camera\n+                { fps: 10, qrbox: 350 },\n+                onScanSuccess\n+            ).catch(err => console.error(\"Camera start failed:\", err));\n+        }\n+    }).catch(err => console.error(\"Camera permission denied:\", err));\n+}\n+\n+function closeQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (html5QrCode) {\n+        html5QrCode.stop()\n+            .then(() => html5QrCode.clear())\n+            .catch(err => console.error(\"Failed to stop scanner:\", err));\n+    }\n+}\n+\n+function closeSuccessModal() {\n+    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n+}\n+\n+// Custom Upload File\n+document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n+    if (e.target.files.length === 0) return;\n+    const file = e.target.files[0];\n+    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n+\n+    html5QrCode.scanFile(file, true)\n+        .then(decodedText => {\n+            const successModal = document.getElementById(\"scanSuccessModal\");\n+            const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+            if (decodedText.startsWith(\"http\")) {\n+                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+            } else {\n+                linkOutput.textContent = `Scanned: ${decodedText}`;\n+            }\n+\n+            successModal.classList.remove(\"hidden\");\n+\n+            // Auto-close modal after 2 seconds\n+            setTimeout(() => {\n+                successModal.classList.add(\"hidden\");\n+            }, 2000);\n+        })\n+        .catch(err => {\n+            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n+            console.error(\"Image scan failed:\", err);\n+        });\n+});\n </script>\n-@endsection\n+\n+@endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763835181964,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,19 +23,8 @@\n </style>\n @include('layouts.loading-overlay')\n <div class=\"p-4\">\n         <div class=\"bg-mainbg px-2 space-y-2\">\n-        <div class=\"bg-mainbg px-2\">\n-            <!-- Header -->\n-            <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-2\">\n-                <div class=\"text-customIT flex flex-col\">\n-                    <h2 class=\"text-[20px] sm:text-[25px] font-bold text-custom\">Program Details</h2>\n-                    <p class=\"text-sm text-gray-600\">\n-                        Organize, monitor, and showcase SWISA initiatives, programs, and community events.\n-                    </p>\n-                </div>\n-            </div>\n-        </div>\n         <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n             <!-- Initiative tab -->\n             <div class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n@@ -103,11 +92,12 @@\n                     </div>\n                 </div>\n             </div>\n \n+            <!-- BASE tab -->\n             <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n+                    <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees </h1>\n                 </div>\n                 <div class=\"overflow-auto h-[60vh] custom-scroll\">\n                     <table class=\"min-w-full border-spacing-y-1\">\n                     <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n@@ -204,9 +194,9 @@\n \n             </div>\n \n \n-            <!-- participants tab start -->\n+            <!-- OFFICIAL ATTENDEES-->\n              <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                     <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n                 </div>\n"
                },
                {
                    "date": 1763835217416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,8 @@\n     }\n </style>\n @include('layouts.loading-overlay')\n <div class=\"p-4\">\n-        <div class=\"bg-mainbg px-2 space-y-2\">\n         <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n             <!-- Initiative tab -->\n             <div class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n@@ -314,10 +313,8 @@\n                 Close Scanner\n             </button>\n         </div>\n     </div>\n-</div>\n-\n <!-- SUCCESS MODAL -->\n <div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-5000\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n"
                },
                {
                    "date": 1763835229966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,8 +22,9 @@\n     }\n </style>\n @include('layouts.loading-overlay')\n <div class=\"p-4\">\n+        <div class=\"bg-mainbg px-2 space-y-2\">\n         <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n             <!-- Initiative tab -->\n             <div class=\"col-span-12\">\n                 <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n@@ -313,8 +314,10 @@\n                 Close Scanner\n             </button>\n         </div>\n     </div>\n+</div>\n+\n <!-- SUCCESS MODAL -->\n <div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-5000\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n"
                },
                {
                    "date": 1763835253708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n         background-color: #94a3b8;\n     }\n </style>\n @include('layouts.loading-overlay')\n-<div class=\"p-4\">\n+<div class=\"p-2\">\n         <div class=\"bg-mainbg px-2 space-y-2\">\n         <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n             <!-- Initiative tab -->\n             <div class=\"col-span-12\">\n@@ -93,154 +93,153 @@\n                 </div>\n             </div>\n \n             <!-- BASE tab -->\n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees </h1>\n-                </div>\n-                <div class=\"overflow-auto h-[60vh] custom-scroll\">\n-                    <table class=\"min-w-full border-spacing-y-1\">\n-                    <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n-                        <tr class=\"text-customIT text-left\">\n-                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n-                        </tr>\n-                    </thead>\n-                    <tbody>\n-                        @forelse($training->participants as $user)\n-                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    @if($user->pivot->check_in_at)\n-                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n-                                    @elseif($isFinished)\n-                                        <span class=\"text-red-500\">Did Not Attend</span>\n-                                    @else\n-                                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                                    @endif\n-                                </td>\n-                                <td class=\"pl-4 py-3 text-sm\">\n-                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                                        <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n-                                            <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                                        </button>\n-                                        <!-- The Popover Menu, controlled by Alpine.js -->\n-                                        <div x-show=\"show\" \n-                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                                Choose an Action\n-                                            </h3>\n-                                            <div class=\"border-t border-gray-200 py-2\">\n-                                                <ul class=\"space-y-2\">\n-                                                    <li>\n-                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                                    </li>\n-                                                    <li>\n-                                                        <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n-                                                    </li>\n-                                                </ul>\n-                                            </div>\n-                                        </div>\n-                                    </div>\n-                                </td>\n-                            </tr>\n-                        @empty\n-                            <tr>\n-                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n-                            </tr>\n-                        @endforelse\n-                    </tbody>\n-\n-                    </table>\n-                </div>\n-                @include('components.pagination')\n-            </div>\n-\n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n-                <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n-                </div>\n-                \n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n-                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n-                        {{ $training->date->format('d F, Y') }}\n-                    </p>\n-\n-                    {{-- Check if training is tomorrow or another day --}}\n-                    <p class=\"text-center text-sm text-btncolor mt-1\">\n-                        @if($training->date->isTomorrow())\n-                            This training is scheduled for <strong>Tomorrow</strong>.\n-                        @elseif($training->date->isToday())\n-                            This training is happening <strong>Today</strong>!\n+<!-- BASE tab -->\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n+    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n+    </div>\n+    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n+        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+                <tr>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n+                </tr>\n+            </thead>\n+            <tbody class=\"bg-white divide-y divide-gray-100\">\n+                @forelse($training->participants as $user)\n+                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                    <td class=\"px-6 py-3 text-sm font-medium\">\n+                        @if($user->pivot->check_in_at)\n+                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                        @elseif($isFinished)\n+                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n                         @else\n-                            This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+                            <span class=\"text-gray-400\">Not Yet Attended</span>\n                         @endif\n-                    </p>\n+                    </td>\n+                    <td class=\"px-6 py-3 text-sm\">\n+                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n+                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                            </button>\n+                            <div x-show=\"show\" \n+                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                    Choose an Action\n+                                </h3>\n+                                <div class=\"border-t border-gray-200 py-2\">\n+                                    <ul class=\"space-y-2\">\n+                                        <li>\n+                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                        </li>\n+                                        <li>\n+                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n+                                        </li>\n+                                    </ul>\n+                                </div>\n+                            </div>\n+                        </div>\n+                    </td>\n+                </tr>\n+                @empty\n+                <tr>\n+                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+                </tr>\n+                @endforelse\n+            </tbody>\n+        </table>\n+    </div>\n+    @include('components.pagination')\n+</div>\n \n-                    <div class=\"px-10 py-3\">\n-                        <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n-                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            View Participants \n-                        </button>\n-                    </div>\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n+    <!-- Description Card -->\n+    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n+        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+    </div>\n \n-                </div>\n+    <!-- Training Date Card -->\n+    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n+            {{ $training->date->format('d F, Y') }}\n+        </p>\n \n-            </div>\n+        <p class=\"text-center text-sm text-btncolor mt-1\">\n+            @if($training->date->isTomorrow())\n+                This training is scheduled for <strong>Tomorrow</strong>.\n+            @elseif($training->date->isToday())\n+                This training is happening <strong>Today</strong>!\n+            @else\n+                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+            @endif\n+        </p>\n \n+        <div class=\"px-10 py-3\">\n+            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n+                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                View Participants \n+            </button>\n+        </div>\n+    </div>\n+</div>\n \n-            <!-- OFFICIAL ATTENDEES-->\n-             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n-                </div>\n-                <div class=\"overflow-auto h-[60vh]\">\n-    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-            <tr>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-            </tr>\n-        </thead>\n-        <tbody class=\"bg-white divide-y divide-gray-100\">\n-            @forelse($training->participants as $user)\n-            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                <td class=\"px-6 py-3 text-center\">\n-                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n-                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n-                </td>\n-                <td class=\"px-6 py-3 text-sm font-medium\">\n-                    @if($user->pivot->check_in_at)\n-                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                    @elseif($isFinished)\n-                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                    @else\n-                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                    @endif\n-                </td>\n-            </tr>\n-            @empty\n-            <tr>\n-                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-            </tr>\n-            @endforelse\n-        </tbody>\n-    </table>\n+<!-- OFFICIAL ATTENDEES-->\n+<div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+        <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n+    </div>\n+    <div class=\"overflow-auto h-[60vh]\">\n+        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+                <tr>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                    <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+                </tr>\n+            </thead>\n+            <tbody class=\"bg-white divide-y divide-gray-100\">\n+                @forelse($training->participants as $user)\n+                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                    <td class=\"px-6 py-3 text-center\">\n+                        <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n+                            @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n+                    </td>\n+                    <td class=\"px-6 py-3 text-sm font-medium\">\n+                        @if($user->pivot->check_in_at)\n+                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                        @elseif($isFinished)\n+                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                        @else\n+                            <span class=\"text-gray-400\">Not Yet Attended</span>\n+                        @endif\n+                    </td>\n+                </tr>\n+                @empty\n+                <tr>\n+                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+                </tr>\n+                @endforelse\n+            </tbody>\n+        </table>\n+    </div>\n </div>\n \n+\n                 @include('components.pagination')\n             </div>\n \n             <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n"
                },
                {
                    "date": 1763835305474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,153 +93,154 @@\n                 </div>\n             </div>\n \n             <!-- BASE tab -->\n-<!-- BASE tab -->\n-<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n-    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n-    </div>\n-    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n-        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-                <tr>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n-                </tr>\n-            </thead>\n-            <tbody class=\"bg-white divide-y divide-gray-100\">\n-                @forelse($training->participants as $user)\n-                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                    <td class=\"px-6 py-3 text-sm font-medium\">\n-                        @if($user->pivot->check_in_at)\n-                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                        @elseif($isFinished)\n-                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+            <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n+                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+                    <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees </h1>\n+                </div>\n+                <div class=\"overflow-auto h-[60vh] custom-scroll\">\n+                    <table class=\"min-w-full border-spacing-y-1\">\n+                    <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n+                        <tr class=\"text-customIT text-left\">\n+                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n+                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n+                        </tr>\n+                    </thead>\n+                    <tbody>\n+                        @forelse($training->participants as $user)\n+                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n+                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n+                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n+                                    @if($user->pivot->check_in_at)\n+                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n+                                    @elseif($isFinished)\n+                                        <span class=\"text-red-500\">Did Not Attend</span>\n+                                    @else\n+                                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                                    @endif\n+                                </td>\n+                                <td class=\"pl-4 py-3 text-sm\">\n+                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                                        <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n+                                            <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                                        </button>\n+                                        <!-- The Popover Menu, controlled by Alpine.js -->\n+                                        <div x-show=\"show\" \n+                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                                Choose an Action\n+                                            </h3>\n+                                            <div class=\"border-t border-gray-200 py-2\">\n+                                                <ul class=\"space-y-2\">\n+                                                    <li>\n+                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                                    </li>\n+                                                    <li>\n+                                                        <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n+                                                    </li>\n+                                                </ul>\n+                                            </div>\n+                                        </div>\n+                                    </div>\n+                                </td>\n+                            </tr>\n+                        @empty\n+                            <tr>\n+                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n+                            </tr>\n+                        @endforelse\n+                    </tbody>\n+\n+                    </table>\n+                </div>\n+                @include('components.pagination')\n+            </div>\n+\n+            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n+                <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n+                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+                </div>\n+                \n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n+                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n+                        {{ $training->date->format('d F, Y') }}\n+                    </p>\n+\n+                    {{-- Check if training is tomorrow or another day --}}\n+                    <p class=\"text-center text-sm text-btncolor mt-1\">\n+                        @if($training->date->isTomorrow())\n+                            This training is scheduled for <strong>Tomorrow</strong>.\n+                        @elseif($training->date->isToday())\n+                            This training is happening <strong>Today</strong>!\n                         @else\n-                            <span class=\"text-gray-400\">Not Yet Attended</span>\n+                            This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n                         @endif\n-                    </td>\n-                    <td class=\"px-6 py-3 text-sm\">\n-                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n-                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                            </button>\n-                            <div x-show=\"show\" \n-                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                    Choose an Action\n-                                </h3>\n-                                <div class=\"border-t border-gray-200 py-2\">\n-                                    <ul class=\"space-y-2\">\n-                                        <li>\n-                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                        </li>\n-                                        <li>\n-                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n-                                        </li>\n-                                    </ul>\n-                                </div>\n-                            </div>\n-                        </div>\n-                    </td>\n-                </tr>\n-                @empty\n-                <tr>\n-                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-                </tr>\n-                @endforelse\n-            </tbody>\n-        </table>\n-    </div>\n-    @include('components.pagination')\n-</div>\n+                    </p>\n \n-<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n-    <!-- Description Card -->\n-    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n-    </div>\n+                    <div class=\"px-10 py-3\">\n+                        <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n+                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                            View Participants \n+                        </button>\n+                    </div>\n \n-    <!-- Training Date Card -->\n-    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n-        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n-            {{ $training->date->format('d F, Y') }}\n-        </p>\n+                </div>\n \n-        <p class=\"text-center text-sm text-btncolor mt-1\">\n-            @if($training->date->isTomorrow())\n-                This training is scheduled for <strong>Tomorrow</strong>.\n-            @elseif($training->date->isToday())\n-                This training is happening <strong>Today</strong>!\n-            @else\n-                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-            @endif\n-        </p>\n+            </div>\n \n-        <div class=\"px-10 py-3\">\n-            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n-                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                View Participants \n-            </button>\n-        </div>\n-    </div>\n-</div>\n \n-<!-- OFFICIAL ATTENDEES-->\n-<div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-        <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n-    </div>\n-    <div class=\"overflow-auto h-[60vh]\">\n-        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-                <tr>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                    <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-                </tr>\n-            </thead>\n-            <tbody class=\"bg-white divide-y divide-gray-100\">\n-                @forelse($training->participants as $user)\n-                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                    <td class=\"px-6 py-3 text-center\">\n-                        <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n-                            @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n-                    </td>\n-                    <td class=\"px-6 py-3 text-sm font-medium\">\n-                        @if($user->pivot->check_in_at)\n-                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                        @elseif($isFinished)\n-                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                        @else\n-                            <span class=\"text-gray-400\">Not Yet Attended</span>\n-                        @endif\n-                    </td>\n-                </tr>\n-                @empty\n-                <tr>\n-                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-                </tr>\n-                @endforelse\n-            </tbody>\n-        </table>\n-    </div>\n+            <!-- OFFICIAL ATTENDEES-->\n+             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n+                </div>\n+                <div class=\"overflow-auto h-[60vh]\">\n+    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+            <tr>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+            </tr>\n+        </thead>\n+        <tbody class=\"bg-white divide-y divide-gray-100\">\n+            @forelse($training->participants as $user)\n+            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                <td class=\"px-6 py-3 text-center\">\n+                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n+                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n+                </td>\n+                <td class=\"px-6 py-3 text-sm font-medium\">\n+                    @if($user->pivot->check_in_at)\n+                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                    @elseif($isFinished)\n+                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                    @else\n+                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                    @endif\n+                </td>\n+            </tr>\n+            @empty\n+            <tr>\n+                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+            </tr>\n+            @endforelse\n+        </tbody>\n+    </table>\n </div>\n \n-\n                 @include('components.pagination')\n             </div>\n \n             <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n"
                },
                {
                    "date": 1763835336908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -93,108 +93,104 @@\n                 </div>\n             </div>\n \n             <!-- BASE tab -->\n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees </h1>\n-                </div>\n-                <div class=\"overflow-auto h-[60vh] custom-scroll\">\n-                    <table class=\"min-w-full border-spacing-y-1\">\n-                    <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n-                        <tr class=\"text-customIT text-left\">\n-                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n-                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n-                        </tr>\n-                    </thead>\n-                    <tbody>\n-                        @forelse($training->participants as $user)\n-                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name}}</td>\n-                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n-                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n-                                    @if($user->pivot->check_in_at)\n-                                        {{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}\n-                                    @elseif($isFinished)\n-                                        <span class=\"text-red-500\">Did Not Attend</span>\n-                                    @else\n-                                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                                    @endif\n-                                </td>\n-                                <td class=\"pl-4 py-3 text-sm\">\n-                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                                        <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n-                                            <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                                        </button>\n-                                        <!-- The Popover Menu, controlled by Alpine.js -->\n-                                        <div x-show=\"show\" \n-                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                                Choose an Action\n-                                            </h3>\n-                                            <div class=\"border-t border-gray-200 py-2\">\n-                                                <ul class=\"space-y-2\">\n-                                                    <li>\n-                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                                    </li>\n-                                                    <li>\n-                                                        <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n-                                                    </li>\n-                                                </ul>\n-                                            </div>\n-                                        </div>\n-                                    </div>\n-                                </td>\n-                            </tr>\n-                        @empty\n-                            <tr>\n-                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n-                            </tr>\n-                        @endforelse\n-                    </tbody>\n-\n-                    </table>\n-                </div>\n-                @include('components.pagination')\n-            </div>\n-\n-            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n-                <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n-                </div>\n-                \n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n-                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n-                        {{ $training->date->format('d F, Y') }}\n-                    </p>\n-\n-                    {{-- Check if training is tomorrow or another day --}}\n-                    <p class=\"text-center text-sm text-btncolor mt-1\">\n-                        @if($training->date->isTomorrow())\n-                            This training is scheduled for <strong>Tomorrow</strong>.\n-                        @elseif($training->date->isToday())\n-                            This training is happening <strong>Today</strong>!\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n+    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n+    </div>\n+    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n+        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+                <tr>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n+                </tr>\n+            </thead>\n+            <tbody class=\"bg-white divide-y divide-gray-100\">\n+                @forelse($training->participants as $user)\n+                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                    <td class=\"px-6 py-3 text-sm font-medium\">\n+                        @if($user->pivot->check_in_at)\n+                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                        @elseif($isFinished)\n+                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n                         @else\n-                            This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+                            <span class=\"text-gray-400\">Not Yet Attended</span>\n                         @endif\n-                    </p>\n+                    </td>\n+                    <td class=\"px-6 py-3 text-sm\">\n+                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n+                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                            </button>\n+                            <div x-show=\"show\" \n+                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                    Choose an Action\n+                                </h3>\n+                                <div class=\"border-t border-gray-200 py-2\">\n+                                    <ul class=\"space-y-2\">\n+                                        <li>\n+                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                        </li>\n+                                        <li>\n+                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n+                                        </li>\n+                                    </ul>\n+                                </div>\n+                            </div>\n+                        </div>\n+                    </td>\n+                </tr>\n+                @empty\n+                <tr>\n+                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+                </tr>\n+                @endforelse\n+            </tbody>\n+        </table>\n+    </div>\n+    @include('components.pagination')\n+</div>\n \n-                    <div class=\"px-10 py-3\">\n-                        <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n-                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            View Participants \n-                        </button>\n-                    </div>\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n+    <!-- Description Card -->\n+    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n+        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+    </div>\n \n-                </div>\n+    <!-- Training Date Card -->\n+    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n+            {{ $training->date->format('d F, Y') }}\n+        </p>\n \n-            </div>\n+        <p class=\"text-center text-sm text-btncolor mt-1\">\n+            @if($training->date->isTomorrow())\n+                This training is scheduled for <strong>Tomorrow</strong>.\n+            @elseif($training->date->isToday())\n+                This training is happening <strong>Today</strong>!\n+            @else\n+                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+            @endif\n+        </p>\n \n+        <div class=\"px-10 py-3\">\n+            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n+                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                View Participants \n+            </button>\n+        </div>\n+    </div>\n+</div>\n \n             <!-- OFFICIAL ATTENDEES-->\n              <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                 <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n"
                },
                {
                    "date": 1763835476341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -313,9 +313,9 @@\n     </div>\n </div>\n \n <!-- SUCCESS MODAL -->\n-<div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-5000\">\n+<div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-10000\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n         <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n         <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md\">OK</button>\n"
                },
                {
                    "date": 1763835537892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,452 @@\n+\n+\n+@extends('layouts.app')\n+\n+@section('content')\n+<style>\n+    .custom-scroll::-webkit-scrollbar {\n+        width: 4px;\n+        height: 2px; \n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-track {\n+        background: transparent;\n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-thumb {\n+        background-color: #2C6E49; \n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-thumb:hover {\n+        background-color: #94a3b8;\n+    }\n+</style>\n+@include('layouts.loading-overlay')\n+<div class=\"p-2\">\n+        <div class=\"bg-mainbg px-2 space-y-2\">\n+        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n+            <!-- Initiative tab -->\n+            <div class=\"col-span-12\">\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n+                    <div class=\"lg:flex h-full\">\n+                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n+                            <img \n+                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n+                                alt=\"Training Image\" \n+                                class=\"object-cover w-full h-full\"\n+                            >\n+                        </div>\n+                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n+                            <div>\n+                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n+                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n+                            </div>\n+                            <div class=\"mb-4 mt-10\">\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n+                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n+                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n+                                </div>\n+                            </div>\n+                        </div>\n+                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n+                            {{--<button onclick=\"openModal('programQrModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                QR Code\n+                            </button>--}}\n+                            \n+                            <button onclick=\"openModal('editTrainingModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Edit Info\n+                            </button>\n+                            \n+                            {{--<button onclick=\"openModal('geneReportModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Generate Report\n+                            </button>--}}\n+                            \n+                            <button onclick=\"openModal('endProgramModal')\" \n+                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                End Program\n+                            </button>\n+                        </div>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <!-- BASE tab -->\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n+    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n+    </div>\n+    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n+        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+                <tr>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n+                </tr>\n+            </thead>\n+            <tbody class=\"bg-white divide-y divide-gray-100\">\n+                @forelse($training->participants as $user)\n+                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                    <td class=\"px-6 py-3 text-sm font-medium\">\n+                        @if($user->pivot->check_in_at)\n+                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                        @elseif($isFinished)\n+                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                        @else\n+                            <span class=\"text-gray-400\">Not Yet Attended</span>\n+                        @endif\n+                    </td>\n+                    <td class=\"px-6 py-3 text-sm\">\n+                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n+                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                            </button>\n+                            <div x-show=\"show\" \n+                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                    Choose an Action\n+                                </h3>\n+                                <div class=\"border-t border-gray-200 py-2\">\n+                                    <ul class=\"space-y-2\">\n+                                        <li>\n+                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                        </li>\n+                                        <li>\n+                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n+                                        </li>\n+                                    </ul>\n+                                </div>\n+                            </div>\n+                        </div>\n+                    </td>\n+                </tr>\n+                @empty\n+                <tr>\n+                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+                </tr>\n+                @endforelse\n+            </tbody>\n+        </table>\n+    </div>\n+    @include('components.pagination')\n+</div>\n+\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n+    <!-- Description Card -->\n+    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n+        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+    </div>\n+\n+    <!-- Training Date Card -->\n+    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n+            {{ $training->date->format('d F, Y') }}\n+        </p>\n+\n+        <p class=\"text-center text-sm text-btncolor mt-1\">\n+            @if($training->date->isTomorrow())\n+                This training is scheduled for <strong>Tomorrow</strong>.\n+            @elseif($training->date->isToday())\n+                This training is happening <strong>Today</strong>!\n+            @else\n+                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+            @endif\n+        </p>\n+\n+        <div class=\"px-10 py-3\">\n+            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n+                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                View Participants \n+            </button>\n+        </div>\n+    </div>\n+</div>\n+\n+            <!-- OFFICIAL ATTENDEES-->\n+             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n+                </div>\n+                <div class=\"overflow-auto h-[60vh]\">\n+    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+            <tr>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+            </tr>\n+        </thead>\n+        <tbody class=\"bg-white divide-y divide-gray-100\">\n+            @forelse($training->participants as $user)\n+            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                <td class=\"px-6 py-3 text-center\">\n+                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n+                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n+                </td>\n+                <td class=\"px-6 py-3 text-sm font-medium\">\n+                    @if($user->pivot->check_in_at)\n+                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                    @elseif($isFinished)\n+                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                    @else\n+                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                    @endif\n+                </td>\n+            </tr>\n+            @empty\n+            <tr>\n+                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+            </tr>\n+            @endforelse\n+        </tbody>\n+    </table>\n+</div>\n+\n+                @include('components.pagination')\n+            </div>\n+\n+            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n+                <!-- Scanner Mode Info -->\n+                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n+                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n+                    <p class=\"text-bsctxt text-md mb-6\">\n+                        On the Scanner mode to manage attendance\n+                    </p>\n+                    <button onclick=\"openQrScanner()\" \n+                        class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n+                        Start Scanner\n+                    </button>\n+                </div>\n+\n+                <!-- Manage Attendance Button -->\n+                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n+                    <button onclick=\"openQrScanner()\" \n+                        class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                        Manage Attendance\n+                    </button>\n+                </div>     \n+\n+                <!-- Back to Initiative -->\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n+                    <div class=\"px-10 py-3\">\n+                        <button @click=\"activeTab = 'initiative'\" \n+                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                            Initiative\n+                        </button>\n+                    </div>\n+                </div>\n+            </div>\n+\n+        </div>\n+        @include('components.modals.edit-training')\n+        @include('components.modals.end-program')\n+        @include('components.modals.program-qr')\n+        @include('components.modals.generate-report')\n+    </div>\n+</div>\n+<!-- Scanner Modal -->\n+<div id=\"qrScannerModal\" \n+    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n+    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n+        <!-- Header -->\n+        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n+            Scan User QR Code\n+        </h2>\n+        \n+        <!-- Camera Preview -->\n+        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n+            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n+        </div>\n+\n+        <!-- Scan Result -->\n+        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n+            Waiting for scan...\n+        </div>\n+\n+        <!-- Insert Member Text -->\n+        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n+            or insert member\n+        </div>\n+\n+        <!-- Close Button -->\n+        <div class=\"mt-3\">\n+            <button onclick=\"closeQrScanner()\" \n+                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n+                Close Scanner\n+            </button>\n+        </div>\n+    </div>\n+</div>\n+\n+<!-- SUCCESS MODAL -->\n+<div id=\"scanSuccessModal\" \n+    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n+    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[350px] max-w-full text-center relative\">\n+        <h2 class=\"text-xl font-bold text-green-600 mb-4\"> Successfully Scanned!</h2>\n+        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n+        <button onclick=\"closeSuccessModal()\" \n+            class=\"w-full py-2 text-white font-semibold bg-green-600 rounded-lg hover:bg-green-700 transition duration-200\">\n+            OK\n+        </button>\n+    </div>\n+</div>\n+\n+\n+\n+\n+\n+\n+<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n+    <div class=\"flex flex-col items-center\">\n+        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n+            viewBox=\"0 0 24 24\">\n+            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n+            <path class=\"opacity-75\" fill=\"currentColor\"\n+                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n+        </svg>\n+        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n+    </div>\n+</div>\n+\n+\n+<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n+<script>\n+    function showLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n+\n+        // Auto hide after 1s (optional)\n+        setTimeout(() => {\n+            hideLoadingOverlayBtn();\n+        }, 1000);\n+    }\n+\n+    function hideLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n+    }\n+</script>\n+\n+<script>\n+let html5QrCode; \n+\n+function onScanSuccess(decodedText, decodedResult) {\n+    console.log(` Code scanned = ${decodedText}`, decodedResult);\n+\n+    const successModal = document.getElementById(\"scanSuccessModal\");\n+    const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+    if (decodedText.startsWith(\"http\")) {\n+        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+    } else {\n+        linkOutput.textContent = `Scanned: ${decodedText}`;\n+    }\n+\n+    successModal.classList.remove(\"hidden\");\n+\n+    // Auto-close modal after 2 seconds\n+    setTimeout(() => {\n+        successModal.classList.add(\"hidden\");\n+    }, 2000);\n+}\n+\n+function openQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (!html5QrCode) {\n+        html5QrCode = new Html5Qrcode(\"qr-reader\");\n+    }\n+\n+    // Request camera permission & start scanner\n+    Html5Qrcode.getCameras().then(cameras => {\n+        if (cameras && cameras.length) {\n+            html5QrCode.start(\n+                cameras[0].id,   // use first camera\n+                { fps: 10, qrbox: 350 },\n+                onScanSuccess\n+            ).catch(err => console.error(\"Camera start failed:\", err));\n+        }\n+    }).catch(err => console.error(\"Camera permission denied:\", err));\n+}\n+\n+function closeQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (html5QrCode) {\n+        html5QrCode.stop()\n+            .then(() => html5QrCode.clear())\n+            .catch(err => console.error(\"Failed to stop scanner:\", err));\n+    }\n+}\n+\n+function closeSuccessModal() {\n+    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n+}\n+\n+// Custom Upload File\n+document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n+    if (e.target.files.length === 0) return;\n+    const file = e.target.files[0];\n+    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n+\n+    html5QrCode.scanFile(file, true)\n+        .then(decodedText => {\n+            const successModal = document.getElementById(\"scanSuccessModal\");\n+            const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+            if (decodedText.startsWith(\"http\")) {\n+                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+            } else {\n+                linkOutput.textContent = `Scanned: ${decodedText}`;\n+            }\n+\n+            successModal.classList.remove(\"hidden\");\n+\n+            // Auto-close modal after 2 seconds\n+            setTimeout(() => {\n+                successModal.classList.add(\"hidden\");\n+            }, 2000);\n+        })\n+        .catch(err => {\n+            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n+            console.error(\"Image scan failed:\", err);\n+        });\n+});\n+</script>\n+\n+@endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763835632201,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -279,8 +279,9 @@\n         @include('components.modals.generate-report')\n     </div>\n </div>\n <!-- Scanner Modal -->\n+<!-- Scanner Modal -->\n <div id=\"qrScannerModal\" \n     class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n     <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n         <!-- Header -->\n@@ -314,14 +315,13 @@\n </div>\n \n <!-- SUCCESS MODAL -->\n <div id=\"scanSuccessModal\" \n-    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n-    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[350px] max-w-full text-center relative\">\n-        <h2 class=\"text-xl font-bold text-green-600 mb-4\"> Successfully Scanned!</h2>\n+     class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n+    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n+        <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n         <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n-        <button onclick=\"closeSuccessModal()\" \n-            class=\"w-full py-2 text-white font-semibold bg-green-600 rounded-lg hover:bg-green-700 transition duration-200\">\n+        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n             OK\n         </button>\n     </div>\n </div>\n@@ -330,456 +330,9 @@\n \n \n \n \n-<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n-    <div class=\"flex flex-col items-center\">\n-        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n-            viewBox=\"0 0 24 24\">\n-            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n-            <path class=\"opacity-75\" fill=\"currentColor\"\n-                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n-        </svg>\n-        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n-    </div>\n-</div>\n \n-\n-<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n-<script>\n-    function showLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n-\n-        // Auto hide after 1s (optional)\n-        setTimeout(() => {\n-            hideLoadingOverlayBtn();\n-        }, 1000);\n-    }\n-\n-    function hideLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n-    }\n-</script>\n-\n-<script>\n-let html5QrCode; \n-\n-function onScanSuccess(decodedText, decodedResult) {\n-    console.log(` Code scanned = ${decodedText}`, decodedResult);\n-\n-    const successModal = document.getElementById(\"scanSuccessModal\");\n-    const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-    if (decodedText.startsWith(\"http\")) {\n-        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-    } else {\n-        linkOutput.textContent = `Scanned: ${decodedText}`;\n-    }\n-\n-    successModal.classList.remove(\"hidden\");\n-\n-    // Auto-close modal after 2 seconds\n-    setTimeout(() => {\n-        successModal.classList.add(\"hidden\");\n-    }, 2000);\n-}\n-\n-function openQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (!html5QrCode) {\n-        html5QrCode = new Html5Qrcode(\"qr-reader\");\n-    }\n-\n-    // Request camera permission & start scanner\n-    Html5Qrcode.getCameras().then(cameras => {\n-        if (cameras && cameras.length) {\n-            html5QrCode.start(\n-                cameras[0].id,   // use first camera\n-                { fps: 10, qrbox: 350 },\n-                onScanSuccess\n-            ).catch(err => console.error(\"Camera start failed:\", err));\n-        }\n-    }).catch(err => console.error(\"Camera permission denied:\", err));\n-}\n-\n-function closeQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (html5QrCode) {\n-        html5QrCode.stop()\n-            .then(() => html5QrCode.clear())\n-            .catch(err => console.error(\"Failed to stop scanner:\", err));\n-    }\n-}\n-\n-function closeSuccessModal() {\n-    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n-}\n-\n-// Custom Upload File\n-document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n-    if (e.target.files.length === 0) return;\n-    const file = e.target.files[0];\n-    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n-\n-    html5QrCode.scanFile(file, true)\n-        .then(decodedText => {\n-            const successModal = document.getElementById(\"scanSuccessModal\");\n-            const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-            if (decodedText.startsWith(\"http\")) {\n-                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-            } else {\n-                linkOutput.textContent = `Scanned: ${decodedText}`;\n-            }\n-\n-            successModal.classList.remove(\"hidden\");\n-\n-            // Auto-close modal after 2 seconds\n-            setTimeout(() => {\n-                successModal.classList.add(\"hidden\");\n-            }, 2000);\n-        })\n-        .catch(err => {\n-            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n-            console.error(\"Image scan failed:\", err);\n-        });\n-});\n-</script>\n-\n-@endsection\n-\n-\n-@extends('layouts.app')\n-\n-@section('content')\n-<style>\n-    .custom-scroll::-webkit-scrollbar {\n-        width: 4px;\n-        height: 2px; \n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-track {\n-        background: transparent;\n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-thumb {\n-        background-color: #2C6E49; \n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-thumb:hover {\n-        background-color: #94a3b8;\n-    }\n-</style>\n-@include('layouts.loading-overlay')\n-<div class=\"p-2\">\n-        <div class=\"bg-mainbg px-2 space-y-2\">\n-        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n-            <!-- Initiative tab -->\n-            <div class=\"col-span-12\">\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n-                    <div class=\"lg:flex h-full\">\n-                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n-                            <img \n-                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n-                                alt=\"Training Image\" \n-                                class=\"object-cover w-full h-full\"\n-                            >\n-                        </div>\n-                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n-                            <div>\n-                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n-                            </div>\n-                            <div class=\"mb-4 mt-10\">\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n-                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n-                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n-                                </div>\n-                            </div>\n-                        </div>\n-                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            {{--<button onclick=\"openModal('programQrModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                QR Code\n-                            </button>--}}\n-                            \n-                            <button onclick=\"openModal('editTrainingModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Edit Info\n-                            </button>\n-                            \n-                            {{--<button onclick=\"openModal('geneReportModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Generate Report\n-                            </button>--}}\n-                            \n-                            <button onclick=\"openModal('endProgramModal')\" \n-                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                End Program\n-                            </button>\n-                        </div>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <!-- BASE tab -->\n-<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n-    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n-    </div>\n-    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n-        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-                <tr>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n-                </tr>\n-            </thead>\n-            <tbody class=\"bg-white divide-y divide-gray-100\">\n-                @forelse($training->participants as $user)\n-                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                    <td class=\"px-6 py-3 text-sm font-medium\">\n-                        @if($user->pivot->check_in_at)\n-                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                        @elseif($isFinished)\n-                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                        @else\n-                            <span class=\"text-gray-400\">Not Yet Attended</span>\n-                        @endif\n-                    </td>\n-                    <td class=\"px-6 py-3 text-sm\">\n-                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n-                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                            </button>\n-                            <div x-show=\"show\" \n-                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                    Choose an Action\n-                                </h3>\n-                                <div class=\"border-t border-gray-200 py-2\">\n-                                    <ul class=\"space-y-2\">\n-                                        <li>\n-                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                        </li>\n-                                        <li>\n-                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n-                                        </li>\n-                                    </ul>\n-                                </div>\n-                            </div>\n-                        </div>\n-                    </td>\n-                </tr>\n-                @empty\n-                <tr>\n-                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-                </tr>\n-                @endforelse\n-            </tbody>\n-        </table>\n-    </div>\n-    @include('components.pagination')\n-</div>\n-\n-<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n-    <!-- Description Card -->\n-    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n-    </div>\n-\n-    <!-- Training Date Card -->\n-    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n-        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n-            {{ $training->date->format('d F, Y') }}\n-        </p>\n-\n-        <p class=\"text-center text-sm text-btncolor mt-1\">\n-            @if($training->date->isTomorrow())\n-                This training is scheduled for <strong>Tomorrow</strong>.\n-            @elseif($training->date->isToday())\n-                This training is happening <strong>Today</strong>!\n-            @else\n-                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-            @endif\n-        </p>\n-\n-        <div class=\"px-10 py-3\">\n-            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n-                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                View Participants \n-            </button>\n-        </div>\n-    </div>\n-</div>\n-\n-            <!-- OFFICIAL ATTENDEES-->\n-             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n-                </div>\n-                <div class=\"overflow-auto h-[60vh]\">\n-    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-            <tr>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-            </tr>\n-        </thead>\n-        <tbody class=\"bg-white divide-y divide-gray-100\">\n-            @forelse($training->participants as $user)\n-            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                <td class=\"px-6 py-3 text-center\">\n-                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n-                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n-                </td>\n-                <td class=\"px-6 py-3 text-sm font-medium\">\n-                    @if($user->pivot->check_in_at)\n-                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                    @elseif($isFinished)\n-                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                    @else\n-                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                    @endif\n-                </td>\n-            </tr>\n-            @empty\n-            <tr>\n-                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-            </tr>\n-            @endforelse\n-        </tbody>\n-    </table>\n-</div>\n-\n-                @include('components.pagination')\n-            </div>\n-\n-            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n-                <!-- Scanner Mode Info -->\n-                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n-                    <p class=\"text-bsctxt text-md mb-6\">\n-                        On the Scanner mode to manage attendance\n-                    </p>\n-                    <button onclick=\"openQrScanner()\" \n-                        class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n-                        Start Scanner\n-                    </button>\n-                </div>\n-\n-                <!-- Manage Attendance Button -->\n-                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n-                    <button onclick=\"openQrScanner()\" \n-                        class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                        Manage Attendance\n-                    </button>\n-                </div>     \n-\n-                <!-- Back to Initiative -->\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n-                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n-                    <div class=\"px-10 py-3\">\n-                        <button @click=\"activeTab = 'initiative'\" \n-                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            Initiative\n-                        </button>\n-                    </div>\n-                </div>\n-            </div>\n-\n-        </div>\n-        @include('components.modals.edit-training')\n-        @include('components.modals.end-program')\n-        @include('components.modals.program-qr')\n-        @include('components.modals.generate-report')\n-    </div>\n-</div>\n-<!-- Scanner Modal -->\n-<div id=\"qrScannerModal\" \n-    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n-    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n-        <!-- Header -->\n-        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n-            Scan User QR Code\n-        </h2>\n-        \n-        <!-- Camera Preview -->\n-        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n-            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n-        </div>\n-\n-        <!-- Scan Result -->\n-        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n-            Waiting for scan...\n-        </div>\n-\n-        <!-- Insert Member Text -->\n-        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n-            or insert member\n-        </div>\n-\n-        <!-- Close Button -->\n-        <div class=\"mt-3\">\n-            <button onclick=\"closeQrScanner()\" \n-                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n-                Close Scanner\n-            </button>\n-        </div>\n-    </div>\n-</div>\n-\n-<!-- SUCCESS MODAL -->\n-<div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-10000\">\n-    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n-        <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n-        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n-        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md\">OK</button>\n-    </div>\n-</div>\n-\n-\n-\n-\n-\n-\n <div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n     <div class=\"flex flex-col items-center\">\n         <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n             viewBox=\"0 0 24 24\">\n"
                },
                {
                    "date": 1763835888529,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -382,42 +382,60 @@\n     setTimeout(() => {\n         successModal.classList.add(\"hidden\");\n     }, 2000);\n }\n+let html5QrCode;\n \n function openQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n+    const modal = document.getElementById('qrScannerModal');\n+    modal.classList.remove('opacity-0', 'pointer-events-none');\n \n-    if (!html5QrCode) {\n-        html5QrCode = new Html5Qrcode(\"qr-reader\");\n-    }\n+    const qrResult = document.getElementById('qr-result');\n+    html5QrCode = new Html5Qrcode(\"qr-reader\");\n \n-    // Request camera permission & start scanner\n-    Html5Qrcode.getCameras().then(cameras => {\n-        if (cameras && cameras.length) {\n-            html5QrCode.start(\n-                cameras[0].id,   // use first camera\n-                { fps: 10, qrbox: 350 },\n-                onScanSuccess\n-            ).catch(err => console.error(\"Camera start failed:\", err));\n+    html5QrCode.start(\n+        { facingMode: \"environment\" }, // Use back camera\n+        {\n+            fps: 10,\n+            qrbox: { width: 250, height: 250 }\n+        },\n+        async (decodedText, decodedResult) => {\n+            qrResult.innerText = `Scanned: ${decodedText}`;\n+            html5QrCode.stop();\n+\n+            // Fetch user name from server\n+            try {\n+                const response = await fetch(`/scan-qr/${decodedText}`);\n+                const data = await response.json();\n+\n+                if (data.success) {\n+                    // Show success modal with name\n+                    document.getElementById('scanLinkOutput').innerText = data.name;\n+                    document.getElementById('scanSuccessModal').classList.remove('hidden');\n+                } else {\n+                    qrResult.innerText = \"User not found.\";\n+                }\n+            } catch (error) {\n+                qrResult.innerText = \"Error fetching user.\";\n+                console.error(error);\n+            }\n+        },\n+        (errorMessage) => {\n+            console.log(\"QR Scan Error:\", errorMessage);\n         }\n-    }).catch(err => console.error(\"Camera permission denied:\", err));\n+    ).catch(err => {\n+        console.error(\"Unable to start QR scanner:\", err);\n+    });\n }\n \n function closeQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (html5QrCode) {\n-        html5QrCode.stop()\n-            .then(() => html5QrCode.clear())\n-            .catch(err => console.error(\"Failed to stop scanner:\", err));\n-    }\n+    const modal = document.getElementById('qrScannerModal');\n+    modal.classList.add('opacity-0', 'pointer-events-none');\n+    if (html5QrCode) html5QrCode.stop();\n }\n \n function closeSuccessModal() {\n-    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n+    document.getElementById('scanSuccessModal').classList.add('hidden');\n }\n \n // Custom Upload File\n document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n"
                },
                {
                    "date": 1763836022297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,10 +361,10 @@\n     }\n </script>\n \n <script>\n-let html5QrCode; \n \n+\n function onScanSuccess(decodedText, decodedResult) {\n     console.log(` Code scanned = ${decodedText}`, decodedResult);\n \n     const successModal = document.getElementById(\"scanSuccessModal\");\n"
                },
                {
                    "date": 1763836135964,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -346,44 +346,12 @@\n \n \n <script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n <script>\n-    function showLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n-\n-        // Auto hide after 1s (optional)\n-        setTimeout(() => {\n-            hideLoadingOverlayBtn();\n-        }, 1000);\n-    }\n-\n-    function hideLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n-    }\n-</script>\n-\n-<script>\n-\n-\n function onScanSuccess(decodedText, decodedResult) {\n-    console.log(` Code scanned = ${decodedText}`, decodedResult);\n+    console.log(`Scanned QR: ${decodedText}`, decodedResult);\n+}\n \n-    const successModal = document.getElementById(\"scanSuccessModal\");\n-    const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-    if (decodedText.startsWith(\"http\")) {\n-        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-    } else {\n-        linkOutput.textContent = `Scanned: ${decodedText}`;\n-    }\n-\n-    successModal.classList.remove(\"hidden\");\n-\n-    // Auto-close modal after 2 seconds\n-    setTimeout(() => {\n-        successModal.classList.add(\"hidden\");\n-    }, 2000);\n-}\n let html5QrCode;\n \n function openQrScanner() {\n     const modal = document.getElementById('qrScannerModal');\n@@ -392,26 +360,32 @@\n     const qrResult = document.getElementById('qr-result');\n     html5QrCode = new Html5Qrcode(\"qr-reader\");\n \n     html5QrCode.start(\n-        { facingMode: \"environment\" }, // Use back camera\n+        { facingMode: \"environment\" }, \n         {\n             fps: 10,\n             qrbox: { width: 250, height: 250 }\n         },\n         async (decodedText, decodedResult) => {\n             qrResult.innerText = `Scanned: ${decodedText}`;\n             html5QrCode.stop();\n \n-            // Fetch user name from server\n             try {\n                 const response = await fetch(`/scan-qr/${decodedText}`);\n                 const data = await response.json();\n \n                 if (data.success) {\n-                    // Show success modal with name\n+                    //  SHOW USER NAME ON SUCCESSFUL SCAN\n                     document.getElementById('scanLinkOutput').innerText = data.name;\n-                    document.getElementById('scanSuccessModal').classList.remove('hidden');\n+\n+                    const modalSuccess = document.getElementById('scanSuccessModal');\n+                    modalSuccess.classList.remove('hidden');\n+\n+                    // Auto close modal\n+                    setTimeout(() => {\n+                        modalSuccess.classList.add('hidden');\n+                    }, 2000);\n                 } else {\n                     qrResult.innerText = \"User not found.\";\n                 }\n             } catch (error) {\n@@ -422,50 +396,24 @@\n         (errorMessage) => {\n             console.log(\"QR Scan Error:\", errorMessage);\n         }\n     ).catch(err => {\n-        console.error(\"Unable to start QR scanner:\", err);\n+        console.error(\"Unable to start QR scanner.\", err);\n     });\n }\n \n function closeQrScanner() {\n     const modal = document.getElementById('qrScannerModal');\n     modal.classList.add('opacity-0', 'pointer-events-none');\n-    if (html5QrCode) html5QrCode.stop();\n+\n+    if (html5QrCode) {\n+        html5QrCode.stop().catch(err => console.error(err));\n+    }\n }\n \n function closeSuccessModal() {\n     document.getElementById('scanSuccessModal').classList.add('hidden');\n }\n+</script>\n \n-// Custom Upload File\n-document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n-    if (e.target.files.length === 0) return;\n-    const file = e.target.files[0];\n-    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n \n-    html5QrCode.scanFile(file, true)\n-        .then(decodedText => {\n-            const successModal = document.getElementById(\"scanSuccessModal\");\n-            const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-            if (decodedText.startsWith(\"http\")) {\n-                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-            } else {\n-                linkOutput.textContent = `Scanned: ${decodedText}`;\n-            }\n-\n-            successModal.classList.remove(\"hidden\");\n-\n-            // Auto-close modal after 2 seconds\n-            setTimeout(() => {\n-                successModal.classList.add(\"hidden\");\n-            }, 2000);\n-        })\n-        .catch(err => {\n-            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n-            console.error(\"Image scan failed:\", err);\n-        });\n-});\n-</script>\n-\n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763836414151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -346,74 +346,108 @@\n \n \n <script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n <script>\n+    function showLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n+\n+        // Auto hide after 1s (optional)\n+        setTimeout(() => {\n+            hideLoadingOverlayBtn();\n+        }, 1000);\n+    }\n+\n+    function hideLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n+    }\n+</script>\n+\n+<script>\n+let html5QrCode; \n+\n function onScanSuccess(decodedText, decodedResult) {\n-    console.log(`Scanned QR: ${decodedText}`, decodedResult);\n-}\n+    console.log(` Code scanned = ${decodedText}`, decodedResult);\n \n-let html5QrCode;\n+    const successModal = document.getElementById(\"scanSuccessModal\");\n+    const linkOutput = document.getElementById(\"scanLinkOutput\");\n \n-function openQrScanner() {\n-    const modal = document.getElementById('qrScannerModal');\n-    modal.classList.remove('opacity-0', 'pointer-events-none');\n+    if (decodedText.startsWith(\"http\")) {\n+        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+    } else {\n+        linkOutput.textContent = `Scanned: ${decodedText}`;\n+    }\n \n-    const qrResult = document.getElementById('qr-result');\n-    html5QrCode = new Html5Qrcode(\"qr-reader\");\n+    successModal.classList.remove(\"hidden\");\n \n-    html5QrCode.start(\n-        { facingMode: \"environment\" }, \n-        {\n-            fps: 10,\n-            qrbox: { width: 250, height: 250 }\n-        },\n-        async (decodedText, decodedResult) => {\n-            qrResult.innerText = `Scanned: ${decodedText}`;\n-            html5QrCode.stop();\n+    // Auto-close modal after 2 seconds\n+    setTimeout(() => {\n+        successModal.classList.add(\"hidden\");\n+    }, 2000);\n+}\n \n-            try {\n-                const response = await fetch(`/scan-qr/${decodedText}`);\n-                const data = await response.json();\n+function openQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n \n-                if (data.success) {\n-                    //  SHOW USER NAME ON SUCCESSFUL SCAN\n-                    document.getElementById('scanLinkOutput').innerText = data.name;\n+    if (!html5QrCode) {\n+        html5QrCode = new Html5Qrcode(\"qr-reader\");\n+    }\n \n-                    const modalSuccess = document.getElementById('scanSuccessModal');\n-                    modalSuccess.classList.remove('hidden');\n-\n-                    // Auto close modal\n-                    setTimeout(() => {\n-                        modalSuccess.classList.add('hidden');\n-                    }, 2000);\n-                } else {\n-                    qrResult.innerText = \"User not found.\";\n-                }\n-            } catch (error) {\n-                qrResult.innerText = \"Error fetching user.\";\n-                console.error(error);\n-            }\n-        },\n-        (errorMessage) => {\n-            console.log(\"QR Scan Error:\", errorMessage);\n+    // Request camera permission & start scanner\n+    Html5Qrcode.getCameras().then(cameras => {\n+        if (cameras && cameras.length) {\n+            html5QrCode.start(\n+                cameras[0].id,   // use first camera\n+                { fps: 10, qrbox: 350 },\n+                onScanSuccess\n+            ).catch(err => console.error(\"Camera start failed:\", err));\n         }\n-    ).catch(err => {\n-        console.error(\"Unable to start QR scanner.\", err);\n-    });\n+    }).catch(err => console.error(\"Camera permission denied:\", err));\n }\n \n function closeQrScanner() {\n-    const modal = document.getElementById('qrScannerModal');\n-    modal.classList.add('opacity-0', 'pointer-events-none');\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n \n     if (html5QrCode) {\n-        html5QrCode.stop().catch(err => console.error(err));\n+        html5QrCode.stop()\n+            .then(() => html5QrCode.clear())\n+            .catch(err => console.error(\"Failed to stop scanner:\", err));\n     }\n }\n \n function closeSuccessModal() {\n-    document.getElementById('scanSuccessModal').classList.add('hidden');\n+    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n }\n+\n+// Custom Upload File\n+document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n+    if (e.target.files.length === 0) return;\n+    const file = e.target.files[0];\n+    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n+\n+    html5QrCode.scanFile(file, true)\n+        .then(decodedText => {\n+            const successModal = document.getElementById(\"scanSuccessModal\");\n+            const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+            if (decodedText.startsWith(\"http\")) {\n+                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+            } else {\n+                linkOutput.textContent = `Scanned: ${decodedText}`;\n+            }\n+\n+            successModal.classList.remove(\"hidden\");\n+\n+            // Auto-close modal after 2 seconds\n+            setTimeout(() => {\n+                successModal.classList.add(\"hidden\");\n+            }, 2000);\n+        })\n+        .catch(err => {\n+            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n+            console.error(\"Image scan failed:\", err);\n+        });\n+});\n </script>\n \n-\n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763836557572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -363,28 +363,39 @@\n \n <script>\n let html5QrCode; \n \n-function onScanSuccess(decodedText, decodedResult) {\n-    console.log(` Code scanned = ${decodedText}`, decodedResult);\n+async function onScanSuccess(decodedText) {\n+    console.log(\"QR Scanned:\", decodedText);\n \n+    // Step 1: Request user info from backend\n+    const response = await fetch(`/scan-qr-user/${decodedText}`);\n+    const data = await response.json();\n+\n     const successModal = document.getElementById(\"scanSuccessModal\");\n     const linkOutput = document.getElementById(\"scanLinkOutput\");\n \n-    if (decodedText.startsWith(\"http\")) {\n-        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+    // Step 2: Show result\n+    if (data.success) {\n+        linkOutput.innerHTML = `\n+            <div class=\"text-left\">\n+                <p><strong>User ID:</strong> ${data.id}</p>\n+                <p><strong>Name:</strong> ${data.name}</p>\n+            </div>\n+        `;\n     } else {\n-        linkOutput.textContent = `Scanned: ${decodedText}`;\n+        linkOutput.innerHTML = `<span class=\"text-red-600\">${data.message}</span>`;\n     }\n \n     successModal.classList.remove(\"hidden\");\n \n-    // Auto-close modal after 2 seconds\n+    // Auto hide after 2 sec\n     setTimeout(() => {\n         successModal.classList.add(\"hidden\");\n     }, 2000);\n }\n \n+\n function openQrScanner() {\n     const modal = document.getElementById(\"qrScannerModal\");\n     modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n \n"
                },
                {
                    "date": 1763836614856,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -429,36 +429,7 @@\n function closeSuccessModal() {\n     document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n }\n \n-// Custom Upload File\n-document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n-    if (e.target.files.length === 0) return;\n-    const file = e.target.files[0];\n-    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n-\n-    html5QrCode.scanFile(file, true)\n-        .then(decodedText => {\n-            const successModal = document.getElementById(\"scanSuccessModal\");\n-            const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-            if (decodedText.startsWith(\"http\")) {\n-                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-            } else {\n-                linkOutput.textContent = `Scanned: ${decodedText}`;\n-            }\n-\n-            successModal.classList.remove(\"hidden\");\n-\n-            // Auto-close modal after 2 seconds\n-            setTimeout(() => {\n-                successModal.classList.add(\"hidden\");\n-            }, 2000);\n-        })\n-        .catch(err => {\n-            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n-            console.error(\"Image scan failed:\", err);\n-        });\n-});\n </script>\n \n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763836661694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -362,12 +362,21 @@\n </script>\n \n <script>\n let html5QrCode; \n+let scanLocked = false; // Prevent multiple scans\n \n async function onScanSuccess(decodedText) {\n+    if (scanLocked) return; // ignore extra scans\n+    scanLocked = true;\n+\n     console.log(\"QR Scanned:\", decodedText);\n \n+    // Stop scanner immediately\n+    if (html5QrCode) {\n+        await html5QrCode.stop();\n+    }\n+\n     // Step 1: Request user info from backend\n     const response = await fetch(`/scan-qr-user/${decodedText}`);\n     const data = await response.json();\n \n@@ -387,35 +396,41 @@\n     }\n \n     successModal.classList.remove(\"hidden\");\n \n-    // Auto hide after 2 sec\n+    // Auto hide modal after 2 seconds\n     setTimeout(() => {\n         successModal.classList.add(\"hidden\");\n+\n+        // Re-open scanner automatically\n+        scanLocked = false;\n+        restartScanner();\n     }, 2000);\n }\n \n+function restartScanner() {\n+    const scannerDiv = document.getElementById(\"qr-reader\");\n \n-function openQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n+    html5QrCode = new Html5Qrcode(\"qr-reader\");\n \n-    if (!html5QrCode) {\n-        html5QrCode = new Html5Qrcode(\"qr-reader\");\n-    }\n-\n-    // Request camera permission & start scanner\n     Html5Qrcode.getCameras().then(cameras => {\n         if (cameras && cameras.length) {\n             html5QrCode.start(\n-                cameras[0].id,   // use first camera\n+                cameras[0].id,\n                 { fps: 10, qrbox: 350 },\n                 onScanSuccess\n-            ).catch(err => console.error(\"Camera start failed:\", err));\n+            );\n         }\n-    }).catch(err => console.error(\"Camera permission denied:\", err));\n+    });\n }\n \n+function openQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n+\n+    restartScanner();\n+}\n+\n function closeQrScanner() {\n     const modal = document.getElementById(\"qrScannerModal\");\n     modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n \n@@ -428,8 +443,8 @@\n \n function closeSuccessModal() {\n     document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n }\n-\n </script>\n \n+\n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763836792758,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -362,29 +362,24 @@\n </script>\n \n <script>\n let html5QrCode; \n-let scanLocked = false; // Prevent multiple scans\n+let modalCooldown = false; // prevent spam\n \n async function onScanSuccess(decodedText) {\n-    if (scanLocked) return; // ignore extra scans\n-    scanLocked = true;\n+    if (modalCooldown) return; // ignore extra scans\n \n+    modalCooldown = true; // lock for this scan\n     console.log(\"QR Scanned:\", decodedText);\n \n-    // Stop scanner immediately\n-    if (html5QrCode) {\n-        await html5QrCode.stop();\n-    }\n-\n-    // Step 1: Request user info from backend\n+    // Step 1: Request user info\n     const response = await fetch(`/scan-qr-user/${decodedText}`);\n     const data = await response.json();\n \n     const successModal = document.getElementById(\"scanSuccessModal\");\n     const linkOutput = document.getElementById(\"scanLinkOutput\");\n \n-    // Step 2: Show result\n+    // Step 2: Set modal content\n     if (data.success) {\n         linkOutput.innerHTML = `\n             <div class=\"text-left\">\n                 <p><strong>User ID:</strong> ${data.id}</p>\n@@ -394,25 +389,27 @@\n     } else {\n         linkOutput.innerHTML = `<span class=\"text-red-600\">${data.message}</span>`;\n     }\n \n+    // Step 3: Show modal\n     successModal.classList.remove(\"hidden\");\n \n-    // Auto hide modal after 2 seconds\n+    // Step 4: Wait 2 seconds  hide modal  allow next scan\n     setTimeout(() => {\n         successModal.classList.add(\"hidden\");\n-\n-        // Re-open scanner automatically\n-        scanLocked = false;\n-        restartScanner();\n+        modalCooldown = false; // unlock for next scan\n     }, 2000);\n }\n \n-function restartScanner() {\n-    const scannerDiv = document.getElementById(\"qr-reader\");\n \n-    html5QrCode = new Html5Qrcode(\"qr-reader\");\n+function openQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n \n+    if (!html5QrCode) {\n+        html5QrCode = new Html5Qrcode(\"qr-reader\");\n+    }\n+\n     Html5Qrcode.getCameras().then(cameras => {\n         if (cameras && cameras.length) {\n             html5QrCode.start(\n                 cameras[0].id,\n@@ -422,23 +419,16 @@\n         }\n     });\n }\n \n-function openQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n-\n-    restartScanner();\n-}\n-\n function closeQrScanner() {\n     const modal = document.getElementById(\"qrScannerModal\");\n     modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n \n     if (html5QrCode) {\n         html5QrCode.stop()\n             .then(() => html5QrCode.clear())\n-            .catch(err => console.error(\"Failed to stop scanner:\", err));\n+            .catch(err => console.error(\"Scanner stop error:\", err));\n     }\n }\n \n function closeSuccessModal() {\n"
                },
                {
                    "date": 1763836833761,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -362,24 +362,20 @@\n </script>\n \n <script>\n let html5QrCode; \n-let modalCooldown = false; // prevent spam\n \n async function onScanSuccess(decodedText) {\n-    if (modalCooldown) return; // ignore extra scans\n-\n-    modalCooldown = true; // lock for this scan\n     console.log(\"QR Scanned:\", decodedText);\n \n-    // Step 1: Request user info\n+    // Step 1: Request user info from backend\n     const response = await fetch(`/scan-qr-user/${decodedText}`);\n     const data = await response.json();\n \n     const successModal = document.getElementById(\"scanSuccessModal\");\n     const linkOutput = document.getElementById(\"scanLinkOutput\");\n \n-    // Step 2: Set modal content\n+    // Step 2: Show result\n     if (data.success) {\n         linkOutput.innerHTML = `\n             <div class=\"text-left\">\n                 <p><strong>User ID:</strong> ${data.id}</p>\n@@ -389,15 +385,13 @@\n     } else {\n         linkOutput.innerHTML = `<span class=\"text-red-600\">${data.message}</span>`;\n     }\n \n-    // Step 3: Show modal\n     successModal.classList.remove(\"hidden\");\n \n-    // Step 4: Wait 2 seconds  hide modal  allow next scan\n+    // Auto hide after 2 sec\n     setTimeout(() => {\n         successModal.classList.add(\"hidden\");\n-        modalCooldown = false; // unlock for next scan\n     }, 2000);\n }\n \n \n@@ -408,17 +402,18 @@\n     if (!html5QrCode) {\n         html5QrCode = new Html5Qrcode(\"qr-reader\");\n     }\n \n+    // Request camera permission & start scanner\n     Html5Qrcode.getCameras().then(cameras => {\n         if (cameras && cameras.length) {\n             html5QrCode.start(\n-                cameras[0].id,\n+                cameras[0].id,   // use first camera\n                 { fps: 10, qrbox: 350 },\n                 onScanSuccess\n-            );\n+            ).catch(err => console.error(\"Camera start failed:\", err));\n         }\n-    });\n+    }).catch(err => console.error(\"Camera permission denied:\", err));\n }\n \n function closeQrScanner() {\n     const modal = document.getElementById(\"qrScannerModal\");\n@@ -426,15 +421,15 @@\n \n     if (html5QrCode) {\n         html5QrCode.stop()\n             .then(() => html5QrCode.clear())\n-            .catch(err => console.error(\"Scanner stop error:\", err));\n+            .catch(err => console.error(\"Failed to stop scanner:\", err));\n     }\n }\n \n function closeSuccessModal() {\n     document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n }\n+\n </script>\n \n-\n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763836844110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -429,7 +429,8 @@\n function closeSuccessModal() {\n     document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n }\n \n+\n </script>\n \n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763836883161,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -363,39 +363,28 @@\n \n <script>\n let html5QrCode; \n \n-async function onScanSuccess(decodedText) {\n-    console.log(\"QR Scanned:\", decodedText);\n+function onScanSuccess(decodedText, decodedResult) {\n+    console.log(` Code scanned = ${decodedText}`, decodedResult);\n \n-    // Step 1: Request user info from backend\n-    const response = await fetch(`/scan-qr-user/${decodedText}`);\n-    const data = await response.json();\n-\n     const successModal = document.getElementById(\"scanSuccessModal\");\n     const linkOutput = document.getElementById(\"scanLinkOutput\");\n \n-    // Step 2: Show result\n-    if (data.success) {\n-        linkOutput.innerHTML = `\n-            <div class=\"text-left\">\n-                <p><strong>User ID:</strong> ${data.id}</p>\n-                <p><strong>Name:</strong> ${data.name}</p>\n-            </div>\n-        `;\n+    if (decodedText.startsWith(\"http\")) {\n+        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n     } else {\n-        linkOutput.innerHTML = `<span class=\"text-red-600\">${data.message}</span>`;\n+        linkOutput.textContent = `Scanned: ${decodedText}`;\n     }\n \n     successModal.classList.remove(\"hidden\");\n \n-    // Auto hide after 2 sec\n+    // Auto-close modal after 2 seconds\n     setTimeout(() => {\n         successModal.classList.add(\"hidden\");\n     }, 2000);\n }\n \n-\n function openQrScanner() {\n     const modal = document.getElementById(\"qrScannerModal\");\n     modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n \n@@ -429,8 +418,36 @@\n function closeSuccessModal() {\n     document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n }\n \n+// Custom Upload File\n+document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n+    if (e.target.files.length === 0) return;\n+    const file = e.target.files[0];\n+    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n \n+    html5QrCode.scanFile(file, true)\n+        .then(decodedText => {\n+            const successModal = document.getElementById(\"scanSuccessModal\");\n+            const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+            if (decodedText.startsWith(\"http\")) {\n+                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+            } else {\n+                linkOutput.textContent = `Scanned: ${decodedText}`;\n+            }\n+\n+            successModal.classList.remove(\"hidden\");\n+\n+            // Auto-close modal after 2 seconds\n+            setTimeout(() => {\n+                successModal.classList.add(\"hidden\");\n+            }, 2000);\n+        })\n+        .catch(err => {\n+            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n+            console.error(\"Image scan failed:\", err);\n+        });\n+});\n </script>\n \n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763839260911,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,9 +317,10 @@\n <!-- SUCCESS MODAL -->\n <div id=\"scanSuccessModal\" \n      class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n-        <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n+        <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h3>\n+        <h3 class=\"text-lg font-semibold text-green-600 mb-4\">Name: </h2>\n         <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n         <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n             OK\n         </button>\n"
                },
                {
                    "date": 1763839274874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,10 +317,10 @@\n <!-- SUCCESS MODAL -->\n <div id=\"scanSuccessModal\" \n      class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n-        <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h3>\n-        <h3 class=\"text-lg font-semibold text-green-600 mb-4\">Name: </h2>\n+        <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n+        <h3 class=\"text-lg font-semibold text-green-600 mb-4\">Name: </h3>\n         <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n         <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n             OK\n         </button>\n"
                },
                {
                    "date": 1763839285699,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -318,9 +318,10 @@\n <div id=\"scanSuccessModal\" \n      class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n-        <h3 class=\"text-lg font-semibold text-green-600 mb-4\">Name: </h3>\n+        <h3 class=\"text-lg font-semibold text-gray-600 mb-4\">Name: </h3>\n+                <h3 class=\"text-lg font-semibold text-green-600 mb-4\">Name: </h3>\n         <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n         <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n             OK\n         </button>\n"
                },
                {
                    "date": 1763839293717,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -319,9 +319,9 @@\n      class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n         <h3 class=\"text-lg font-semibold text-gray-600 mb-4\">Name: </h3>\n-                <h3 class=\"text-lg font-semibold text-green-600 mb-4\">Name: </h3>\n+                <h3 class=\"text-lg font-semibold text-gray-600 mb-4\">Name: </h3>\n         <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n         <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n             OK\n         </button>\n"
                },
                {
                    "date": 1763839304363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -319,9 +319,9 @@\n      class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n         <h3 class=\"text-lg font-semibold text-gray-600 mb-4\">Name: </h3>\n-                <h3 class=\"text-lg font-semibold text-gray-600 mb-4\">Name: </h3>\n+        <h3 class=\"text-lg font-semibold text-gray-600 mb-4\">MEMBER ID: </h3>\n         <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n         <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n             OK\n         </button>\n"
                },
                {
                    "date": 1763839340119,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -318,10 +318,10 @@\n <div id=\"scanSuccessModal\" \n      class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n-        <h3 class=\"text-lg font-semibold text-gray-600 mb-4\">Name: </h3>\n-        <h3 class=\"text-lg font-semibold text-gray-600 mb-4\">MEMBER ID: </h3>\n+        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">Name: </h4>\n+        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">MEMBER ID: </h4>\n         <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n         <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n             OK\n         </button>\n"
                },
                {
                    "date": 1763839366359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -318,9 +318,9 @@\n <div id=\"scanSuccessModal\" \n      class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n     <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n         <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n-        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">Name: </h4>\n+        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">NAME: </h4>\n         <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">MEMBER ID: </h4>\n         <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n         <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n             OK\n"
                },
                {
                    "date": 1763839381863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -278,10 +278,10 @@\n         @include('components.modals.program-qr')\n         @include('components.modals.generate-report')\n     </div>\n </div>\n+\n <!-- Scanner Modal -->\n-<!-- Scanner Modal -->\n <div id=\"qrScannerModal\" \n     class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n     <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n         <!-- Header -->\n"
                },
                {
                    "date": 1763839723885,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -365,28 +365,41 @@\n \n <script>\n let html5QrCode; \n \n-function onScanSuccess(decodedText, decodedResult) {\n-    console.log(` Code scanned = ${decodedText}`, decodedResult);\n+async function onScanSuccess(decodedText) {\n+    console.log(\"QR scanned:\", decodedText);\n \n+    // Fetch participant information\n+    const response = await fetch(`/scan-qr-user/${decodedText}`);\n+    const data = await response.json();\n+\n     const successModal = document.getElementById(\"scanSuccessModal\");\n-    const linkOutput = document.getElementById(\"scanLinkOutput\");\n \n-    if (decodedText.startsWith(\"http\")) {\n-        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+    if (data.success) {\n+        document.querySelector(\"#scanSuccessModal h4:nth-child(2)\").innerHTML =\n+            `NAME: <span class=\"text-black\">${data.name}</span>`;\n+        \n+        document.querySelector(\"#scanSuccessModal h4:nth-child(3)\").innerHTML =\n+            `MEMBER ID: <span class=\"text-black\">${data.member_id}</span>`;\n     } else {\n-        linkOutput.textContent = `Scanned: ${decodedText}`;\n+        document.querySelector(\"#scanSuccessModal h4:nth-child(2)\").innerHTML =\n+            `NAME: <span class=\"text-red-600\">NOT FOUND</span>`;\n+            \n+        document.querySelector(\"#scanSuccessModal h4:nth-child(3)\").innerHTML =\n+            `MEMBER ID: <span class=\"text-red-600\">N/A</span>`;\n     }\n \n+    // Show modal (scanner continues)\n     successModal.classList.remove(\"hidden\");\n \n-    // Auto-close modal after 2 seconds\n+    // Auto-close modal after 2s\n     setTimeout(() => {\n         successModal.classList.add(\"hidden\");\n     }, 2000);\n }\n \n+\n function openQrScanner() {\n     const modal = document.getElementById(\"qrScannerModal\");\n     modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n \n"
                },
                {
                    "date": 1763840084602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -366,36 +366,32 @@\n <script>\n let html5QrCode; \n \n async function onScanSuccess(decodedText) {\n-    console.log(\"QR scanned:\", decodedText);\n+    console.log(\"QR Scanned:\", decodedText);\n \n-    // Fetch participant information\n-    const response = await fetch(`/scan-qr-user/${decodedText}`);\n+    let trainingId = document.getElementById(\"trainingId\").value; // hidden input in blade\n+\n+    const response = await fetch(`/scan-qr-user/${decodedText}?training_id=${trainingId}`);\n     const data = await response.json();\n \n-    const successModal = document.getElementById(\"scanSuccessModal\");\n-\n-    if (data.success) {\n-        document.querySelector(\"#scanSuccessModal h4:nth-child(2)\").innerHTML =\n-            `NAME: <span class=\"text-black\">${data.name}</span>`;\n-        \n-        document.querySelector(\"#scanSuccessModal h4:nth-child(3)\").innerHTML =\n-            `MEMBER ID: <span class=\"text-black\">${data.member_id}</span>`;\n-    } else {\n-        document.querySelector(\"#scanSuccessModal h4:nth-child(2)\").innerHTML =\n-            `NAME: <span class=\"text-red-600\">NOT FOUND</span>`;\n-            \n-        document.querySelector(\"#scanSuccessModal h4:nth-child(3)\").innerHTML =\n-            `MEMBER ID: <span class=\"text-red-600\">N/A</span>`;\n+    if (!data.success) {\n+        console.log(\"Not found:\", data.message);\n+        return;\n     }\n \n-    // Show modal (scanner continues)\n-    successModal.classList.remove(\"hidden\");\n+    // SHOW IN MODAL\n+    document.querySelector(\"#scanSuccessModal h4:nth-of-type(1)\").innerHTML =\n+        \"NAME: \" + data.name;\n \n-    // Auto-close modal after 2s\n+    document.querySelector(\"#scanSuccessModal h4:nth-of-type(2)\").innerHTML =\n+        \"MEMBER ID: \" + data.member_id;\n+\n+    document.getElementById(\"scanSuccessModal\").classList.remove(\"hidden\");\n+\n+    // DO NOT STOP THE CAMERA\n     setTimeout(() => {\n-        successModal.classList.add(\"hidden\");\n+        document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n     }, 2000);\n }\n \n \n"
                },
                {
                    "date": 1763840112421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -301,8 +301,10 @@\n \n         <!-- Insert Member Text -->\n         <div class=\"mt-6 text-center text-gray-600 font-medium\">\n             or insert member\n+            <input type=\"hidden\" id=\"trainingId\" value=\"{{ $training->id }}\">\n+\n         </div>\n \n         <!-- Close Button -->\n         <div class=\"mt-3\">\n"
                },
                {
                    "date": 1763840147244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -301,10 +301,9 @@\n \n         <!-- Insert Member Text -->\n         <div class=\"mt-6 text-center text-gray-600 font-medium\">\n             or insert member\n-            <input type=\"hidden\" id=\"trainingId\" value=\"{{ $training->id }}\">\n-\n+            \n         </div>\n \n         <!-- Close Button -->\n         <div class=\"mt-3\">\n"
                },
                {
                    "date": 1763840249827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,8 +280,9 @@\n     </div>\n </div>\n \n <!-- Scanner Modal -->\n+ <input type=\"hidden\" id=\"trainingId\" value=\"{{ $training->id }}\">\n <div id=\"qrScannerModal\" \n     class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n     <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n         <!-- Header -->\n"
                },
                {
                    "date": 1763840404545,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,9 +280,8 @@\n     </div>\n </div>\n \n <!-- Scanner Modal -->\n- <input type=\"hidden\" id=\"trainingId\" value=\"{{ $training->id }}\">\n <div id=\"qrScannerModal\" \n     class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n     <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n         <!-- Header -->\n"
                },
                {
                    "date": 1763840480364,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -369,31 +369,34 @@\n \n async function onScanSuccess(decodedText) {\n     console.log(\"QR Scanned:\", decodedText);\n \n-    let trainingId = document.getElementById(\"trainingId\").value; // hidden input in blade\n+    try {\n+        const response = await fetch(`/scan-qr-user/${decodedText}`);\n+        const data = await response.json();\n \n-    const response = await fetch(`/scan-qr-user/${decodedText}?training_id=${trainingId}`);\n-    const data = await response.json();\n+        const successModal = document.getElementById(\"scanSuccessModal\");\n+        const linkOutput = document.getElementById(\"scanLinkOutput\");\n \n-    if (!data.success) {\n-        console.log(\"Not found:\", data.message);\n-        return;\n-    }\n+        if (data.success) {\n+            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = `NAME: ${data.name}`;\n+            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = `MEMBER ID: ${data.member_id}`;\n+            linkOutput.textContent = \"QR successfully matched!\";\n+        } else {\n+            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = \"NAME: -\";\n+            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = \"MEMBER ID: -\";\n+            linkOutput.textContent = data.message;\n+        }\n \n-    // SHOW IN MODAL\n-    document.querySelector(\"#scanSuccessModal h4:nth-of-type(1)\").innerHTML =\n-        \"NAME: \" + data.name;\n+        successModal.classList.remove(\"hidden\");\n \n-    document.querySelector(\"#scanSuccessModal h4:nth-of-type(2)\").innerHTML =\n-        \"MEMBER ID: \" + data.member_id;\n-\n-    document.getElementById(\"scanSuccessModal\").classList.remove(\"hidden\");\n-\n-    // DO NOT STOP THE CAMERA\n-    setTimeout(() => {\n-        document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n-    }, 2000);\n+        // Optional: auto-hide\n+        setTimeout(() => {\n+            successModal.classList.add(\"hidden\");\n+        }, 2000);\n+    } catch (err) {\n+        console.error(\"Error fetching user info:\", err);\n+    }\n }\n \n \n function openQrScanner() {\n"
                },
                {
                    "date": 1763864665850,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,468 @@\n+\n+\n+@extends('layouts.app')\n+\n+@section('content')\n+<style>\n+    .custom-scroll::-webkit-scrollbar {\n+        width: 4px;\n+        height: 2px; \n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-track {\n+        background: transparent;\n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-thumb {\n+        background-color: #2C6E49; \n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-thumb:hover {\n+        background-color: #94a3b8;\n+    }\n+</style>\n+@include('layouts.loading-overlay')\n+<div class=\"p-2\">\n+        <div class=\"bg-mainbg px-2 space-y-2\">\n+        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n+            <!-- Initiative tab -->\n+            <div class=\"col-span-12\">\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n+                    <div class=\"lg:flex h-full\">\n+                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n+                            <img \n+                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n+                                alt=\"Training Image\" \n+                                class=\"object-cover w-full h-full\"\n+                            >\n+                        </div>\n+                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n+                            <div>\n+                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n+                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n+                            </div>\n+                            <div class=\"mb-4 mt-10\">\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n+                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n+                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n+                                </div>\n+                            </div>\n+                        </div>\n+                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n+                            {{--<button onclick=\"openModal('programQrModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                QR Code\n+                            </button>--}}\n+                            \n+                            <button onclick=\"openModal('editTrainingModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Edit Info\n+                            </button>\n+                            \n+                            {{--<button onclick=\"openModal('geneReportModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Generate Report\n+                            </button>--}}\n+                            \n+                            <button onclick=\"openModal('endProgramModal')\" \n+                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                End Program\n+                            </button>\n+                        </div>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <!-- BASE tab -->\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n+    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n+    </div>\n+    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n+        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+                <tr>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attended At</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n+                </tr>\n+            </thead>\n+            <tbody class=\"bg-white divide-y divide-gray-100\">\n+                @forelse($training->participants as $user)\n+                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                    <td class=\"px-6 py-3 text-sm font-medium\">\n+                        @if($user->pivot->check_in_at)\n+                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                        @elseif($isFinished)\n+                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                        @else\n+                            <span class=\"text-gray-400\">Not Yet Attended</span>\n+                        @endif\n+                    </td>\n+                    <td class=\"px-6 py-3 text-sm\">\n+                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n+                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                            </button>\n+                            <div x-show=\"show\" \n+                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                    Choose an Action\n+                                </h3>\n+                                <div class=\"border-t border-gray-200 py-2\">\n+                                    <ul class=\"space-y-2\">\n+                                        <li>\n+                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                        </li>\n+                                        <li>\n+                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n+                                        </li>\n+                                    </ul>\n+                                </div>\n+                            </div>\n+                        </div>\n+                    </td>\n+                </tr>\n+                @empty\n+                <tr>\n+                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+                </tr>\n+                @endforelse\n+            </tbody>\n+        </table>\n+    </div>\n+    @include('components.pagination')\n+</div>\n+\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n+    <!-- Description Card -->\n+    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n+        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+    </div>\n+\n+    <!-- Training Date Card -->\n+    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n+            {{ $training->date->format('d F, Y') }}\n+        </p>\n+\n+        <p class=\"text-center text-sm text-btncolor mt-1\">\n+            @if($training->date->isTomorrow())\n+                This training is scheduled for <strong>Tomorrow</strong>.\n+            @elseif($training->date->isToday())\n+                This training is happening <strong>Today</strong>!\n+            @else\n+                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+            @endif\n+        </p>\n+\n+        <div class=\"px-10 py-3\">\n+            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n+                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                View Participants \n+            </button>\n+        </div>\n+    </div>\n+</div>\n+\n+            <!-- OFFICIAL ATTENDEES-->\n+             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n+                </div>\n+                <div class=\"overflow-auto h-[60vh]\">\n+    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+            <tr>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+            </tr>\n+        </thead>\n+        <tbody class=\"bg-white divide-y divide-gray-100\">\n+            @forelse($training->participants as $user)\n+            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                <td class=\"px-6 py-3 text-center\">\n+                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n+                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n+                </td>\n+                <td class=\"px-6 py-3 text-sm font-medium\">\n+                    @if($user->pivot->check_in_at)\n+                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                    @elseif($isFinished)\n+                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                    @else\n+                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                    @endif\n+                </td>\n+            </tr>\n+            @empty\n+            <tr>\n+                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+            </tr>\n+            @endforelse\n+        </tbody>\n+    </table>\n+</div>\n+\n+                @include('components.pagination')\n+            </div>\n+\n+            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n+                <!-- Scanner Mode Info -->\n+                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n+                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n+                    <p class=\"text-bsctxt text-md mb-6\">\n+                        On the Scanner mode to manage attendance\n+                    </p>\n+                    <button onclick=\"openQrScanner()\" \n+                        class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n+                        Start Scanner\n+                    </button>\n+                </div>\n+\n+                <!-- Manage Attendance Button -->\n+                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n+                    <button onclick=\"openQrScanner()\" \n+                        class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                        Manage Attendance\n+                    </button>\n+                </div>     \n+\n+                <!-- Back to Initiative -->\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n+                    <div class=\"px-10 py-3\">\n+                        <button @click=\"activeTab = 'initiative'\" \n+                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                            Initiative\n+                        </button>\n+                    </div>\n+                </div>\n+            </div>\n+\n+        </div>\n+        @include('components.modals.edit-training')\n+        @include('components.modals.end-program')\n+        @include('components.modals.program-qr')\n+        @include('components.modals.generate-report')\n+    </div>\n+</div>\n+\n+<!-- Scanner Modal -->\n+<div id=\"qrScannerModal\" \n+    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n+    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n+        <!-- Header -->\n+        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n+            Scan User QR Code\n+        </h2>\n+        \n+        <!-- Camera Preview -->\n+        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n+            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n+        </div>\n+\n+        <!-- Scan Result -->\n+        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n+            Waiting for scan...\n+        </div>\n+\n+        <!-- Insert Member Text -->\n+        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n+            or insert member\n+            \n+        </div>\n+\n+        <!-- Close Button -->\n+        <div class=\"mt-3\">\n+            <button onclick=\"closeQrScanner()\" \n+                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n+                Close Scanner\n+            </button>\n+        </div>\n+    </div>\n+</div>\n+\n+<!-- SUCCESS MODAL -->\n+<div id=\"scanSuccessModal\" \n+     class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n+    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n+        <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n+        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">NAME: </h4>\n+        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">MEMBER ID: </h4>\n+        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n+        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n+            OK\n+        </button>\n+    </div>\n+</div>\n+\n+\n+\n+\n+\n+\n+\n+<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n+    <div class=\"flex flex-col items-center\">\n+        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n+            viewBox=\"0 0 24 24\">\n+            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n+            <path class=\"opacity-75\" fill=\"currentColor\"\n+                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n+        </svg>\n+        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n+    </div>\n+</div>\n+\n+\n+<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n+<script>\n+    function showLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n+\n+        // Auto hide after 1s (optional)\n+        setTimeout(() => {\n+            hideLoadingOverlayBtn();\n+        }, 1000);\n+    }\n+\n+    function hideLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n+    }\n+</script>\n+\n+<script>\n+let html5QrCode; \n+\n+async function onScanSuccess(decodedText) {\n+    console.log(\"QR Scanned:\", decodedText);\n+\n+    try {\n+        const response = await fetch(`/scan-qr-user/${decodedText}`);\n+        const data = await response.json();\n+\n+        const successModal = document.getElementById(\"scanSuccessModal\");\n+        const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+        if (data.success) {\n+            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = `NAME: ${data.name}`;\n+            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = `MEMBER ID: ${data.member_id}`;\n+            linkOutput.textContent = \"QR successfully matched!\";\n+        } else {\n+            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = \"NAME: -\";\n+            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = \"MEMBER ID: -\";\n+            linkOutput.textContent = data.message;\n+        }\n+\n+        successModal.classList.remove(\"hidden\");\n+\n+        // Optional: auto-hide\n+        setTimeout(() => {\n+            successModal.classList.add(\"hidden\");\n+        }, 2000);\n+    } catch (err) {\n+        console.error(\"Error fetching user info:\", err);\n+    }\n+}\n+\n+\n+function openQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (!html5QrCode) {\n+        html5QrCode = new Html5Qrcode(\"qr-reader\");\n+    }\n+\n+    // Request camera permission & start scanner\n+    Html5Qrcode.getCameras().then(cameras => {\n+        if (cameras && cameras.length) {\n+            html5QrCode.start(\n+                cameras[0].id,   // use first camera\n+                { fps: 10, qrbox: 350 },\n+                onScanSuccess\n+            ).catch(err => console.error(\"Camera start failed:\", err));\n+        }\n+    }).catch(err => console.error(\"Camera permission denied:\", err));\n+}\n+\n+function closeQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (html5QrCode) {\n+        html5QrCode.stop()\n+            .then(() => html5QrCode.clear())\n+            .catch(err => console.error(\"Failed to stop scanner:\", err));\n+    }\n+}\n+\n+function closeSuccessModal() {\n+    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n+}\n+\n+// Custom Upload File\n+document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n+    if (e.target.files.length === 0) return;\n+    const file = e.target.files[0];\n+    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n+\n+    html5QrCode.scanFile(file, true)\n+        .then(decodedText => {\n+            const successModal = document.getElementById(\"scanSuccessModal\");\n+            const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+            if (decodedText.startsWith(\"http\")) {\n+                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+            } else {\n+                linkOutput.textContent = `Scanned: ${decodedText}`;\n+            }\n+\n+            successModal.classList.remove(\"hidden\");\n+\n+            // Auto-close modal after 2 seconds\n+            setTimeout(() => {\n+                successModal.classList.add(\"hidden\");\n+            }, 2000);\n+        })\n+        .catch(err => {\n+            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n+            console.error(\"Image scan failed:\", err);\n+        });\n+});\n+</script>\n+\n+@endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763926844528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -298,482 +298,23 @@\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n         </div>\n \n-        <!-- Insert Member Text -->\n-        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n-            or insert member\n-            \n-        </div>\n-\n-        <!-- Close Button -->\n-        <div class=\"mt-3\">\n-            <button onclick=\"closeQrScanner()\" \n-                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n-                Close Scanner\n-            </button>\n-        </div>\n+<!-- Insert Member Text -->\n+<div class=\"mt-6 text-center text-gray-600 font-medium\">\n+    or insert member\n+    <div class=\"mt-3 flex items-center justify-center\">\n+        <input \n+            type=\"text\" \n+            placeholder=\"Enter Member ID / Name\"\n+            class=\"w-72 px-4 py-2 border border-gray-300 rounded-lg shadow-sm \n+                   focus:outline-none focus:ring-2 focus:ring-customIT focus:border-customIT\n+                   text-gray-700\"\n+        >\n     </div>\n </div>\n \n-<!-- SUCCESS MODAL -->\n-<div id=\"scanSuccessModal\" \n-     class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n-    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n-        <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n-        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">NAME: </h4>\n-        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">MEMBER ID: </h4>\n-        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n-        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n-            OK\n-        </button>\n-    </div>\n-</div>\n \n-\n-\n-\n-\n-\n-\n-<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n-    <div class=\"flex flex-col items-center\">\n-        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n-            viewBox=\"0 0 24 24\">\n-            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n-            <path class=\"opacity-75\" fill=\"currentColor\"\n-                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n-        </svg>\n-        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n-    </div>\n-</div>\n-\n-\n-<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n-<script>\n-    function showLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n-\n-        // Auto hide after 1s (optional)\n-        setTimeout(() => {\n-            hideLoadingOverlayBtn();\n-        }, 1000);\n-    }\n-\n-    function hideLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n-    }\n-</script>\n-\n-<script>\n-let html5QrCode; \n-\n-async function onScanSuccess(decodedText) {\n-    console.log(\"QR Scanned:\", decodedText);\n-\n-    try {\n-        const response = await fetch(`/scan-qr-user/${decodedText}`);\n-        const data = await response.json();\n-\n-        const successModal = document.getElementById(\"scanSuccessModal\");\n-        const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-        if (data.success) {\n-            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = `NAME: ${data.name}`;\n-            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = `MEMBER ID: ${data.member_id}`;\n-            linkOutput.textContent = \"QR successfully matched!\";\n-        } else {\n-            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = \"NAME: -\";\n-            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = \"MEMBER ID: -\";\n-            linkOutput.textContent = data.message;\n-        }\n-\n-        successModal.classList.remove(\"hidden\");\n-\n-        // Optional: auto-hide\n-        setTimeout(() => {\n-            successModal.classList.add(\"hidden\");\n-        }, 2000);\n-    } catch (err) {\n-        console.error(\"Error fetching user info:\", err);\n-    }\n-}\n-\n-\n-function openQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (!html5QrCode) {\n-        html5QrCode = new Html5Qrcode(\"qr-reader\");\n-    }\n-\n-    // Request camera permission & start scanner\n-    Html5Qrcode.getCameras().then(cameras => {\n-        if (cameras && cameras.length) {\n-            html5QrCode.start(\n-                cameras[0].id,   // use first camera\n-                { fps: 10, qrbox: 350 },\n-                onScanSuccess\n-            ).catch(err => console.error(\"Camera start failed:\", err));\n-        }\n-    }).catch(err => console.error(\"Camera permission denied:\", err));\n-}\n-\n-function closeQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (html5QrCode) {\n-        html5QrCode.stop()\n-            .then(() => html5QrCode.clear())\n-            .catch(err => console.error(\"Failed to stop scanner:\", err));\n-    }\n-}\n-\n-function closeSuccessModal() {\n-    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n-}\n-\n-// Custom Upload File\n-document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n-    if (e.target.files.length === 0) return;\n-    const file = e.target.files[0];\n-    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n-\n-    html5QrCode.scanFile(file, true)\n-        .then(decodedText => {\n-            const successModal = document.getElementById(\"scanSuccessModal\");\n-            const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-            if (decodedText.startsWith(\"http\")) {\n-                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-            } else {\n-                linkOutput.textContent = `Scanned: ${decodedText}`;\n-            }\n-\n-            successModal.classList.remove(\"hidden\");\n-\n-            // Auto-close modal after 2 seconds\n-            setTimeout(() => {\n-                successModal.classList.add(\"hidden\");\n-            }, 2000);\n-        })\n-        .catch(err => {\n-            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n-            console.error(\"Image scan failed:\", err);\n-        });\n-});\n-</script>\n-\n-@endsection\n-\n-\n-@extends('layouts.app')\n-\n-@section('content')\n-<style>\n-    .custom-scroll::-webkit-scrollbar {\n-        width: 4px;\n-        height: 2px; \n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-track {\n-        background: transparent;\n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-thumb {\n-        background-color: #2C6E49; \n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-thumb:hover {\n-        background-color: #94a3b8;\n-    }\n-</style>\n-@include('layouts.loading-overlay')\n-<div class=\"p-2\">\n-        <div class=\"bg-mainbg px-2 space-y-2\">\n-        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n-            <!-- Initiative tab -->\n-            <div class=\"col-span-12\">\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n-                    <div class=\"lg:flex h-full\">\n-                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n-                            <img \n-                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n-                                alt=\"Training Image\" \n-                                class=\"object-cover w-full h-full\"\n-                            >\n-                        </div>\n-                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n-                            <div>\n-                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n-                            </div>\n-                            <div class=\"mb-4 mt-10\">\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n-                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n-                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n-                                </div>\n-                            </div>\n-                        </div>\n-                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            {{--<button onclick=\"openModal('programQrModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                QR Code\n-                            </button>--}}\n-                            \n-                            <button onclick=\"openModal('editTrainingModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Edit Info\n-                            </button>\n-                            \n-                            {{--<button onclick=\"openModal('geneReportModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Generate Report\n-                            </button>--}}\n-                            \n-                            <button onclick=\"openModal('endProgramModal')\" \n-                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                End Program\n-                            </button>\n-                        </div>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <!-- BASE tab -->\n-<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n-    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n-    </div>\n-    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n-        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-                <tr>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n-                </tr>\n-            </thead>\n-            <tbody class=\"bg-white divide-y divide-gray-100\">\n-                @forelse($training->participants as $user)\n-                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                    <td class=\"px-6 py-3 text-sm font-medium\">\n-                        @if($user->pivot->check_in_at)\n-                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                        @elseif($isFinished)\n-                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                        @else\n-                            <span class=\"text-gray-400\">Not Yet Attended</span>\n-                        @endif\n-                    </td>\n-                    <td class=\"px-6 py-3 text-sm\">\n-                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n-                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                            </button>\n-                            <div x-show=\"show\" \n-                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                    Choose an Action\n-                                </h3>\n-                                <div class=\"border-t border-gray-200 py-2\">\n-                                    <ul class=\"space-y-2\">\n-                                        <li>\n-                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                        </li>\n-                                        <li>\n-                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n-                                        </li>\n-                                    </ul>\n-                                </div>\n-                            </div>\n-                        </div>\n-                    </td>\n-                </tr>\n-                @empty\n-                <tr>\n-                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-                </tr>\n-                @endforelse\n-            </tbody>\n-        </table>\n-    </div>\n-    @include('components.pagination')\n-</div>\n-\n-<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n-    <!-- Description Card -->\n-    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n-    </div>\n-\n-    <!-- Training Date Card -->\n-    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n-        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n-            {{ $training->date->format('d F, Y') }}\n-        </p>\n-\n-        <p class=\"text-center text-sm text-btncolor mt-1\">\n-            @if($training->date->isTomorrow())\n-                This training is scheduled for <strong>Tomorrow</strong>.\n-            @elseif($training->date->isToday())\n-                This training is happening <strong>Today</strong>!\n-            @else\n-                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-            @endif\n-        </p>\n-\n-        <div class=\"px-10 py-3\">\n-            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n-                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                View Participants \n-            </button>\n-        </div>\n-    </div>\n-</div>\n-\n-            <!-- OFFICIAL ATTENDEES-->\n-             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n-                </div>\n-                <div class=\"overflow-auto h-[60vh]\">\n-    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-            <tr>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-            </tr>\n-        </thead>\n-        <tbody class=\"bg-white divide-y divide-gray-100\">\n-            @forelse($training->participants as $user)\n-            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                <td class=\"px-6 py-3 text-center\">\n-                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n-                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n-                </td>\n-                <td class=\"px-6 py-3 text-sm font-medium\">\n-                    @if($user->pivot->check_in_at)\n-                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                    @elseif($isFinished)\n-                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                    @else\n-                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                    @endif\n-                </td>\n-            </tr>\n-            @empty\n-            <tr>\n-                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-            </tr>\n-            @endforelse\n-        </tbody>\n-    </table>\n-</div>\n-\n-                @include('components.pagination')\n-            </div>\n-\n-            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n-                <!-- Scanner Mode Info -->\n-                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n-                    <p class=\"text-bsctxt text-md mb-6\">\n-                        On the Scanner mode to manage attendance\n-                    </p>\n-                    <button onclick=\"openQrScanner()\" \n-                        class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n-                        Start Scanner\n-                    </button>\n-                </div>\n-\n-                <!-- Manage Attendance Button -->\n-                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n-                    <button onclick=\"openQrScanner()\" \n-                        class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                        Manage Attendance\n-                    </button>\n-                </div>     \n-\n-                <!-- Back to Initiative -->\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n-                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n-                    <div class=\"px-10 py-3\">\n-                        <button @click=\"activeTab = 'initiative'\" \n-                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            Initiative\n-                        </button>\n-                    </div>\n-                </div>\n-            </div>\n-\n-        </div>\n-        @include('components.modals.edit-training')\n-        @include('components.modals.end-program')\n-        @include('components.modals.program-qr')\n-        @include('components.modals.generate-report')\n-    </div>\n-</div>\n-\n-<!-- Scanner Modal -->\n-<div id=\"qrScannerModal\" \n-    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n-    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n-        <!-- Header -->\n-        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n-            Scan User QR Code\n-        </h2>\n-        \n-        <!-- Camera Preview -->\n-        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n-            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n-        </div>\n-\n-        <!-- Scan Result -->\n-        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n-            Waiting for scan...\n-        </div>\n-\n-        <!-- Insert Member Text -->\n-        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n-            or insert member\n-            \n-        </div>\n-\n         <!-- Close Button -->\n         <div class=\"mt-3\">\n             <button onclick=\"closeQrScanner()\" \n                 class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n"
                },
                {
                    "date": 1763927011273,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -298,21 +298,21 @@\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n         </div>\n \n-<!-- Insert Member Text -->\n-<div class=\"mt-6 text-center text-gray-600 font-medium\">\n-    or insert member\n-    <div class=\"mt-3 flex items-center justify-center\">\n-        <input \n-            type=\"text\" \n-            placeholder=\"Enter Member ID / Name\"\n-            class=\"w-72 px-4 py-2 border border-gray-300 rounded-lg shadow-sm \n-                   focus:outline-none focus:ring-2 focus:ring-customIT focus:border-customIT\n-                   text-gray-700\"\n-        >\n-    </div>\n-</div>\n+        <!-- Insert Member Text -->\n+        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n+            or insert member\n+            <div class=\"mt-3 flex items-center justify-center\">\n+                <input \n+                    type=\"text\" \n+                    placeholder=\"Enter Member ID / Name\"\n+                    class=\"w-72 px-4 py-2 border border-gray-300 rounded-lg shadow-sm \n+                        focus:outline-none focus:ring-2 focus:ring-customIT focus:border-customIT\n+                        text-gray-700\"\n+                >\n+            </div>\n+        </div>\n \n \n         <!-- Close Button -->\n         <div class=\"mt-3\">\n"
                },
                {
                    "date": 1763927064936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -300,9 +300,9 @@\n         </div>\n \n         <!-- Insert Member Text -->\n         <div class=\"mt-6 text-center text-gray-600 font-medium\">\n-            or insert member\n+            Insert Member\n             <div class=\"mt-3 flex items-center justify-center\">\n                 <input \n                     type=\"text\" \n                     placeholder=\"Enter Member ID / Name\"\n"
                },
                {
                    "date": 1763927087151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -296,8 +296,10 @@\n \n         <!-- Scan Result -->\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n+\n+            <P>or</P>\n         </div>\n \n         <!-- Insert Member Text -->\n         <div class=\"mt-6 text-center text-gray-600 font-medium\">\n"
                },
                {
                    "date": 1763927107108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -297,12 +297,13 @@\n         <!-- Scan Result -->\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n \n-            <P>or</P>\n+\n         </div>\n \n         <!-- Insert Member Text -->\n+                     <P>or</P>\n         <div class=\"mt-6 text-center text-gray-600 font-medium\">\n             Insert Member\n             <div class=\"mt-3 flex items-center justify-center\">\n                 <input \n"
                },
                {
                    "date": 1763927121328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -301,9 +301,8 @@\n \n         </div>\n \n         <!-- Insert Member Text -->\n-                     <P>or</P>\n         <div class=\"mt-6 text-center text-gray-600 font-medium\">\n             Insert Member\n             <div class=\"mt-3 flex items-center justify-center\">\n                 <input \n"
                },
                {
                    "date": 1763927138017,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -297,13 +297,13 @@\n         <!-- Scan Result -->\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n \n-\n         </div>\n \n         <!-- Insert Member Text -->\n         <div class=\"mt-6 text-center text-gray-600 font-medium\">\n+            <p>OR</p>\n             Insert Member\n             <div class=\"mt-3 flex items-center justify-center\">\n                 <input \n                     type=\"text\" \n"
                },
                {
                    "date": 1763927153624,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -298,12 +298,12 @@\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n \n         </div>\n-\n+            <p>OR</p>\n         <!-- Insert Member Text -->\n         <div class=\"mt-6 text-center text-gray-600 font-medium\">\n-            <p>OR</p>\n+\n             Insert Member\n             <div class=\"mt-3 flex items-center justify-center\">\n                 <input \n                     type=\"text\" \n"
                },
                {
                    "date": 1763927177820,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -298,9 +298,9 @@\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n \n         </div>\n-            <p>OR</p>\n+        <p class=\"mt-6 text-center text-gray-600 font-medium\">OR</p>\n         <!-- Insert Member Text -->\n         <div class=\"mt-6 text-center text-gray-600 font-medium\">\n \n             Insert Member\n"
                },
                {
                    "date": 1763927196067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -298,9 +298,9 @@\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n \n         </div>\n-        <p class=\"mt-6 text-center text-gray-600 font-medium\">OR</p>\n+        <p class=\"mt-6 text-center text-gray-600 font-medium tex-sm\">OR</p>\n         <!-- Insert Member Text -->\n         <div class=\"mt-6 text-center text-gray-600 font-medium\">\n \n             Insert Member\n"
                },
                {
                    "date": 1763927220221,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -300,9 +300,9 @@\n \n         </div>\n         <p class=\"mt-6 text-center text-gray-600 font-medium tex-sm\">OR</p>\n         <!-- Insert Member Text -->\n-        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n+        <div class=\"mt-3 text-center text-gray-600 font-medium\">\n \n             Insert Member\n             <div class=\"mt-3 flex items-center justify-center\">\n                 <input \n"
                },
                {
                    "date": 1763927231624,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -300,9 +300,9 @@\n \n         </div>\n         <p class=\"mt-6 text-center text-gray-600 font-medium tex-sm\">OR</p>\n         <!-- Insert Member Text -->\n-        <div class=\"mt-3 text-center text-gray-600 font-medium\">\n+        <div class=\"text-center text-gray-600 font-medium\">\n \n             Insert Member\n             <div class=\"mt-3 flex items-center justify-center\">\n                 <input \n"
                },
                {
                    "date": 1763927250462,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -300,9 +300,9 @@\n \n         </div>\n         <p class=\"mt-6 text-center text-gray-600 font-medium tex-sm\">OR</p>\n         <!-- Insert Member Text -->\n-        <div class=\"text-center text-gray-600 font-medium\">\n+        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n \n             Insert Member\n             <div class=\"mt-3 flex items-center justify-center\">\n                 <input \n"
                },
                {
                    "date": 1763927273881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -298,12 +298,11 @@\n         <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Waiting for scan...\n \n         </div>\n-        <p class=\"mt-6 text-center text-gray-600 font-medium tex-sm\">OR</p>\n+        <p class=\"mt-2 text-center text-gray-600 font-medium tex-sm\">OR</p>\n         <!-- Insert Member Text -->\n-        <div class=\"mt-6 text-center text-gray-600 font-medium\">\n-\n+        <div class=\"mt-4 text-center text-gray-600 font-medium\">\n             Insert Member\n             <div class=\"mt-3 flex items-center justify-center\">\n                 <input \n                     type=\"text\" \n"
                },
                {
                    "date": 1763927288200,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -300,9 +300,9 @@\n \n         </div>\n         <p class=\"mt-2 text-center text-gray-600 font-medium tex-sm\">OR</p>\n         <!-- Insert Member Text -->\n-        <div class=\"mt-4 text-center text-gray-600 font-medium\">\n+        <div class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Insert Member\n             <div class=\"mt-3 flex items-center justify-center\">\n                 <input \n                     type=\"text\" \n"
                },
                {
                    "date": 1763927300786,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -302,9 +302,9 @@\n         <p class=\"mt-2 text-center text-gray-600 font-medium tex-sm\">OR</p>\n         <!-- Insert Member Text -->\n         <div class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Insert Member\n-            <div class=\"mt-3 flex items-center justify-center\">\n+            <div class=\"mt-2 flex items-center justify-center\">\n                 <input \n                     type=\"text\" \n                     placeholder=\"Enter Member ID / Name\"\n                     class=\"w-72 px-4 py-2 border border-gray-300 rounded-lg shadow-sm \n"
                },
                {
                    "date": 1763974539407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -302,9 +302,9 @@\n         <p class=\"mt-2 text-center text-gray-600 font-medium tex-sm\">OR</p>\n         <!-- Insert Member Text -->\n         <div class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n             Insert Member\n-            <div class=\"mt-2 flex items-center justify-center\">\n+            <div class=\"mt-2   flex items-center justify-center\">\n                 <input \n                     type=\"text\" \n                     placeholder=\"Enter Member ID / Name\"\n                     class=\"w-72 px-4 py-2 border border-gray-300 rounded-lg shadow-sm \n"
                },
                {
                    "date": 1764001621242,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,17 +171,19 @@\n         <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n             {{ $training->date->format('d F, Y') }}\n         </p>\n \n-        <p class=\"text-center text-sm text-btncolor mt-1\">\n-            @if($training->date->isTomorrow())\n-                This training is scheduled for <strong>Tomorrow</strong>.\n-            @elseif($training->date->isToday())\n-                This training is happening <strong>Today</strong>!\n-            @else\n-                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-            @endif\n-        </p>\n+<p class=\"text-center text-sm text-btncolor mt-1\">\n+    @if($now->between($start, $end))\n+        Event is <strong>ONGOING</strong>\n+    @elseif($training->date->isTomorrow())\n+        This training is scheduled for <strong>Tomorrow</strong>.\n+    @elseif($training->date->isToday())\n+        This training is happening <strong>Today</strong>!\n+    @else\n+        This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+    @endif\n+</p>\n \n         <div class=\"px-10 py-3\">\n             <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n                 class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n"
                },
                {
                    "date": 1764001662604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,8 +171,14 @@\n         <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n             {{ $training->date->format('d F, Y') }}\n         </p>\n \n+@php\n+    $start = \\Carbon\\Carbon::parse($training->date . ' ' . $training->start_time);\n+    $end   = \\Carbon\\Carbon::parse($training->date . ' ' . $training->end_time);\n+    $now   = \\Carbon\\Carbon::now();\n+@endphp\n+\n <p class=\"text-center text-sm text-btncolor mt-1\">\n     @if($now->between($start, $end))\n         Event is <strong>ONGOING</strong>\n     @elseif($training->date->isTomorrow())\n@@ -183,8 +189,9 @@\n         This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n     @endif\n </p>\n \n+\n         <div class=\"px-10 py-3\">\n             <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n                 class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                 View Participants \n"
                },
                {
                    "date": 1764001742314,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -172,16 +172,16 @@\n             {{ $training->date->format('d F, Y') }}\n         </p>\n \n @php\n-    $start = \\Carbon\\Carbon::parse($training->date . ' ' . $training->start_time);\n-    $end   = \\Carbon\\Carbon::parse($training->date . ' ' . $training->end_time);\n-    $now   = \\Carbon\\Carbon::now();\n+    $now = now();\n+    $isOngoing = $training->date->isToday() \n+        && $now->between($training->start_time, $training->end_time);\n @endphp\n \n <p class=\"text-center text-sm text-btncolor mt-1\">\n-    @if($now->between($start, $end))\n-        Event is <strong>ONGOING</strong>\n+    @if($isOngoing)\n+        This event is <strong>ONGOING</strong>.\n     @elseif($training->date->isTomorrow())\n         This training is scheduled for <strong>Tomorrow</strong>.\n     @elseif($training->date->isToday())\n         This training is happening <strong>Today</strong>!\n"
                },
                {
                    "date": 1764001758010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,27 +171,19 @@\n         <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n             {{ $training->date->format('d F, Y') }}\n         </p>\n \n-@php\n-    $now = now();\n-    $isOngoing = $training->date->isToday() \n-        && $now->between($training->start_time, $training->end_time);\n-@endphp\n+        <p class=\"text-center text-sm text-btncolor mt-1\">\n+            @if($training->date->isTomorrow())\n+                This training is scheduled for <strong>Tomorrow</strong>.\n+            @elseif($training->date->isToday())\n+                This training is happening <strong>Today</strong>!\n+            @else\n+                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+            @endif\n+        </p>\n+        <p>THIS EVENT IS ONGOING</p>\n \n-<p class=\"text-center text-sm text-btncolor mt-1\">\n-    @if($isOngoing)\n-        This event is <strong>ONGOING</strong>.\n-    @elseif($training->date->isTomorrow())\n-        This training is scheduled for <strong>Tomorrow</strong>.\n-    @elseif($training->date->isToday())\n-        This training is happening <strong>Today</strong>!\n-    @else\n-        This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-    @endif\n-</p>\n-\n-\n         <div class=\"px-10 py-3\">\n             <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n                 class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                 View Participants \n"
                },
                {
                    "date": 1764001779748,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,9 +180,8 @@\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n             @endif\n         </p>\n-        <p>THIS EVENT IS ONGOING</p>\n \n         <div class=\"px-10 py-3\">\n             <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n                 class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n"
                },
                {
                    "date": 1764001806589,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -178,8 +178,10 @@\n             @elseif($training->date->isToday())\n                 This training is happening <strong>Today</strong>!\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+\n+                <strong>ONGOING</strong>.\n             @endif\n         </p>\n \n         <div class=\"px-10 py-3\">\n"
                },
                {
                    "date": 1764001823806,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -178,10 +178,8 @@\n             @elseif($training->date->isToday())\n                 This training is happening <strong>Today</strong>!\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-\n-                <strong>ONGOING</strong>.\n             @endif\n         </p>\n \n         <div class=\"px-10 py-3\">\n"
                },
                {
                    "date": 1764001927841,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -178,8 +178,10 @@\n             @elseif($training->date->isToday())\n                 This training is happening <strong>Today</strong>!\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+\n+                ONGOING\n             @endif\n         </p>\n \n         <div class=\"px-10 py-3\">\n"
                },
                {
                    "date": 1764001945951,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -178,10 +178,8 @@\n             @elseif($training->date->isToday())\n                 This training is happening <strong>Today</strong>!\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-\n-                ONGOING\n             @endif\n         </p>\n \n         <div class=\"px-10 py-3\">\n"
                },
                {
                    "date": 1764001973668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,487 @@\n+\n+\n+@extends('layouts.app')\n+\n+@section('content')\n+<style>\n+    .custom-scroll::-webkit-scrollbar {\n+        width: 4px;\n+        height: 2px; \n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-track {\n+        background: transparent;\n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-thumb {\n+        background-color: #2C6E49; \n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-thumb:hover {\n+        background-color: #94a3b8;\n+    }\n+</style>\n+@include('layouts.loading-overlay')\n+<div class=\"p-2\">\n+        <div class=\"bg-mainbg px-2 space-y-2\">\n+        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n+            <!-- Initiative tab -->\n+            <div class=\"col-span-12\">\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n+                    <div class=\"lg:flex h-full\">\n+                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n+                            <img \n+                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n+                                alt=\"Training Image\" \n+                                class=\"object-cover w-full h-full\"\n+                            >\n+                        </div>\n+                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n+                            <div>\n+                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n+                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n+                            </div>\n+                            <div class=\"mb-4 mt-10\">\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n+                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n+                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n+                                </div>\n+                            </div>\n+                        </div>\n+                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n+                            {{--<button onclick=\"openModal('programQrModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                QR Code\n+                            </button>--}}\n+                            \n+                            <button onclick=\"openModal('editTrainingModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Edit Info\n+                            </button>\n+                            \n+                            {{--<button onclick=\"openModal('geneReportModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Generate Report\n+                            </button>--}}\n+                            \n+                            <button onclick=\"openModal('endProgramModal')\" \n+                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                End Program\n+                            </button>\n+                        </div>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <!-- BASE tab -->\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n+    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n+    </div>\n+    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n+        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+                <tr>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attended At</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n+                </tr>\n+            </thead>\n+            <tbody class=\"bg-white divide-y divide-gray-100\">\n+                @forelse($training->participants as $user)\n+                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                    <td class=\"px-6 py-3 text-sm font-medium\">\n+                        @if($user->pivot->check_in_at)\n+                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                        @elseif($isFinished)\n+                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                        @else\n+                            <span class=\"text-gray-400\">Not Yet Attended</span>\n+                        @endif\n+                    </td>\n+                    <td class=\"px-6 py-3 text-sm\">\n+                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n+                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                            </button>\n+                            <div x-show=\"show\" \n+                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                    Choose an Action\n+                                </h3>\n+                                <div class=\"border-t border-gray-200 py-2\">\n+                                    <ul class=\"space-y-2\">\n+                                        <li>\n+                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                        </li>\n+                                        <li>\n+                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n+                                        </li>\n+                                    </ul>\n+                                </div>\n+                            </div>\n+                        </div>\n+                    </td>\n+                </tr>\n+                @empty\n+                <tr>\n+                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+                </tr>\n+                @endforelse\n+            </tbody>\n+        </table>\n+    </div>\n+    @include('components.pagination')\n+</div>\n+\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n+    <!-- Description Card -->\n+    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n+        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+    </div>\n+\n+    <!-- Training Date Card -->\n+    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n+            {{ $training->date->format('d F, Y') }}\n+        </p>\n+\n+        <p class=\"text-center text-sm text-btncolor mt-1\">\n+            @if($training->date->isTomorrow())\n+                This training is scheduled for <strong>Tomorrow</strong>.\n+            @elseif($training->date->isToday())\n+                This training is happening <strong>Today</strong>!\n+            @else\n+                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+            @endif\n+        </p>\n+                <p class=\"text-center text-sm text-btncolor mt-1\">\n+            @if($training->date->isTomorrow())\n+                This training is scheduled for <strong>Tomorrow</strong>.\n+            @elseif($training->date->isToday())\n+                This training is happening <strong>Today</strong>!\n+            @else\n+                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+            @endif\n+        </p>\n+\n+        <div class=\"px-10 py-3\">\n+            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n+                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                View Participants \n+            </button>\n+        </div>\n+    </div>\n+</div>\n+\n+            <!-- OFFICIAL ATTENDEES-->\n+             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n+                </div>\n+                <div class=\"overflow-auto h-[60vh]\">\n+    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+            <tr>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+            </tr>\n+        </thead>\n+        <tbody class=\"bg-white divide-y divide-gray-100\">\n+            @forelse($training->participants as $user)\n+            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                <td class=\"px-6 py-3 text-center\">\n+                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n+                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n+                </td>\n+                <td class=\"px-6 py-3 text-sm font-medium\">\n+                    @if($user->pivot->check_in_at)\n+                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                    @elseif($isFinished)\n+                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                    @else\n+                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                    @endif\n+                </td>\n+            </tr>\n+            @empty\n+            <tr>\n+                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+            </tr>\n+            @endforelse\n+        </tbody>\n+    </table>\n+</div>\n+\n+                @include('components.pagination')\n+            </div>\n+\n+            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n+                <!-- Scanner Mode Info -->\n+                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n+                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n+                    <p class=\"text-bsctxt text-md mb-6\">\n+                        On the Scanner mode to manage attendance\n+                    </p>\n+                    <button onclick=\"openQrScanner()\" \n+                        class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n+                        Start Scanner\n+                    </button>\n+                </div>\n+\n+                <!-- Manage Attendance Button -->\n+                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n+                    <button onclick=\"openQrScanner()\" \n+                        class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                        Manage Attendance\n+                    </button>\n+                </div>     \n+\n+                <!-- Back to Initiative -->\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n+                    <div class=\"px-10 py-3\">\n+                        <button @click=\"activeTab = 'initiative'\" \n+                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                            Initiative\n+                        </button>\n+                    </div>\n+                </div>\n+            </div>\n+\n+        </div>\n+        @include('components.modals.edit-training')\n+        @include('components.modals.end-program')\n+        @include('components.modals.program-qr')\n+        @include('components.modals.generate-report')\n+    </div>\n+</div>\n+\n+<!-- Scanner Modal -->\n+<div id=\"qrScannerModal\" \n+    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n+    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n+        <!-- Header -->\n+        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n+            Scan User QR Code\n+        </h2>\n+        \n+        <!-- Camera Preview -->\n+        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n+            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n+        </div>\n+\n+        <!-- Scan Result -->\n+        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n+            Waiting for scan...\n+\n+        </div>\n+        <p class=\"mt-2 text-center text-gray-600 font-medium tex-sm\">OR</p>\n+        <!-- Insert Member Text -->\n+        <div class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n+            Insert Member\n+            <div class=\"mt-2   flex items-center justify-center\">\n+                <input \n+                    type=\"text\" \n+                    placeholder=\"Enter Member ID / Name\"\n+                    class=\"w-72 px-4 py-2 border border-gray-300 rounded-lg shadow-sm \n+                        focus:outline-none focus:ring-2 focus:ring-customIT focus:border-customIT\n+                        text-gray-700\"\n+                >\n+            </div>\n+        </div>\n+\n+\n+        <!-- Close Button -->\n+        <div class=\"mt-3\">\n+            <button onclick=\"closeQrScanner()\" \n+                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n+                Close Scanner\n+            </button>\n+        </div>\n+    </div>\n+</div>\n+\n+<!-- SUCCESS MODAL -->\n+<div id=\"scanSuccessModal\" \n+     class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n+    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n+        <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n+        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">NAME: </h4>\n+        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">MEMBER ID: </h4>\n+        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n+        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n+            OK\n+        </button>\n+    </div>\n+</div>\n+\n+\n+\n+\n+\n+\n+\n+<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n+    <div class=\"flex flex-col items-center\">\n+        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n+            viewBox=\"0 0 24 24\">\n+            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n+            <path class=\"opacity-75\" fill=\"currentColor\"\n+                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n+        </svg>\n+        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n+    </div>\n+</div>\n+\n+\n+<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n+<script>\n+    function showLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n+\n+        // Auto hide after 1s (optional)\n+        setTimeout(() => {\n+            hideLoadingOverlayBtn();\n+        }, 1000);\n+    }\n+\n+    function hideLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n+    }\n+</script>\n+\n+<script>\n+let html5QrCode; \n+\n+async function onScanSuccess(decodedText) {\n+    console.log(\"QR Scanned:\", decodedText);\n+\n+    try {\n+        const response = await fetch(`/scan-qr-user/${decodedText}`);\n+        const data = await response.json();\n+\n+        const successModal = document.getElementById(\"scanSuccessModal\");\n+        const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+        if (data.success) {\n+            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = `NAME: ${data.name}`;\n+            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = `MEMBER ID: ${data.member_id}`;\n+            linkOutput.textContent = \"QR successfully matched!\";\n+        } else {\n+            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = \"NAME: -\";\n+            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = \"MEMBER ID: -\";\n+            linkOutput.textContent = data.message;\n+        }\n+\n+        successModal.classList.remove(\"hidden\");\n+\n+        // Optional: auto-hide\n+        setTimeout(() => {\n+            successModal.classList.add(\"hidden\");\n+        }, 2000);\n+    } catch (err) {\n+        console.error(\"Error fetching user info:\", err);\n+    }\n+}\n+\n+\n+function openQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (!html5QrCode) {\n+        html5QrCode = new Html5Qrcode(\"qr-reader\");\n+    }\n+\n+    // Request camera permission & start scanner\n+    Html5Qrcode.getCameras().then(cameras => {\n+        if (cameras && cameras.length) {\n+            html5QrCode.start(\n+                cameras[0].id,   // use first camera\n+                { fps: 10, qrbox: 350 },\n+                onScanSuccess\n+            ).catch(err => console.error(\"Camera start failed:\", err));\n+        }\n+    }).catch(err => console.error(\"Camera permission denied:\", err));\n+}\n+\n+function closeQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (html5QrCode) {\n+        html5QrCode.stop()\n+            .then(() => html5QrCode.clear())\n+            .catch(err => console.error(\"Failed to stop scanner:\", err));\n+    }\n+}\n+\n+function closeSuccessModal() {\n+    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n+}\n+\n+// Custom Upload File\n+document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n+    if (e.target.files.length === 0) return;\n+    const file = e.target.files[0];\n+    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n+\n+    html5QrCode.scanFile(file, true)\n+        .then(decodedText => {\n+            const successModal = document.getElementById(\"scanSuccessModal\");\n+            const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+            if (decodedText.startsWith(\"http\")) {\n+                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+            } else {\n+                linkOutput.textContent = `Scanned: ${decodedText}`;\n+            }\n+\n+            successModal.classList.remove(\"hidden\");\n+\n+            // Auto-close modal after 2 seconds\n+            setTimeout(() => {\n+                successModal.classList.add(\"hidden\");\n+            }, 2000);\n+        })\n+        .catch(err => {\n+            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n+            console.error(\"Image scan failed:\", err);\n+        });\n+});\n+</script>\n+\n+@endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1764001981725,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,487 @@\n+\n+\n+@extends('layouts.app')\n+\n+@section('content')\n+<style>\n+    .custom-scroll::-webkit-scrollbar {\n+        width: 4px;\n+        height: 2px; \n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-track {\n+        background: transparent;\n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-thumb {\n+        background-color: #2C6E49; \n+    }\n+\n+    .custom-scroll::-webkit-scrollbar-thumb:hover {\n+        background-color: #94a3b8;\n+    }\n+</style>\n+@include('layouts.loading-overlay')\n+<div class=\"p-2\">\n+        <div class=\"bg-mainbg px-2 space-y-2\">\n+        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n+            <!-- Initiative tab -->\n+            <div class=\"col-span-12\">\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n+                    <div class=\"lg:flex h-full\">\n+                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n+                            <img \n+                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n+                                alt=\"Training Image\" \n+                                class=\"object-cover w-full h-full\"\n+                            >\n+                        </div>\n+                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n+                            <div>\n+                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n+                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n+                            </div>\n+                            <div class=\"mb-4 mt-10\">\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n+                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n+                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n+                                </div>\n+                                <div class=\"flex items-center space-x-4 mb-1\">\n+                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n+                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n+                                </div>\n+                            </div>\n+                        </div>\n+                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n+                            {{--<button onclick=\"openModal('programQrModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                QR Code\n+                            </button>--}}\n+                            \n+                            <button onclick=\"openModal('editTrainingModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Edit Info\n+                            </button>\n+                            \n+                            {{--<button onclick=\"openModal('geneReportModal')\" \n+                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                Generate Report\n+                            </button>--}}\n+                            \n+                            <button onclick=\"openModal('endProgramModal')\" \n+                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n+                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n+                                End Program\n+                            </button>\n+                        </div>\n+                    </div>\n+                </div>\n+            </div>\n+\n+            <!-- BASE tab -->\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n+    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n+    </div>\n+    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n+        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+                <tr>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attended At</th>\n+                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n+                </tr>\n+            </thead>\n+            <tbody class=\"bg-white divide-y divide-gray-100\">\n+                @forelse($training->participants as $user)\n+                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                    <td class=\"px-6 py-3 text-sm font-medium\">\n+                        @if($user->pivot->check_in_at)\n+                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                        @elseif($isFinished)\n+                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                        @else\n+                            <span class=\"text-gray-400\">Not Yet Attended</span>\n+                        @endif\n+                    </td>\n+                    <td class=\"px-6 py-3 text-sm\">\n+                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n+                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n+                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n+                            </button>\n+                            <div x-show=\"show\" \n+                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n+                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n+                                    Choose an Action\n+                                </h3>\n+                                <div class=\"border-t border-gray-200 py-2\">\n+                                    <ul class=\"space-y-2\">\n+                                        <li>\n+                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n+                                        </li>\n+                                        <li>\n+                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n+                                        </li>\n+                                    </ul>\n+                                </div>\n+                            </div>\n+                        </div>\n+                    </td>\n+                </tr>\n+                @empty\n+                <tr>\n+                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+                </tr>\n+                @endforelse\n+            </tbody>\n+        </table>\n+    </div>\n+    @include('components.pagination')\n+</div>\n+\n+<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n+    <!-- Description Card -->\n+    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n+        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n+    </div>\n+\n+    <!-- Training Date Card -->\n+    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n+            {{ $training->date->format('d F, Y') }}\n+        </p>\n+\n+        <p class=\"text-center text-sm text-btncolor mt-1\">\n+            @if($training->date->isTomorrow())\n+                This training is scheduled for <strong>Tomorrow</strong>.\n+            @elseif($training->date->isToday())\n+                This training is happening <strong>Today</strong>!\n+            @else\n+                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+            @endif\n+        </p>\n+        <p class=\"text-center text-lg text-btncolor mt-1\">\n+            @if($training->date->isTomorrow())\n+                This training is scheduled for <strong>Tomorrow</strong>.\n+            @elseif($training->date->isToday())\n+                This training is happening <strong>Today</strong>!\n+            @else\n+                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+            @endif\n+        </p>\n+\n+        <div class=\"px-10 py-3\">\n+            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n+                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                View Participants \n+            </button>\n+        </div>\n+    </div>\n+</div>\n+\n+            <!-- OFFICIAL ATTENDEES-->\n+             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n+                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n+                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n+                </div>\n+                <div class=\"overflow-auto h-[60vh]\">\n+    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n+        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n+            <tr>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n+                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n+                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n+            </tr>\n+        </thead>\n+        <tbody class=\"bg-white divide-y divide-gray-100\">\n+            @forelse($training->participants as $user)\n+            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n+                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n+                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n+                <td class=\"px-6 py-3 text-center\">\n+                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n+                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n+                </td>\n+                <td class=\"px-6 py-3 text-sm font-medium\">\n+                    @if($user->pivot->check_in_at)\n+                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n+                    @elseif($isFinished)\n+                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n+                    @else\n+                        <span class=\"text-gray-400\">Not Yet Attended</span>\n+                    @endif\n+                </td>\n+            </tr>\n+            @empty\n+            <tr>\n+                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n+            </tr>\n+            @endforelse\n+        </tbody>\n+    </table>\n+</div>\n+\n+                @include('components.pagination')\n+            </div>\n+\n+            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n+                <!-- Scanner Mode Info -->\n+                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n+                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n+                    <p class=\"text-bsctxt text-md mb-6\">\n+                        On the Scanner mode to manage attendance\n+                    </p>\n+                    <button onclick=\"openQrScanner()\" \n+                        class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n+                        Start Scanner\n+                    </button>\n+                </div>\n+\n+                <!-- Manage Attendance Button -->\n+                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n+                    <button onclick=\"openQrScanner()\" \n+                        class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                        Manage Attendance\n+                    </button>\n+                </div>     \n+\n+                <!-- Back to Initiative -->\n+                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n+                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n+                    <div class=\"px-10 py-3\">\n+                        <button @click=\"activeTab = 'initiative'\" \n+                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n+                            Initiative\n+                        </button>\n+                    </div>\n+                </div>\n+            </div>\n+\n+        </div>\n+        @include('components.modals.edit-training')\n+        @include('components.modals.end-program')\n+        @include('components.modals.program-qr')\n+        @include('components.modals.generate-report')\n+    </div>\n+</div>\n+\n+<!-- Scanner Modal -->\n+<div id=\"qrScannerModal\" \n+    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n+    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n+        <!-- Header -->\n+        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n+            Scan User QR Code\n+        </h2>\n+        \n+        <!-- Camera Preview -->\n+        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n+            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n+        </div>\n+\n+        <!-- Scan Result -->\n+        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n+            Waiting for scan...\n+\n+        </div>\n+        <p class=\"mt-2 text-center text-gray-600 font-medium tex-sm\">OR</p>\n+        <!-- Insert Member Text -->\n+        <div class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n+            Insert Member\n+            <div class=\"mt-2   flex items-center justify-center\">\n+                <input \n+                    type=\"text\" \n+                    placeholder=\"Enter Member ID / Name\"\n+                    class=\"w-72 px-4 py-2 border border-gray-300 rounded-lg shadow-sm \n+                        focus:outline-none focus:ring-2 focus:ring-customIT focus:border-customIT\n+                        text-gray-700\"\n+                >\n+            </div>\n+        </div>\n+\n+\n+        <!-- Close Button -->\n+        <div class=\"mt-3\">\n+            <button onclick=\"closeQrScanner()\" \n+                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n+                Close Scanner\n+            </button>\n+        </div>\n+    </div>\n+</div>\n+\n+<!-- SUCCESS MODAL -->\n+<div id=\"scanSuccessModal\" \n+     class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n+    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n+        <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n+        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">NAME: </h4>\n+        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">MEMBER ID: </h4>\n+        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n+        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n+            OK\n+        </button>\n+    </div>\n+</div>\n+\n+\n+\n+\n+\n+\n+\n+<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n+    <div class=\"flex flex-col items-center\">\n+        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n+            viewBox=\"0 0 24 24\">\n+            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n+            <path class=\"opacity-75\" fill=\"currentColor\"\n+                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n+        </svg>\n+        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n+    </div>\n+</div>\n+\n+\n+<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n+<script>\n+    function showLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n+\n+        // Auto hide after 1s (optional)\n+        setTimeout(() => {\n+            hideLoadingOverlayBtn();\n+        }, 1000);\n+    }\n+\n+    function hideLoadingOverlayBtn() {\n+        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n+    }\n+</script>\n+\n+<script>\n+let html5QrCode; \n+\n+async function onScanSuccess(decodedText) {\n+    console.log(\"QR Scanned:\", decodedText);\n+\n+    try {\n+        const response = await fetch(`/scan-qr-user/${decodedText}`);\n+        const data = await response.json();\n+\n+        const successModal = document.getElementById(\"scanSuccessModal\");\n+        const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+        if (data.success) {\n+            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = `NAME: ${data.name}`;\n+            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = `MEMBER ID: ${data.member_id}`;\n+            linkOutput.textContent = \"QR successfully matched!\";\n+        } else {\n+            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = \"NAME: -\";\n+            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = \"MEMBER ID: -\";\n+            linkOutput.textContent = data.message;\n+        }\n+\n+        successModal.classList.remove(\"hidden\");\n+\n+        // Optional: auto-hide\n+        setTimeout(() => {\n+            successModal.classList.add(\"hidden\");\n+        }, 2000);\n+    } catch (err) {\n+        console.error(\"Error fetching user info:\", err);\n+    }\n+}\n+\n+\n+function openQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (!html5QrCode) {\n+        html5QrCode = new Html5Qrcode(\"qr-reader\");\n+    }\n+\n+    // Request camera permission & start scanner\n+    Html5Qrcode.getCameras().then(cameras => {\n+        if (cameras && cameras.length) {\n+            html5QrCode.start(\n+                cameras[0].id,   // use first camera\n+                { fps: 10, qrbox: 350 },\n+                onScanSuccess\n+            ).catch(err => console.error(\"Camera start failed:\", err));\n+        }\n+    }).catch(err => console.error(\"Camera permission denied:\", err));\n+}\n+\n+function closeQrScanner() {\n+    const modal = document.getElementById(\"qrScannerModal\");\n+    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n+\n+    if (html5QrCode) {\n+        html5QrCode.stop()\n+            .then(() => html5QrCode.clear())\n+            .catch(err => console.error(\"Failed to stop scanner:\", err));\n+    }\n+}\n+\n+function closeSuccessModal() {\n+    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n+}\n+\n+// Custom Upload File\n+document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n+    if (e.target.files.length === 0) return;\n+    const file = e.target.files[0];\n+    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n+\n+    html5QrCode.scanFile(file, true)\n+        .then(decodedText => {\n+            const successModal = document.getElementById(\"scanSuccessModal\");\n+            const linkOutput = document.getElementById(\"scanLinkOutput\");\n+\n+            if (decodedText.startsWith(\"http\")) {\n+                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n+            } else {\n+                linkOutput.textContent = `Scanned: ${decodedText}`;\n+            }\n+\n+            successModal.classList.remove(\"hidden\");\n+\n+            // Auto-close modal after 2 seconds\n+            setTimeout(() => {\n+                successModal.classList.add(\"hidden\");\n+            }, 2000);\n+        })\n+        .catch(err => {\n+            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n+            console.error(\"Image scan failed:\", err);\n+        });\n+});\n+</script>\n+\n+@endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1764001991320,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,9 +182,9 @@\n             @endif\n         </p>\n         <p class=\"text-center text-lg text-btncolor mt-1\">\n             @if($training->date->isTomorrow())\n-                This training is scheduled for <strong>Tomorrow</strong>.\n+                This training is scheduled for <strong>UPCOMING</strong>.\n             @elseif($training->date->isToday())\n                 This training is happening <strong>Today</strong>!\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n@@ -483,970 +483,5 @@\n         });\n });\n </script>\n \n-@endsection\n-\n-\n-@extends('layouts.app')\n-\n-@section('content')\n-<style>\n-    .custom-scroll::-webkit-scrollbar {\n-        width: 4px;\n-        height: 2px; \n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-track {\n-        background: transparent;\n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-thumb {\n-        background-color: #2C6E49; \n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-thumb:hover {\n-        background-color: #94a3b8;\n-    }\n-</style>\n-@include('layouts.loading-overlay')\n-<div class=\"p-2\">\n-        <div class=\"bg-mainbg px-2 space-y-2\">\n-        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n-            <!-- Initiative tab -->\n-            <div class=\"col-span-12\">\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n-                    <div class=\"lg:flex h-full\">\n-                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n-                            <img \n-                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n-                                alt=\"Training Image\" \n-                                class=\"object-cover w-full h-full\"\n-                            >\n-                        </div>\n-                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n-                            <div>\n-                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n-                            </div>\n-                            <div class=\"mb-4 mt-10\">\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n-                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n-                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n-                                </div>\n-                            </div>\n-                        </div>\n-                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            {{--<button onclick=\"openModal('programQrModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                QR Code\n-                            </button>--}}\n-                            \n-                            <button onclick=\"openModal('editTrainingModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Edit Info\n-                            </button>\n-                            \n-                            {{--<button onclick=\"openModal('geneReportModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Generate Report\n-                            </button>--}}\n-                            \n-                            <button onclick=\"openModal('endProgramModal')\" \n-                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                End Program\n-                            </button>\n-                        </div>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <!-- BASE tab -->\n-<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n-    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n-    </div>\n-    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n-        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-                <tr>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attended At</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n-                </tr>\n-            </thead>\n-            <tbody class=\"bg-white divide-y divide-gray-100\">\n-                @forelse($training->participants as $user)\n-                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                    <td class=\"px-6 py-3 text-sm font-medium\">\n-                        @if($user->pivot->check_in_at)\n-                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                        @elseif($isFinished)\n-                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                        @else\n-                            <span class=\"text-gray-400\">Not Yet Attended</span>\n-                        @endif\n-                    </td>\n-                    <td class=\"px-6 py-3 text-sm\">\n-                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n-                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                            </button>\n-                            <div x-show=\"show\" \n-                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                    Choose an Action\n-                                </h3>\n-                                <div class=\"border-t border-gray-200 py-2\">\n-                                    <ul class=\"space-y-2\">\n-                                        <li>\n-                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                        </li>\n-                                        <li>\n-                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n-                                        </li>\n-                                    </ul>\n-                                </div>\n-                            </div>\n-                        </div>\n-                    </td>\n-                </tr>\n-                @empty\n-                <tr>\n-                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-                </tr>\n-                @endforelse\n-            </tbody>\n-        </table>\n-    </div>\n-    @include('components.pagination')\n-</div>\n-\n-<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n-    <!-- Description Card -->\n-    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n-    </div>\n-\n-    <!-- Training Date Card -->\n-    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n-        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n-            {{ $training->date->format('d F, Y') }}\n-        </p>\n-\n-        <p class=\"text-center text-sm text-btncolor mt-1\">\n-            @if($training->date->isTomorrow())\n-                This training is scheduled for <strong>Tomorrow</strong>.\n-            @elseif($training->date->isToday())\n-                This training is happening <strong>Today</strong>!\n-            @else\n-                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-            @endif\n-        </p>\n-                <p class=\"text-center text-sm text-btncolor mt-1\">\n-            @if($training->date->isTomorrow())\n-                This training is scheduled for <strong>Tomorrow</strong>.\n-            @elseif($training->date->isToday())\n-                This training is happening <strong>Today</strong>!\n-            @else\n-                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-            @endif\n-        </p>\n-\n-        <div class=\"px-10 py-3\">\n-            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n-                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                View Participants \n-            </button>\n-        </div>\n-    </div>\n-</div>\n-\n-            <!-- OFFICIAL ATTENDEES-->\n-             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n-                </div>\n-                <div class=\"overflow-auto h-[60vh]\">\n-    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-            <tr>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-            </tr>\n-        </thead>\n-        <tbody class=\"bg-white divide-y divide-gray-100\">\n-            @forelse($training->participants as $user)\n-            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                <td class=\"px-6 py-3 text-center\">\n-                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n-                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n-                </td>\n-                <td class=\"px-6 py-3 text-sm font-medium\">\n-                    @if($user->pivot->check_in_at)\n-                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                    @elseif($isFinished)\n-                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                    @else\n-                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                    @endif\n-                </td>\n-            </tr>\n-            @empty\n-            <tr>\n-                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-            </tr>\n-            @endforelse\n-        </tbody>\n-    </table>\n-</div>\n-\n-                @include('components.pagination')\n-            </div>\n-\n-            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n-                <!-- Scanner Mode Info -->\n-                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n-                    <p class=\"text-bsctxt text-md mb-6\">\n-                        On the Scanner mode to manage attendance\n-                    </p>\n-                    <button onclick=\"openQrScanner()\" \n-                        class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n-                        Start Scanner\n-                    </button>\n-                </div>\n-\n-                <!-- Manage Attendance Button -->\n-                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n-                    <button onclick=\"openQrScanner()\" \n-                        class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                        Manage Attendance\n-                    </button>\n-                </div>     \n-\n-                <!-- Back to Initiative -->\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n-                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n-                    <div class=\"px-10 py-3\">\n-                        <button @click=\"activeTab = 'initiative'\" \n-                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            Initiative\n-                        </button>\n-                    </div>\n-                </div>\n-            </div>\n-\n-        </div>\n-        @include('components.modals.edit-training')\n-        @include('components.modals.end-program')\n-        @include('components.modals.program-qr')\n-        @include('components.modals.generate-report')\n-    </div>\n-</div>\n-\n-<!-- Scanner Modal -->\n-<div id=\"qrScannerModal\" \n-    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n-    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n-        <!-- Header -->\n-        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n-            Scan User QR Code\n-        </h2>\n-        \n-        <!-- Camera Preview -->\n-        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n-            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n-        </div>\n-\n-        <!-- Scan Result -->\n-        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n-            Waiting for scan...\n-\n-        </div>\n-        <p class=\"mt-2 text-center text-gray-600 font-medium tex-sm\">OR</p>\n-        <!-- Insert Member Text -->\n-        <div class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n-            Insert Member\n-            <div class=\"mt-2   flex items-center justify-center\">\n-                <input \n-                    type=\"text\" \n-                    placeholder=\"Enter Member ID / Name\"\n-                    class=\"w-72 px-4 py-2 border border-gray-300 rounded-lg shadow-sm \n-                        focus:outline-none focus:ring-2 focus:ring-customIT focus:border-customIT\n-                        text-gray-700\"\n-                >\n-            </div>\n-        </div>\n-\n-\n-        <!-- Close Button -->\n-        <div class=\"mt-3\">\n-            <button onclick=\"closeQrScanner()\" \n-                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n-                Close Scanner\n-            </button>\n-        </div>\n-    </div>\n-</div>\n-\n-<!-- SUCCESS MODAL -->\n-<div id=\"scanSuccessModal\" \n-     class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n-    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n-        <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n-        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">NAME: </h4>\n-        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">MEMBER ID: </h4>\n-        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n-        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n-            OK\n-        </button>\n-    </div>\n-</div>\n-\n-\n-\n-\n-\n-\n-\n-<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n-    <div class=\"flex flex-col items-center\">\n-        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n-            viewBox=\"0 0 24 24\">\n-            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n-            <path class=\"opacity-75\" fill=\"currentColor\"\n-                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n-        </svg>\n-        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n-    </div>\n-</div>\n-\n-\n-<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n-<script>\n-    function showLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n-\n-        // Auto hide after 1s (optional)\n-        setTimeout(() => {\n-            hideLoadingOverlayBtn();\n-        }, 1000);\n-    }\n-\n-    function hideLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n-    }\n-</script>\n-\n-<script>\n-let html5QrCode; \n-\n-async function onScanSuccess(decodedText) {\n-    console.log(\"QR Scanned:\", decodedText);\n-\n-    try {\n-        const response = await fetch(`/scan-qr-user/${decodedText}`);\n-        const data = await response.json();\n-\n-        const successModal = document.getElementById(\"scanSuccessModal\");\n-        const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-        if (data.success) {\n-            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = `NAME: ${data.name}`;\n-            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = `MEMBER ID: ${data.member_id}`;\n-            linkOutput.textContent = \"QR successfully matched!\";\n-        } else {\n-            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = \"NAME: -\";\n-            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = \"MEMBER ID: -\";\n-            linkOutput.textContent = data.message;\n-        }\n-\n-        successModal.classList.remove(\"hidden\");\n-\n-        // Optional: auto-hide\n-        setTimeout(() => {\n-            successModal.classList.add(\"hidden\");\n-        }, 2000);\n-    } catch (err) {\n-        console.error(\"Error fetching user info:\", err);\n-    }\n-}\n-\n-\n-function openQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (!html5QrCode) {\n-        html5QrCode = new Html5Qrcode(\"qr-reader\");\n-    }\n-\n-    // Request camera permission & start scanner\n-    Html5Qrcode.getCameras().then(cameras => {\n-        if (cameras && cameras.length) {\n-            html5QrCode.start(\n-                cameras[0].id,   // use first camera\n-                { fps: 10, qrbox: 350 },\n-                onScanSuccess\n-            ).catch(err => console.error(\"Camera start failed:\", err));\n-        }\n-    }).catch(err => console.error(\"Camera permission denied:\", err));\n-}\n-\n-function closeQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (html5QrCode) {\n-        html5QrCode.stop()\n-            .then(() => html5QrCode.clear())\n-            .catch(err => console.error(\"Failed to stop scanner:\", err));\n-    }\n-}\n-\n-function closeSuccessModal() {\n-    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n-}\n-\n-// Custom Upload File\n-document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n-    if (e.target.files.length === 0) return;\n-    const file = e.target.files[0];\n-    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n-\n-    html5QrCode.scanFile(file, true)\n-        .then(decodedText => {\n-            const successModal = document.getElementById(\"scanSuccessModal\");\n-            const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-            if (decodedText.startsWith(\"http\")) {\n-                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-            } else {\n-                linkOutput.textContent = `Scanned: ${decodedText}`;\n-            }\n-\n-            successModal.classList.remove(\"hidden\");\n-\n-            // Auto-close modal after 2 seconds\n-            setTimeout(() => {\n-                successModal.classList.add(\"hidden\");\n-            }, 2000);\n-        })\n-        .catch(err => {\n-            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n-            console.error(\"Image scan failed:\", err);\n-        });\n-});\n-</script>\n-\n-@endsection\n-\n-\n-@extends('layouts.app')\n-\n-@section('content')\n-<style>\n-    .custom-scroll::-webkit-scrollbar {\n-        width: 4px;\n-        height: 2px; \n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-track {\n-        background: transparent;\n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-thumb {\n-        background-color: #2C6E49; \n-    }\n-\n-    .custom-scroll::-webkit-scrollbar-thumb:hover {\n-        background-color: #94a3b8;\n-    }\n-</style>\n-@include('layouts.loading-overlay')\n-<div class=\"p-2\">\n-        <div class=\"bg-mainbg px-2 space-y-2\">\n-        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n-            <!-- Initiative tab -->\n-            <div class=\"col-span-12\">\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n-                    <div class=\"lg:flex h-full\">\n-                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n-                            <img \n-                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n-                                alt=\"Training Image\" \n-                                class=\"object-cover w-full h-full\"\n-                            >\n-                        </div>\n-                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n-                            <div>\n-                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n-                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n-                            </div>\n-                            <div class=\"mb-4 mt-10\">\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n-                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n-                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n-                                </div>\n-                                <div class=\"flex items-center space-x-4 mb-1\">\n-                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n-                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n-                                </div>\n-                            </div>\n-                        </div>\n-                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n-                            {{--<button onclick=\"openModal('programQrModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                QR Code\n-                            </button>--}}\n-                            \n-                            <button onclick=\"openModal('editTrainingModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Edit Info\n-                            </button>\n-                            \n-                            {{--<button onclick=\"openModal('geneReportModal')\" \n-                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                Generate Report\n-                            </button>--}}\n-                            \n-                            <button onclick=\"openModal('endProgramModal')\" \n-                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n-                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n-                                End Program\n-                            </button>\n-                        </div>\n-                    </div>\n-                </div>\n-            </div>\n-\n-            <!-- BASE tab -->\n-<div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n-    <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-        <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1\">Program Attendees</h1>\n-    </div>\n-    <div class=\"overflow-auto h-[60vh] custom-scroll\">\n-        <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-            <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-                <tr>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attended At</th>\n-                    <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Action</th>\n-                </tr>\n-            </thead>\n-            <tbody class=\"bg-white divide-y divide-gray-100\">\n-                @forelse($training->participants as $user)\n-                <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                    <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                    <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                    <td class=\"px-6 py-3 text-sm font-medium\">\n-                        @if($user->pivot->check_in_at)\n-                            <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                        @elseif($isFinished)\n-                            <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                        @else\n-                            <span class=\"text-gray-400\">Not Yet Attended</span>\n-                        @endif\n-                    </td>\n-                    <td class=\"px-6 py-3 text-sm\">\n-                        <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n-                            <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n-                                <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n-                            </button>\n-                            <div x-show=\"show\" \n-                                class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n-                                <h3 class=\"text-md font-bold text-customIT mb-2\">\n-                                    Choose an Action\n-                                </h3>\n-                                <div class=\"border-t border-gray-200 py-2\">\n-                                    <ul class=\"space-y-2\">\n-                                        <li>\n-                                            <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n-                                        </li>\n-                                        <li>\n-                                            <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n-                                        </li>\n-                                    </ul>\n-                                </div>\n-                            </div>\n-                        </div>\n-                    </td>\n-                </tr>\n-                @empty\n-                <tr>\n-                    <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-                </tr>\n-                @endforelse\n-            </tbody>\n-        </table>\n-    </div>\n-    @include('components.pagination')\n-</div>\n-\n-<div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-2\">\n-    <!-- Description Card -->\n-    <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-        <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n-        <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n-    </div>\n-\n-    <!-- Training Date Card -->\n-    <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n-        <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n-            {{ $training->date->format('d F, Y') }}\n-        </p>\n-\n-        <p class=\"text-center text-sm text-btncolor mt-1\">\n-            @if($training->date->isTomorrow())\n-                This training is scheduled for <strong>Tomorrow</strong>.\n-            @elseif($training->date->isToday())\n-                This training is happening <strong>Today</strong>!\n-            @else\n-                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-            @endif\n-        </p>\n-\n-        <div class=\"px-10 py-3\">\n-            <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n-                class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                View Participants \n-            </button>\n-        </div>\n-    </div>\n-</div>\n-\n-            <!-- OFFICIAL ATTENDEES-->\n-             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n-                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n-                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n-                </div>\n-                <div class=\"overflow-auto h-[60vh]\">\n-    <table class=\"min-w-full divide-y divide-gray-200 rounded-lg shadow-lg\">\n-        <thead class=\"bg-btncolor text-white rounded-t-lg\">\n-            <tr>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">ID</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Name</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Sector</th>\n-                <th class=\"px-6 py-3 text-center text-xs font-semibold uppercase tracking-wider\">Present</th>\n-                <th class=\"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider\">Attend At</th>\n-            </tr>\n-        </thead>\n-        <tbody class=\"bg-white divide-y divide-gray-100\">\n-            @forelse($training->participants as $user)\n-            <tr class=\"hover:bg-gray-50 transition-colors duration-200\">\n-                <td class=\"px-6 py-3 text-sm font-medium text-gray-700\">{{ $user->formatted_id }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->name }}</td>\n-                <td class=\"px-6 py-3 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-' }}</td>\n-                <td class=\"px-6 py-3 text-center\">\n-                    <input type=\"checkbox\" class=\"h-5 w-5 rounded border-gray-300 text-btncolor focus:ring-btncolor\"\n-                        @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at) checked @endif>\n-                </td>\n-                <td class=\"px-6 py-3 text-sm font-medium\">\n-                    @if($user->pivot->check_in_at)\n-                        <span class=\"text-green-600 font-semibold\">{{ \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') }}</span>\n-                    @elseif($isFinished)\n-                        <span class=\"text-red-500 font-semibold\">Did Not Attend</span>\n-                    @else\n-                        <span class=\"text-gray-400\">Not Yet Attended</span>\n-                    @endif\n-                </td>\n-            </tr>\n-            @empty\n-            <tr>\n-                <td colspan=\"5\" class=\"px-6 py-4 text-center text-gray-400\">No participants found.</td>\n-            </tr>\n-            @endforelse\n-        </tbody>\n-    </table>\n-</div>\n-\n-                @include('components.pagination')\n-            </div>\n-\n-            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4 space-y-4\">\n-                <!-- Scanner Mode Info -->\n-                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n-                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-4\">Scanner Mode</h2>\n-                    <p class=\"text-bsctxt text-md mb-6\">\n-                        On the Scanner mode to manage attendance\n-                    </p>\n-                    <button onclick=\"openQrScanner()\" \n-                        class=\"text-md px-6 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n-                        Start Scanner\n-                    </button>\n-                </div>\n-\n-                <!-- Manage Attendance Button -->\n-                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md overflow-auto\">\n-                    <button onclick=\"openQrScanner()\" \n-                        class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                        Manage Attendance\n-                    </button>\n-                </div>     \n-\n-                <!-- Back to Initiative -->\n-                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md overflow-auto\">\n-                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center mb-3\">Back to Initiative</p>\n-                    <div class=\"px-10 py-3\">\n-                        <button @click=\"activeTab = 'initiative'\" \n-                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n-                            Initiative\n-                        </button>\n-                    </div>\n-                </div>\n-            </div>\n-\n-        </div>\n-        @include('components.modals.edit-training')\n-        @include('components.modals.end-program')\n-        @include('components.modals.program-qr')\n-        @include('components.modals.generate-report')\n-    </div>\n-</div>\n-\n-<!-- Scanner Modal -->\n-<div id=\"qrScannerModal\" \n-    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] opacity-0 pointer-events-none transition-opacity duration-200\">\n-    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full relative z-[10000]\">\n-        <!-- Header -->\n-        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n-            Scan User QR Code\n-        </h2>\n-        \n-        <!-- Camera Preview -->\n-        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n-            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n-        </div>\n-\n-        <!-- Scan Result -->\n-        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n-            Waiting for scan...\n-\n-        </div>\n-        <p class=\"mt-2 text-center text-gray-600 font-medium tex-sm\">OR</p>\n-        <!-- Insert Member Text -->\n-        <div class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n-            Insert Member\n-            <div class=\"mt-2   flex items-center justify-center\">\n-                <input \n-                    type=\"text\" \n-                    placeholder=\"Enter Member ID / Name\"\n-                    class=\"w-72 px-4 py-2 border border-gray-300 rounded-lg shadow-sm \n-                        focus:outline-none focus:ring-2 focus:ring-customIT focus:border-customIT\n-                        text-gray-700\"\n-                >\n-            </div>\n-        </div>\n-\n-\n-        <!-- Close Button -->\n-        <div class=\"mt-3\">\n-            <button onclick=\"closeQrScanner()\" \n-                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n-                Close Scanner\n-            </button>\n-        </div>\n-    </div>\n-</div>\n-\n-<!-- SUCCESS MODAL -->\n-<div id=\"scanSuccessModal\" \n-     class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-[11000]\">\n-    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-2xl text-center w-[300px] relative\">\n-        <h2 class=\"text-lg font-semibold text-green-600 mb-4\">Successfully Scanned!</h2>\n-        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">NAME: </h4>\n-        <h4 class=\"text-lg font-semibold text-gray-600 mb-4\">MEMBER ID: </h4>\n-        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n-        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition\">\n-            OK\n-        </button>\n-    </div>\n-</div>\n-\n-\n-\n-\n-\n-\n-\n-<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n-    <div class=\"flex flex-col items-center\">\n-        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n-            viewBox=\"0 0 24 24\">\n-            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n-            <path class=\"opacity-75\" fill=\"currentColor\"\n-                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n-        </svg>\n-        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n-    </div>\n-</div>\n-\n-\n-<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n-<script>\n-    function showLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n-\n-        // Auto hide after 1s (optional)\n-        setTimeout(() => {\n-            hideLoadingOverlayBtn();\n-        }, 1000);\n-    }\n-\n-    function hideLoadingOverlayBtn() {\n-        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n-    }\n-</script>\n-\n-<script>\n-let html5QrCode; \n-\n-async function onScanSuccess(decodedText) {\n-    console.log(\"QR Scanned:\", decodedText);\n-\n-    try {\n-        const response = await fetch(`/scan-qr-user/${decodedText}`);\n-        const data = await response.json();\n-\n-        const successModal = document.getElementById(\"scanSuccessModal\");\n-        const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-        if (data.success) {\n-            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = `NAME: ${data.name}`;\n-            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = `MEMBER ID: ${data.member_id}`;\n-            linkOutput.textContent = \"QR successfully matched!\";\n-        } else {\n-            successModal.querySelector(\"h4:nth-of-type(1)\").textContent = \"NAME: -\";\n-            successModal.querySelector(\"h4:nth-of-type(2)\").textContent = \"MEMBER ID: -\";\n-            linkOutput.textContent = data.message;\n-        }\n-\n-        successModal.classList.remove(\"hidden\");\n-\n-        // Optional: auto-hide\n-        setTimeout(() => {\n-            successModal.classList.add(\"hidden\");\n-        }, 2000);\n-    } catch (err) {\n-        console.error(\"Error fetching user info:\", err);\n-    }\n-}\n-\n-\n-function openQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (!html5QrCode) {\n-        html5QrCode = new Html5Qrcode(\"qr-reader\");\n-    }\n-\n-    // Request camera permission & start scanner\n-    Html5Qrcode.getCameras().then(cameras => {\n-        if (cameras && cameras.length) {\n-            html5QrCode.start(\n-                cameras[0].id,   // use first camera\n-                { fps: 10, qrbox: 350 },\n-                onScanSuccess\n-            ).catch(err => console.error(\"Camera start failed:\", err));\n-        }\n-    }).catch(err => console.error(\"Camera permission denied:\", err));\n-}\n-\n-function closeQrScanner() {\n-    const modal = document.getElementById(\"qrScannerModal\");\n-    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n-\n-    if (html5QrCode) {\n-        html5QrCode.stop()\n-            .then(() => html5QrCode.clear())\n-            .catch(err => console.error(\"Failed to stop scanner:\", err));\n-    }\n-}\n-\n-function closeSuccessModal() {\n-    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n-}\n-\n-// Custom Upload File\n-document.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n-    if (e.target.files.length === 0) return;\n-    const file = e.target.files[0];\n-    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n-\n-    html5QrCode.scanFile(file, true)\n-        .then(decodedText => {\n-            const successModal = document.getElementById(\"scanSuccessModal\");\n-            const linkOutput = document.getElementById(\"scanLinkOutput\");\n-\n-            if (decodedText.startsWith(\"http\")) {\n-                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n-            } else {\n-                linkOutput.textContent = `Scanned: ${decodedText}`;\n-            }\n-\n-            successModal.classList.remove(\"hidden\");\n-\n-            // Auto-close modal after 2 seconds\n-            setTimeout(() => {\n-                successModal.classList.add(\"hidden\");\n-            }, 2000);\n-        })\n-        .catch(err => {\n-            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n-            console.error(\"Image scan failed:\", err);\n-        });\n-});\n-</script>\n-\n @endsection\n\\ No newline at end of file\n"
                },
                {
                    "date": 1764002002549,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -182,11 +182,11 @@\n             @endif\n         </p>\n         <p class=\"text-center text-lg text-btncolor mt-1\">\n             @if($training->date->isTomorrow())\n-                This training is scheduled for <strong>UPCOMING</strong>.\n+                <strong>UPCOMING</strong>.\n             @elseif($training->date->isToday())\n-                This training is happening <strong>Today</strong>!\n+                This training is happening <strong>ONGOING</strong>!\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n             @endif\n         </p>\n"
                },
                {
                    "date": 1764002016470,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -184,9 +184,9 @@\n         <p class=\"text-center text-lg text-btncolor mt-1\">\n             @if($training->date->isTomorrow())\n                 <strong>UPCOMING</strong>.\n             @elseif($training->date->isToday())\n-                This training is happening <strong>ONGOING</strong>!\n+                <strong>ONGOING</strong>\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n             @endif\n         </p>\n"
                },
                {
                    "date": 1764002060314,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,18 +180,21 @@\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n             @endif\n         </p>\n-        <p class=\"text-center text-lg text-btncolor mt-1\">\n-            @if($training->date->isTomorrow())\n-                <strong>UPCOMING</strong>.\n-            @elseif($training->date->isToday())\n-                <strong>ONGOING</strong>\n-            @else\n-                This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-            @endif\n-        </p>\n+<p class=\"text-center text-lg text-btncolor mt-1\">\n+    @if($training->date->isTomorrow())\n+        <strong>UPCOMING</strong>\n+    @elseif($training->date->isToday())\n+        <strong>ONGOING</strong>\n+    @elseif($training->date->isPast())\n+        <strong>ENDED</strong>\n+    @else\n+        This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n+    @endif\n+</p>\n \n+\n         <div class=\"px-10 py-3\">\n             <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n                 class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                 View Participants \n"
                },
                {
                    "date": 1764002072368,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,21 +180,20 @@\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n             @endif\n         </p>\n-<p class=\"text-center text-lg text-btncolor mt-1\">\n-    @if($training->date->isTomorrow())\n-        <strong>UPCOMING</strong>\n-    @elseif($training->date->isToday())\n-        <strong>ONGOING</strong>\n-    @elseif($training->date->isPast())\n-        <strong>ENDED</strong>\n-    @else\n-        This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n-    @endif\n-</p>\n+        <p class=\"text-center text-lg text-btncolor mt-1\">\n+            @if($training->date->isTomorrow())\n+                <strong>UPCOMING</strong>\n+            @elseif($training->date->isToday())\n+                <strong>ONGOING</strong>\n+            @elseif($training->date->isPast())\n+                <strong>ENDED</strong>\n \n+            @endif\n+        </p>\n \n+\n         <div class=\"px-10 py-3\">\n             <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n                 class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                 View Participants \n"
                },
                {
                    "date": 1764002083402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,9 +180,9 @@\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n             @endif\n         </p>\n-        <p class=\"text-center text-Xg text-btncolor mt-1\">\n+        <p class=\"text-center text-g text-btncolor mt-1\">\n             @if($training->date->isTomorrow())\n                 <strong>UPCOMING</strong>\n             @elseif($training->date->isToday())\n                 <strong>ONGOING</strong>\n"
                },
                {
                    "date": 1764002252151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -180,18 +180,18 @@\n             @else\n                 This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n             @endif\n         </p>\n-        <p class=\"text-center text-xg text-btncolor mt-1\">\n-            @if($training->date->isTomorrow())\n-                <strong>UPCOMING</strong>\n-            @elseif($training->date->isToday())\n-                <strong>ONGOING</strong>\n-            @elseif($training->date->isPast())\n-                <strong>ENDED</strong>\n+<p class=\"text-center text-lg mt-1\">\n+    @if($training->date->isTomorrow())\n+        <strong class=\"text-blue-600\">UPCOMING</strong>\n+    @elseif($training->date->isToday())\n+        <strong class=\"text-green-600\">ONGOING</strong>\n+    @elseif($training->date->isPast())\n+        <strong class=\"text-red-600\">ENDED</strong>\n+    @endif\n+</p>\n \n-            @endif\n-        </p>\n \n \n         <div class=\"px-10 py-3\">\n             <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n"
                }
            ],
            "date": 1763808939321,
            "name": "Commit-0",
            "content": "\n@extends('layouts.app')\n\n@section('content')\n<style>\n    .custom-scroll::-webkit-scrollbar {\n        width: 4px;\n        height: 2px; \n    }\n\n    .custom-scroll::-webkit-scrollbar-track {\n        background: transparent;\n    }\n\n    .custom-scroll::-webkit-scrollbar-thumb {\n        background-color: #2C6E49; \n    }\n\n    .custom-scroll::-webkit-scrollbar-thumb:hover {\n        background-color: #94a3b8;\n    }\n</style>\n@include('layouts.loading-overlay')\n<div class=\"p-4\">\n        <div class=\"bg-mainbg px-2 space-y-2\">\n        <div class=\"bg-mainbg px-2\">\n            <!-- Header -->\n            <div class=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-2\">\n                <div class=\"text-customIT flex flex-col\">\n                    <h2 class=\"text-[20px] sm:text-[25px] font-bold text-custom\">Program Details</h2>\n                    <p class=\"text-sm text-gray-600\">\n                        Organize, monitor, and showcase SWISA initiatives, programs, and community events.\n                    </p>\n                </div>\n            </div>\n        </div>\n        <div class=\"grid grid-cols-12 gap-2 py-2 \"  x-data=\"{ activeTab: 'initiative' }\">\n            <!-- Initiative tab -->\n            <div class=\"col-span-12\">\n                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md\">\n                    <div class=\"lg:flex h-full\">\n                        <div class=\"mt-3 bg-gray-200 rounded-md h-44 w-full  lg:h-[260px] lg:w-1/3 flex items-center justify-center border-b border-gray-300 flex-shrink-0\">\n                            <img \n                                src= \"{{ $training->documents->first() ? asset('storage/' . $training->documents->first()->file_path) : asset('image/placeholder.png') }} \"\n                                alt=\"Training Image\" \n                                class=\"object-cover w-full h-full\"\n                            >\n                        </div>\n                        <div class=\"lg:ml-4 sm:flex-1 p-2\">\n                            <div>\n                                <p class=\"text-lg md:text-2xl font-semibold text-customIT\">{{ $training->title}}</p>\n                                <p class=\"text-md lg:text-sm text-gray-500 mb-2\">{{ $training->sector->sector_name}}</p>\n                            </div>\n                            <div class=\"mb-4 mt-10\">\n                                <div class=\"flex items-center space-x-4 mb-1\">\n                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Status: </p>\n                                    <span class=\"font-medium justify-end text-gray-800\">{{$training->date < now() ? 'Completed' : 'Upcoming'}}</span>\n                                </div>\n                                <div class=\"flex items-center space-x-4 mb-1\">\n                                    <p class=\"font-semibold text-md text-gray-600  mb-1\">Date: </p>\n                                     <span class=\"font-medium text-gray-800\">{{ $training->date->format('F d Y') }}</span>\n                                </div>\n                                <div class=\"flex items-center space-x-4 mb-1\">\n                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Time: </p>\n                                    <span class=\"font-medium text-gray-800\">{{ \\Carbon\\Carbon::createFromFormat('H:i:s', $training->time)->format('g:i A') }}</span>\n                                </div>\n                                <div class=\"flex items-center space-x-4 mb-1\">\n                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Venue: </p>\n                                    <span class=\"font-medium text-gray-800\">{{ $training->venue}}</span>\n                                </div>\n                                <div class=\"flex items-center space-x-4 mb-1\">\n                                    <p class=\"font-semibold text-md text-gray-600 mb-1\">Participants: </p>\n                                    <span class=\"font-medium text-gray-800\">{{ $training->participants->count()}}</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"flex flex-col text-sm font-medium m-14 gap-2\">\n                            {{--<button onclick=\"openModal('programQrModal')\" \n                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                QR Code\n                            </button>--}}\n                            \n                            <button onclick=\"openModal('editTrainingModal')\" \n                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                Edit Info\n                            </button>\n                            \n                            {{--<button onclick=\"openModal('geneReportModal')\" \n                                class=\"min-w-[220px] px-5 py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                Generate Report\n                            </button>--}}\n                            \n                            <button onclick=\"openModal('endProgramModal')\" \n                                class=\"min-w-[220px]  py-2 rounded-lg border border-btncolor text-btncolor font-semibold \n                                    bg-white shadow-sm transition-all duration-200 hover:bg-btncolor hover:text-white hover:shadow-md\">\n                                End Program\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div x-show=\"activeTab === 'initiative'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-5 rounded-md overflow-auto\">\n                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                    <h1 class=\"text-lg xl:text-2xl font-bold text-start pl-1 \">Program Attendees</h1>\n                </div>\n                <div class=\"overflow-auto h-[60vh] custom-scroll\">\n                    <table class=\"min-w-full border-spacing-y-1\">\n                    <thead class=\"sticky top-0 z-10  bg-snbg border-b border-gray-100\">\n                        <tr class=\"text-customIT text-left\">\n                        <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n                            <th class=\"px-4 py-3 text-xs font-medium\">ACTION</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        @forelse($training->participants as $user)\n                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id}}</td>\n                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n                                    <div class=\"bg-transparent rounded-md inline-block\">\n                                        @if($isFinished && !$user->pivot->check_in_at)\n                                            <span class=\"text-red-500\">Did Not Attend</span>\n                                        @else\n                                            {{ $user->pivot->check_in_at \n                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n                                                : '-' \n                                            }}\n                                        @endif\n                                    </div>\n                                </td>\n                                <td class=\"pl-4 py-3 text-sm\">\n                                    <div class=\"relative\" x-data=\"{ show: false }\" @click.away=\"show = false\">\n                                        <button @click=\"show = !show\" class=\"border border-gray-300 rounded-sm pl-2\">\n                                            <img src=\"{{ asset('images/dot-menu.svg') }}\" class=\"w-5 h-5 rounded-sm mr-2\"/>\n                                        </button>\n                                        <!-- The Popover Menu, controlled by Alpine.js -->\n                                        <div x-show=\"show\" \n                                            class=\"absolute top-full right-0 z-10 w-56 bg-white rounded-lg shadow-xl p-4 border border-gray-200 origin-top-right\">\n                                            <h3 class=\"text-md font-bold text-customIT mb-2\">\n                                                Choose an Action\n                                            </h3>\n                                            <div class=\"border-t border-gray-200 py-2\">\n                                                <ul class=\"space-y-2\">\n                                                    <li>\n                                                        <a href=\"{{ route('view-profile', $training->id) }}\"  class=\"block px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View Profile</a>\n                                                    </li>\n                                                    <li>\n                                                        <a href=\"{{ route('grant-request') }}\" class=\"block cursor-pointer px-4 py-2 text-xs rounded-md hover:bg-gray-100 transition-colors duration-200 text-[#4C956C] font-medium\">View All Joined Trainings</a>\n                                                    </li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                        @empty\n                            <tr>\n                                <td colspan=\"5\" class=\"text-center py-4 text-gray-500\">No participants found.</td>\n                            </tr>\n                        @endforelse\n                    </tbody>\n\n                    </table>\n                </div>\n                @include('components.pagination')\n            </div>\n\n            <div x-show=\"activeTab === 'initiative'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n                <div class=\"flex flex-col bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold pl-3 pt-1\">Description</h2>\n                    <p class=\"text-left text-sm text-bsctxt p-3 text-justify\">{{ $training->description ?? 'No description added to this initiative.'}}</p>\n                </div>\n                \n                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">\n                        {{ $training->date->format('d F, Y') }}\n                    </p>\n\n                    {{-- Check if training is tomorrow or another day --}}\n                    <p class=\"text-center text-sm text-btncolor mt-1\">\n                        @if($training->date->isTomorrow())\n                            This training is scheduled for <strong>Tomorrow</strong>.\n                        @elseif($training->date->isToday())\n                            This training is happening <strong>Today</strong>!\n                        @else\n                            This training is scheduled for <strong>{{ $training->date->diffForHumans() }}</strong>.\n                        @endif\n                    </p>\n\n                    <div class=\"px-10 py-3\">\n                        <button @click=\"activeTab = 'participants'; showLoadingOverlayBtn()\"  \n                            class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                            View Participants \n                        </button>\n                    </div>\n\n                </div>\n\n            </div>\n\n\n            <!-- participants tab start -->\n             <div x-show=\"activeTab === 'participants'\" class=\"col-start-1 col-span-12 xl:col-span-8 xl:col-start-1 bg-white shadow-lg p-4 rounded-md overflow-auto\">\n                <div class=\"text-customIT flex justify-between gap-2 pb-2\">\n                    <h1 class=\"text-lg xl:text-2xl font-bold mr-40\">Program Attendees</h1>\n                </div>\n                <div class=\"overflow-auto h-[60vh]\">\n                    <table class=\"min-w-full border-spacing-y-1\">\n                    <thead class=\"bg-snbg border border-gray-100\">\n                        <tr class=\"text-customIT text-left \">\n                            <th class=\"px-4 py-3 text-xs font-medium\">ID</th>\n                            <th class=\"px-4 py-3 text-xs font-medium\">NAME</th>\n                            <th class=\"px-4 py-3 text-xs font-medium\">SECTOR</th>\n                            <th class=\"px-4 py-3 text-xs font-medium\">PRESENT</th>\n                            <th class=\"px-4 py-3 text-xs font-medium\">ATTEND AT</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        @forelse($training->participants as $user)\n                            <tr class=\"border border-gray-300 hover:bg-gray-100\">\n                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->formatted_id ?? '-'}}</td>\n                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->name ?? '-'}}</td>\n                                <td class=\"px-4 py-2 text-sm text-gray-700\">{{ $user->user_info->sector->sector_name ?? '-'}}</td>\n                                <td class=\"px-4 py-2 pl-6 gap-1\">\n                                    <input type=\"checkbox\" class=\"peer h-5 w-5 appearance-none rounded-md border border-gray-300 bg-white transition-colors duration-200 checked:bg-btncolor focus:ring-btncolor checked:border-btncolor\"\n                                     @if($user->pivot->qr_scanned == 1 && $user->pivot->check_in_at)\n                                        checked\n                                    @endif >\n                                </td>\n                                <td class=\"px-4 py-2 text-sm font-medium text-approved\">\n                                    <div class=\"bg-transparent rounded-md inline-block\">\n                                        @if($isFinished && !$user->pivot->check_in_at)\n                                            <span class=\"text-red-500\">Did Not Attend</span>\n                                        @else\n                                            {{ $user->pivot->check_in_at \n                                                ? \\Carbon\\Carbon::parse($user->pivot->check_in_at)->format('F d, Y') \n                                                : '-' \n                                            }}\n                                        @endif\n                                    </div>\n                                </td>\n                            </tr>\n                        @empty\n                            \n                        @endforelse\n                    </tbody>\n                    </table>\n                </div>\n                @include('components.pagination')\n            </div>\n\n            <div x-show=\"activeTab === 'participants'\" class=\"col-span-12 xl:col-start-9 xl:col-span-4\">\n                <div class=\"flex flex-col bg-white shadow-lg px-4 text-center items-center py-6 rounded-md overflow-auto\">\n                    <h2 class=\"text-lg xl:text-2xl text-customIT font-semibold mb-6\">QR CODE</h2>\n                    <div class=\"flex justify-center bg-gray-200 mx-12 h-60 w-60\">\n                        <p class=\"text-sm text-bsctxt py-28\">QR IMAGE</p>\n                    </div>\n                    <p class=\" text-bsctxt text-md\">INIT-EV112403232323</p>\n                    <button onclick=\"openModal('programQrModal')\" class=\"text-md mt-6 px-14 py-2 font-medium border border-btncolor text-btncolor rounded-md hover:bg-btncolor hover:text-white\">\n                        Expand QR Code\n                    </button>\n                </div>\n                                <div class=\"bg-white shadow-lg pt-3 pb-3 pl-10 pr-10 h-auto rounded-md mt-2 overflow-auto\">\n                        <button  onclick=\"openQrScanner()\" class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                            Manage Attendance\n                        </button>\n                </div>     \n                <div class=\"bg-white shadow-lg p-4 h-auto rounded-md mt-2 overflow-auto\">\n                    <p class=\"text-lg xl:text-xl text-upcoming font-semibold text-center\">Back to Initiative</p>\n                    <div class=\"px-10 py-3\">\n                        <button  @click=\"activeTab = 'initiative'\" class=\"w-full px-4 py-2 bg-btncolor text-white rounded-md hover:bg-opacity-80\">\n                            Initiative\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        @include('components.modals.edit-training')\n        @include('components.modals.end-program')\n        @include('components.modals.program-qr')\n        @include('components.modals.generate-report')\n    </div>\n</div>\n<!-- Scanner Modal -->\n<div id=\"qrScannerModal\" \n    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-200\">\n    <div class=\"bg-white p-6 rounded-2xl shadow-2xl w-[700px] max-w-full\">\n        <!-- Header -->\n        <h2 class=\"text-xl font-bold text-center text-customIT mb-6\">\n            Scan User QR Code\n        </h2>\n        \n        <!-- Camera Preview -->\n        <div class=\"relative w-full h-[500px] bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center border\">\n            <div id=\"qr-reader\" style=\"width:100%; height:100%;\"></div>\n        </div>\n\n        <!-- Scan Result -->\n        <div id=\"qr-result\" class=\"mt-4 text-center text-lg font-semibold text-gray-700\">\n            Waiting for scan...\n        </div>\n\n        <!-- Upload Button -->\n        <div class=\"mt-6\">\n            <input type=\"file\" id=\"qrUpload\" accept=\"image/*\" \n                class=\"w-full py-3 border rounded-lg cursor-pointer text-center\"/>\n        </div>\n\n        <!-- Close Button -->\n        <div class=\"mt-3\">\n            <button onclick=\"closeQrScanner()\" \n                class=\"w-full py-3 text-white font-semibold bg-red-500 rounded-lg hover:bg-red-600 transition duration-200\">\n                Close Scanner\n            </button>\n        </div>\n    </div>\n</div>\n<!-- SUCCESS MODAL -->\n<div id=\"scanSuccessModal\" class=\"hidden fixed inset-0 flex justify-center items-start bg-black bg-opacity-50 z-50\">\n    <div class=\"bg-white p-6 mt-10 rounded-lg shadow-lg text-center w-[300px]\">\n        <h2 class=\"text-lg font-semibold text-green-600 mb-4\"> Successfully Scanned!</h2>\n        <div id=\"scanLinkOutput\" class=\"mb-4 text-gray-800\"></div>\n        <button onclick=\"closeSuccessModal()\" class=\"bg-green-600 text-white px-4 py-2 rounded-md\">OK</button>\n    </div>\n</div>\n\n\n\n\n\n\n<div id=\"loadingOverlayBtn\" class=\"fixed inset-0 bg-white bg-opacity-100 z-[9999] flex items-center justify-center hidden\">\n    <div class=\"flex flex-col items-center\">\n        <svg class=\"animate-spin h-10 w-10 text-[#2C6E49]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\">\n            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n            <path class=\"opacity-75\" fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n        </svg>\n        <p class=\"mt-3 text-[#2C6E49] font-semibold text-lg\">Loading...</p>\n    </div>\n</div>\n\n\n<script src=\"https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js\"></script>\n<script>\n    function showLoadingOverlayBtn() {\n        document.getElementById(\"loadingOverlayBtn\").classList.remove(\"hidden\");\n\n        // Auto hide after 1s (optional)\n        setTimeout(() => {\n            hideLoadingOverlayBtn();\n        }, 1000);\n    }\n\n    function hideLoadingOverlayBtn() {\n        document.getElementById(\"loadingOverlayBtn\").classList.add(\"hidden\");\n    }\n</script>\n\n<script>\nlet html5QrCode; \n\nfunction onScanSuccess(decodedText, decodedResult) {\n    console.log(` Code scanned = ${decodedText}`, decodedResult);\n\n    const successModal = document.getElementById(\"scanSuccessModal\");\n    const linkOutput = document.getElementById(\"scanLinkOutput\");\n\n    if (decodedText.startsWith(\"http\")) {\n        linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n    } else {\n        linkOutput.textContent = `Scanned: ${decodedText}`;\n    }\n\n    successModal.classList.remove(\"hidden\");\n\n    // Auto-close modal after 2 seconds\n    setTimeout(() => {\n        successModal.classList.add(\"hidden\");\n    }, 2000);\n}\n\nfunction openQrScanner() {\n    const modal = document.getElementById(\"qrScannerModal\");\n    modal.classList.remove(\"opacity-0\", \"pointer-events-none\");\n\n    if (!html5QrCode) {\n        html5QrCode = new Html5Qrcode(\"qr-reader\");\n    }\n\n    // Request camera permission & start scanner\n    Html5Qrcode.getCameras().then(cameras => {\n        if (cameras && cameras.length) {\n            html5QrCode.start(\n                cameras[0].id,   // use first camera\n                { fps: 10, qrbox: 350 },\n                onScanSuccess\n            ).catch(err => console.error(\"Camera start failed:\", err));\n        }\n    }).catch(err => console.error(\"Camera permission denied:\", err));\n}\n\nfunction closeQrScanner() {\n    const modal = document.getElementById(\"qrScannerModal\");\n    modal.classList.add(\"opacity-0\", \"pointer-events-none\");\n\n    if (html5QrCode) {\n        html5QrCode.stop()\n            .then(() => html5QrCode.clear())\n            .catch(err => console.error(\"Failed to stop scanner:\", err));\n    }\n}\n\nfunction closeSuccessModal() {\n    document.getElementById(\"scanSuccessModal\").classList.add(\"hidden\");\n}\n\n// Custom Upload File\ndocument.getElementById(\"qrUpload\").addEventListener(\"change\", e => {\n    if (e.target.files.length === 0) return;\n    const file = e.target.files[0];\n    if (!html5QrCode) html5QrCode = new Html5Qrcode(\"qr-reader\");\n\n    html5QrCode.scanFile(file, true)\n        .then(decodedText => {\n            const successModal = document.getElementById(\"scanSuccessModal\");\n            const linkOutput = document.getElementById(\"scanLinkOutput\");\n\n            if (decodedText.startsWith(\"http\")) {\n                linkOutput.innerHTML = `Scanned: <a href=\"${decodedText}\" target=\"_blank\" class=\"text-blue-600 underline\">${decodedText}</a>`;\n            } else {\n                linkOutput.textContent = `Scanned: ${decodedText}`;\n            }\n\n            successModal.classList.remove(\"hidden\");\n\n            // Auto-close modal after 2 seconds\n            setTimeout(() => {\n                successModal.classList.add(\"hidden\");\n            }, 2000);\n        })\n        .catch(err => {\n            document.getElementById(\"qr-result\").innerText = \" Failed to scan image.\";\n            console.error(\"Image scan failed:\", err);\n        });\n});\n</script>\n\n@endsection"
        }
    ]
}