{
    "sourceFile": "resources/views/charts/member-type-breakdown.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1764440210269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764440247356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,20 +1,22 @@\n-<!-- Add this in your <head> if not already -->\r\n <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\r\n+@php\r\n+    $sectorLabels = $sectorLabels ?? collect(['Agriculture','Fisheries','Livestock','Forestry','Agri-Business']);\r\n+    $sectorCounts = $sectorCounts ?? $sectorLabels->map(fn($s) => \\App\\Models\\UserInfo::where('farmer_type', $s)->count());\r\n+@endphp\r\n \r\n-<div class=\"lg:col-span-3 bg-white p-5 rounded-xl shadow\">\r\n+<div class=\"lg:col-span-2 bg-white p-5 rounded-xl shadow\">\r\n     <p class=\"font-semibold mb-2 primary-color dashheader flex items-center\">\r\n         <span class=\"material-icons mr-2 text-custom\">bar_chart</span>\r\n         Member Type Breakdown\r\n     </p>\r\n-    \r\n-    <!-- Responsive chart wrapper -->\r\n+\r\n     <div class=\"relative h-64 sm:h-70 md:h-70 lg:h-70\">\r\n         <canvas id=\"memberTypeChart\"></canvas>\r\n     </div>\r\n \r\n     <div class=\"text-right mt-2\">\r\n-        <a href=\"#\" class=\"text-xs text-custom\">View &rarr;</a>\r\n+        <a href=\"#\" class=\"text-xs text-custom\">View →</a>\r\n     </div>\r\n </div>\r\n \r\n @push('scripts')\r\n@@ -25,31 +27,28 @@\n     }\r\n \r\n     const ctxMember = document.getElementById('memberTypeChart').getContext('2d');\r\n \r\n-    // Create a horizontal gradient (left → right)\r\n     const gradient = ctxMember.createLinearGradient(0, 0, ctxMember.canvas.width, 0);\r\n     gradient.addColorStop(0, '#2C6E49');\r\n     gradient.addColorStop(1, '#68b2abad');\r\n \r\n     window.memberTypeChartInstance = new Chart(ctxMember, {\r\n         type: 'bar',\r\n         data: {\r\n-            labels: ['Farmer', 'Fisher', 'Type 3', 'Type 4', 'Type 5'],\r\n+            labels: @json($sectorLabels),\r\n             datasets: [{\r\n                 label: 'Members',\r\n-                data: [95, 65, 45, 92, 15],\r\n+                data: @json($sectorCounts),\r\n                 backgroundColor: gradient,\r\n                 borderRadius: 4\r\n             }]\r\n         },\r\n         options: {\r\n             indexAxis: 'y',\r\n             responsive: true,\r\n             maintainAspectRatio: false,\r\n-            plugins: {\r\n-                legend: { display: false }\r\n-            },\r\n+            plugins: { legend: { display: false } },\r\n             scales: {\r\n                 x: {\r\n                     beginAtZero: true,\r\n                     title: { display: true, text: 'COUNT' },\r\n"
                },
                {
                    "date": 1764440870064,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n     $sectorLabels = $sectorLabels ?? collect(['Agriculture','Fisheries','Livestock','Forestry','Agri-Business']);\r\n     $sectorCounts = $sectorCounts ?? $sectorLabels->map(fn($s) => \\App\\Models\\UserInfo::where('farmer_type', $s)->count());\r\n @endphp\r\n \r\n-<div class=\"lg:col-span-2 bg-white p-5 rounded-xl shadow\">\r\n+<div class=\"lg:col-span-8 bg-white p-5 rounded-xl shadow\">\r\n     <p class=\"font-semibold mb-2 primary-color dashheader flex items-center\">\r\n         <span class=\"material-icons mr-2 text-custom\">bar_chart</span>\r\n         Member Type Breakdown\r\n     </p>\r\n@@ -13,10 +13,10 @@\n     <div class=\"relative h-64 sm:h-70 md:h-70 lg:h-70\">\r\n         <canvas id=\"memberTypeChart\"></canvas>\r\n     </div>\r\n \r\n-    <div class=\"text-right mt-2\">\r\n-        <a href=\"#\" class=\"text-xs text-custom\">View →</a>\r\n+    <div class=\"text-right\">\r\n+        <a href=\"{{ route('admin-reports') }}\" class=\"text-sm text-[#2C6E49] hover:underline\">View All Requests &gt;</a>\r\n     </div>\r\n </div>\r\n \r\n @push('scripts')\r\n"
                },
                {
                    "date": 1764441334927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n @endphp\r\n \r\n <div class=\"lg:col-span-8 bg-white p-5 rounded-xl shadow\">\r\n     <p class=\"font-semibold mb-2 primary-color dashheader flex items-center\">\r\n-        <span class=\"material-icons mr-2 text-custom\">bar_chart</span>\r\n+        <span class=\"material-icons mr-2 text-custom pt-2\">bar_chart</span>\r\n         Member Type Breakdown\r\n     </p>\r\n \r\n     <div class=\"relative h-64 sm:h-70 md:h-70 lg:h-70\">\r\n"
                },
                {
                    "date": 1764441348639,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n @endphp\r\n \r\n <div class=\"lg:col-span-8 bg-white p-5 rounded-xl shadow\">\r\n     <p class=\"font-semibold mb-2 primary-color dashheader flex items-center\">\r\n-        <span class=\"material-icons mr-2 text-custom pt-2\">bar_chart</span>\r\n+        <span class=\"material-icons mr-2 text-custom pt-5\">bar_chart</span>\r\n         Member Type Breakdown\r\n     </p>\r\n \r\n     <div class=\"relative h-64 sm:h-70 md:h-70 lg:h-70\">\r\n"
                }
            ],
            "date": 1764440210269,
            "name": "Commit-0",
            "content": "<!-- Add this in your <head> if not already -->\r\n<link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\r\n\r\n<div class=\"lg:col-span-3 bg-white p-5 rounded-xl shadow\">\r\n    <p class=\"font-semibold mb-2 primary-color dashheader flex items-center\">\r\n        <span class=\"material-icons mr-2 text-custom\">bar_chart</span>\r\n        Member Type Breakdown\r\n    </p>\r\n    \r\n    <!-- Responsive chart wrapper -->\r\n    <div class=\"relative h-64 sm:h-70 md:h-70 lg:h-70\">\r\n        <canvas id=\"memberTypeChart\"></canvas>\r\n    </div>\r\n\r\n    <div class=\"text-right mt-2\">\r\n        <a href=\"#\" class=\"text-xs text-custom\">View &rarr;</a>\r\n    </div>\r\n</div>\r\n\r\n@push('scripts')\r\n<script>\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    if (window.memberTypeChartInstance) {\r\n        window.memberTypeChartInstance.destroy();\r\n    }\r\n\r\n    const ctxMember = document.getElementById('memberTypeChart').getContext('2d');\r\n\r\n    // Create a horizontal gradient (left → right)\r\n    const gradient = ctxMember.createLinearGradient(0, 0, ctxMember.canvas.width, 0);\r\n    gradient.addColorStop(0, '#2C6E49');\r\n    gradient.addColorStop(1, '#68b2abad');\r\n\r\n    window.memberTypeChartInstance = new Chart(ctxMember, {\r\n        type: 'bar',\r\n        data: {\r\n            labels: ['Farmer', 'Fisher', 'Type 3', 'Type 4', 'Type 5'],\r\n            datasets: [{\r\n                label: 'Members',\r\n                data: [95, 65, 45, 92, 15],\r\n                backgroundColor: gradient,\r\n                borderRadius: 4\r\n            }]\r\n        },\r\n        options: {\r\n            indexAxis: 'y',\r\n            responsive: true,\r\n            maintainAspectRatio: false,\r\n            plugins: {\r\n                legend: { display: false }\r\n            },\r\n            scales: {\r\n                x: {\r\n                    beginAtZero: true,\r\n                    title: { display: true, text: 'COUNT' },\r\n                    ticks: { font: { size: 10 } }\r\n                },\r\n                y: {\r\n                    title: { display: true, text: 'MEMBER TYPE' },\r\n                    ticks: { font: { size: 10 } }\r\n                }\r\n            }\r\n        }\r\n    });\r\n});\r\n</script>\r\n@endpush\r\n"
        }
    ]
}