{
    "sourceFile": "resources/views/charts/request-management.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 63,
            "patches": [
                {
                    "date": 1764358669650,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764358678194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,65 +43,95 @@\n <script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n-        view: new Date().getFullYear(), // default current year\r\n-        data: [],\r\n-\r\n-        async initChart() {\r\n-            await this.fetchData();\r\n-\r\n+        view: 'monthly',\r\n+        datasets: {\r\n+            monthly: [\r\n+                { month: \"Jan\", approved: 40, denied: 90 },\r\n+                { month: \"Feb\", approved: 70, denied: 50 },\r\n+                { month: \"Mar\", approved: 130, denied: 40 },\r\n+                { month: \"Apr\", approved: 90, denied: 120 },\r\n+                { month: \"May\", approved: 75, denied: 110 },\r\n+                { month: \"Jun\", approved: 110, denied: 150 },\r\n+                { month: \"Jul\", approved: 150, denied: 100 },\r\n+                { month: \"Aug\", approved: 160, denied: 70 },\r\n+                { month: \"Sept\", approved: 310, denied: 180 },\r\n+                { month: \"Oct\", approved: 250, denied: 160 },\r\n+                { month: \"Nov\", approved: 280, denied: 140 },\r\n+                { month: \"Dec\", approved: 220, denied: 400 },\r\n+            ],\r\n+            quarterly: [\r\n+                { month: \"Q1\", approved: 240, denied: 180 },\r\n+                { month: \"Q2\", approved: 280, denied: 210 },\r\n+                { month: \"Q3\", approved: 400, denied: 250 },\r\n+                { month: \"Q4\", approved: 360, denied: 500 },\r\n+            ],\r\n+            yearly: [\r\n+                { month: \"2022\", approved: 1200, denied: 800 },\r\n+                { month: \"2023\", approved: 1500, denied: 950 },\r\n+                { month: \"2024\", approved: 1800, denied: 1300 },\r\n+            ],\r\n+        },\r\n+        initChart() {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n             this.chart = new Chart(ctx, {\r\n                 type: 'line',\r\n-                data: this.formatData(this.data),\r\n+                data: this.formatData(this.datasets[this.view]),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n+                    interaction: {\r\n+                        mode: 'index',   // Show all dataset values at the hovered index\r\n+                        intersect: false // Don’t require direct hover on the line\r\n+                    },\r\n                     plugins: {\r\n                         legend: { display: false },\r\n+                        tooltip: {\r\n+                            mode: 'index',\r\n+                            intersect: false,\r\n+                            callbacks: {\r\n+                                label: function(context) {\r\n+                                    return `${context.dataset.label}: ${context.formattedValue}`;\r\n+                                }\r\n+                            }\r\n+                        }\r\n+                    },\r\n+                    scales: {\r\n+                        x: { grid: { color: '#f3f4f6' } },\r\n+                        y: { grid: { color: '#f3f4f6' } }\r\n                     }\r\n                 }\r\n+\r\n             });\r\n         },\r\n-\r\n-        async fetchData() {\r\n-            const response = await fetch(\"{{ route('requests.chart') }}?year=\" + this.view);\r\n-            const result = await response.json();\r\n-            this.data = result.data;\r\n-        },\r\n-\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n                     {\r\n-                        label: \"Approved\",\r\n+                        label: 'Approved',\r\n                         data: data.map(d => d.approved),\r\n-                        borderColor: \"#16a34a\",\r\n-                        backgroundColor: \"rgba(22,163,74,0.2)\",\r\n+                        borderColor: '#16a34a',\r\n+                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                        fill: true,\r\n                         borderWidth: 3,\r\n-                        fill: true,\r\n                     },\r\n                     {\r\n-                        label: \"Denied\",\r\n+                        label: 'Denied',\r\n                         data: data.map(d => d.denied),\r\n-                        borderColor: \"#ef4444\",\r\n-                        backgroundColor: \"rgba(239,68,68,0.1)\",\r\n+                        borderColor: '#ef4444',\r\n+                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                        fill: false,\r\n                         borderWidth: 2,\r\n-                        fill: false,\r\n                     }\r\n                 ]\r\n             };\r\n         },\r\n-\r\n-        async updateChart() {\r\n-            await this.fetchData();\r\n-\r\n-            this.chart.data = this.formatData(this.data);\r\n+        updateChart() {\r\n+            this.chart.data = this.formatData(this.datasets[this.view]);\r\n             this.chart.update();\r\n         }\r\n     };\r\n }\r\n </script>\r\n-\r\n"
                },
                {
                    "date": 1764358695435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,98 +40,70 @@\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n+<script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n-        view: 'monthly',\r\n-        datasets: {\r\n-            monthly: [\r\n-                { month: \"Jan\", approved: 40, denied: 90 },\r\n-                { month: \"Feb\", approved: 70, denied: 50 },\r\n-                { month: \"Mar\", approved: 130, denied: 40 },\r\n-                { month: \"Apr\", approved: 90, denied: 120 },\r\n-                { month: \"May\", approved: 75, denied: 110 },\r\n-                { month: \"Jun\", approved: 110, denied: 150 },\r\n-                { month: \"Jul\", approved: 150, denied: 100 },\r\n-                { month: \"Aug\", approved: 160, denied: 70 },\r\n-                { month: \"Sept\", approved: 310, denied: 180 },\r\n-                { month: \"Oct\", approved: 250, denied: 160 },\r\n-                { month: \"Nov\", approved: 280, denied: 140 },\r\n-                { month: \"Dec\", approved: 220, denied: 400 },\r\n-            ],\r\n-            quarterly: [\r\n-                { month: \"Q1\", approved: 240, denied: 180 },\r\n-                { month: \"Q2\", approved: 280, denied: 210 },\r\n-                { month: \"Q3\", approved: 400, denied: 250 },\r\n-                { month: \"Q4\", approved: 360, denied: 500 },\r\n-            ],\r\n-            yearly: [\r\n-                { month: \"2022\", approved: 1200, denied: 800 },\r\n-                { month: \"2023\", approved: 1500, denied: 950 },\r\n-                { month: \"2024\", approved: 1800, denied: 1300 },\r\n-            ],\r\n-        },\r\n-        initChart() {\r\n+        view: new Date().getFullYear(), // default current year\r\n+        data: [],\r\n+\r\n+        async initChart() {\r\n+            await this.fetchData();\r\n+\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n             this.chart = new Chart(ctx, {\r\n                 type: 'line',\r\n-                data: this.formatData(this.datasets[this.view]),\r\n+                data: this.formatData(this.data),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n-                    interaction: {\r\n-                        mode: 'index',   // Show all dataset values at the hovered index\r\n-                        intersect: false // Don’t require direct hover on the line\r\n-                    },\r\n                     plugins: {\r\n                         legend: { display: false },\r\n-                        tooltip: {\r\n-                            mode: 'index',\r\n-                            intersect: false,\r\n-                            callbacks: {\r\n-                                label: function(context) {\r\n-                                    return `${context.dataset.label}: ${context.formattedValue}`;\r\n-                                }\r\n-                            }\r\n-                        }\r\n-                    },\r\n-                    scales: {\r\n-                        x: { grid: { color: '#f3f4f6' } },\r\n-                        y: { grid: { color: '#f3f4f6' } }\r\n                     }\r\n                 }\r\n-\r\n             });\r\n         },\r\n+\r\n+        async fetchData() {\r\n+            const response = await fetch(\"{{ route('requests.chart') }}?year=\" + this.view);\r\n+            const result = await response.json();\r\n+            this.data = result.data;\r\n+        },\r\n+\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n                     {\r\n-                        label: 'Approved',\r\n+                        label: \"Approved\",\r\n                         data: data.map(d => d.approved),\r\n-                        borderColor: '#16a34a',\r\n-                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                        borderColor: \"#16a34a\",\r\n+                        backgroundColor: \"rgba(22,163,74,0.2)\",\r\n+                        borderWidth: 3,\r\n                         fill: true,\r\n-                        borderWidth: 3,\r\n                     },\r\n                     {\r\n-                        label: 'Denied',\r\n+                        label: \"Denied\",\r\n                         data: data.map(d => d.denied),\r\n-                        borderColor: '#ef4444',\r\n-                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                        borderColor: \"#ef4444\",\r\n+                        backgroundColor: \"rgba(239,68,68,0.1)\",\r\n+                        borderWidth: 2,\r\n                         fill: false,\r\n-                        borderWidth: 2,\r\n                     }\r\n                 ]\r\n             };\r\n         },\r\n-        updateChart() {\r\n-            this.chart.data = this.formatData(this.datasets[this.view]);\r\n+\r\n+        async updateChart() {\r\n+            await this.fetchData();\r\n+\r\n+            this.chart.data = this.formatData(this.data);\r\n             this.chart.update();\r\n         }\r\n     };\r\n }\r\n </script>\r\n+\r\n+</script>\r\n"
                },
                {
                    "date": 1764358741994,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,8 @@\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n-<script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n         view: new Date().getFullYear(), // default current year\r\n"
                },
                {
                    "date": 1764358879153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,8 @@\n+        @php\r\n+        $activeData = app('App\\Http\\Controllers\\ReportMembershipController')->activeMembers();\r\n+        @endphp\r\n+\r\n <div \r\n     x-data=\"requestChart()\" \r\n     x-init=\"initChart()\" \r\n     class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n"
                },
                {
                    "date": 1764358912567,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n         @php\r\n-        $activeData = app('App\\Http\\Controllers\\ReportMembershipController')->activeMembers();\r\n+        $activeData = app('App\\Http\\Controllers\\ReportMembershipController');\r\n         @endphp\r\n \r\n <div \r\n     x-data=\"requestChart()\" \r\n"
                },
                {
                    "date": 1764358955156,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,6 @@\n-        @php\r\n-        $activeData = app('App\\Http\\Controllers\\ReportMembershipController');\r\n-        @endphp\r\n \r\n+\r\n <div \r\n     x-data=\"requestChart()\" \r\n     x-init=\"initChart()\" \r\n     class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n"
                },
                {
                    "date": 1764359006186,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,66 +45,82 @@\n <script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n-        view: new Date().getFullYear(), // default current year\r\n-        data: [],\r\n+        view: new Date().getFullYear(), // default: current year\r\n+        fetchedData: [],\r\n+        \r\n+        initChart() {\r\n+            this.fetchData();\r\n+        },\r\n \r\n-        async initChart() {\r\n-            await this.fetchData();\r\n+        fetchData() {\r\n+            fetch(`/reports/requests/chart-data?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    this.fetchedData = data;\r\n+                    this.renderChart();\r\n+                })\r\n+                .catch(err => console.error(\"Error loading chart data:\", err));\r\n+        },\r\n \r\n+        renderChart() {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n+\r\n+            if (this.chart) {\r\n+                this.chart.destroy();\r\n+            }\r\n+\r\n             this.chart = new Chart(ctx, {\r\n                 type: 'line',\r\n-                data: this.formatData(this.data),\r\n+                data: this.formatData(this.fetchedData),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n+                    interaction: { mode: 'index', intersect: false },\r\n                     plugins: {\r\n                         legend: { display: false },\r\n+                        tooltip: {\r\n+                            mode: 'index',\r\n+                            intersect: false,\r\n+                        }\r\n+                    },\r\n+                    scales: {\r\n+                        x: { grid: { color: '#f3f4f6' } },\r\n+                        y: { grid: { color: '#f3f4f6' } }\r\n                     }\r\n                 }\r\n             });\r\n         },\r\n \r\n-        async fetchData() {\r\n-            const response = await fetch(\"{{ route('requests.chart') }}?year=\" + this.view);\r\n-            const result = await response.json();\r\n-            this.data = result.data;\r\n-        },\r\n-\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n                     {\r\n-                        label: \"Approved\",\r\n+                        label: 'Approved',\r\n                         data: data.map(d => d.approved),\r\n-                        borderColor: \"#16a34a\",\r\n-                        backgroundColor: \"rgba(22,163,74,0.2)\",\r\n+                        borderColor: '#16a34a',\r\n+                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                        fill: true,\r\n                         borderWidth: 3,\r\n-                        fill: true,\r\n                     },\r\n                     {\r\n-                        label: \"Denied\",\r\n+                        label: 'Denied',\r\n                         data: data.map(d => d.denied),\r\n-                        borderColor: \"#ef4444\",\r\n-                        backgroundColor: \"rgba(239,68,68,0.1)\",\r\n+                        borderColor: '#ef4444',\r\n+                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                        fill: false,\r\n                         borderWidth: 2,\r\n-                        fill: false,\r\n                     }\r\n                 ]\r\n             };\r\n         },\r\n \r\n-        async updateChart() {\r\n-            await this.fetchData();\r\n-\r\n-            this.chart.data = this.formatData(this.data);\r\n-            this.chart.update();\r\n+        updateChart() {\r\n+            this.fetchData();\r\n         }\r\n     };\r\n }\r\n </script>\r\n \r\n-</script>\r\n"
                },
                {
                    "date": 1764359301416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,4 @@\n-\r\n-\r\n <div \r\n     x-data=\"requestChart()\" \r\n     x-init=\"initChart()\" \r\n     class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n@@ -45,55 +43,69 @@\n <script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n-        view: new Date().getFullYear(), // default: current year\r\n-        fetchedData: [],\r\n-        \r\n+        view: 'monthly',\r\n+        datasets: {\r\n+            monthly: [\r\n+                { month: \"Jan\", approved: 40, denied: 90 },\r\n+                { month: \"Feb\", approved: 70, denied: 50 },\r\n+                { month: \"Mar\", approved: 130, denied: 40 },\r\n+                { month: \"Apr\", approved: 90, denied: 120 },\r\n+                { month: \"May\", approved: 75, denied: 110 },\r\n+                { month: \"Jun\", approved: 110, denied: 150 },\r\n+                { month: \"Jul\", approved: 150, denied: 100 },\r\n+                { month: \"Aug\", approved: 160, denied: 70 },\r\n+                { month: \"Sept\", approved: 310, denied: 180 },\r\n+                { month: \"Oct\", approved: 250, denied: 160 },\r\n+                { month: \"Nov\", approved: 280, denied: 140 },\r\n+                { month: \"Dec\", approved: 220, denied: 400 },\r\n+            ],\r\n+            quarterly: [\r\n+                { month: \"Q1\", approved: 240, denied: 180 },\r\n+                { month: \"Q2\", approved: 280, denied: 210 },\r\n+                { month: \"Q3\", approved: 400, denied: 250 },\r\n+                { month: \"Q4\", approved: 360, denied: 500 },\r\n+            ],\r\n+            yearly: [\r\n+                { month: \"2022\", approved: 1200, denied: 800 },\r\n+                { month: \"2023\", approved: 1500, denied: 950 },\r\n+                { month: \"2024\", approved: 1800, denied: 1300 },\r\n+            ],\r\n+        },\r\n         initChart() {\r\n-            this.fetchData();\r\n-        },\r\n-\r\n-        fetchData() {\r\n-            fetch(`/reports/requests/chart-data?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    this.fetchedData = data;\r\n-                    this.renderChart();\r\n-                })\r\n-                .catch(err => console.error(\"Error loading chart data:\", err));\r\n-        },\r\n-\r\n-        renderChart() {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n-\r\n-            if (this.chart) {\r\n-                this.chart.destroy();\r\n-            }\r\n-\r\n             this.chart = new Chart(ctx, {\r\n                 type: 'line',\r\n-                data: this.formatData(this.fetchedData),\r\n+                data: this.formatData(this.datasets[this.view]),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n-                    interaction: { mode: 'index', intersect: false },\r\n+                    interaction: {\r\n+                        mode: 'index',   // Show all dataset values at the hovered index\r\n+                        intersect: false // Don’t require direct hover on the line\r\n+                    },\r\n                     plugins: {\r\n                         legend: { display: false },\r\n                         tooltip: {\r\n                             mode: 'index',\r\n                             intersect: false,\r\n+                            callbacks: {\r\n+                                label: function(context) {\r\n+                                    return `${context.dataset.label}: ${context.formattedValue}`;\r\n+                                }\r\n+                            }\r\n                         }\r\n                     },\r\n                     scales: {\r\n                         x: { grid: { color: '#f3f4f6' } },\r\n                         y: { grid: { color: '#f3f4f6' } }\r\n                     }\r\n                 }\r\n+\r\n             });\r\n         },\r\n-\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n@@ -115,12 +127,11 @@\n                     }\r\n                 ]\r\n             };\r\n         },\r\n-\r\n         updateChart() {\r\n-            this.fetchData();\r\n+            this.chart.data = this.formatData(this.datasets[this.view]);\r\n+            this.chart.update();\r\n         }\r\n     };\r\n }\r\n </script>\r\n-\r\n"
                },
                {
                    "date": 1764359396465,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,69 +43,59 @@\n <script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n-        view: 'monthly',\r\n-        datasets: {\r\n-            monthly: [\r\n-                { month: \"Jan\", approved: 40, denied: 90 },\r\n-                { month: \"Feb\", approved: 70, denied: 50 },\r\n-                { month: \"Mar\", approved: 130, denied: 40 },\r\n-                { month: \"Apr\", approved: 90, denied: 120 },\r\n-                { month: \"May\", approved: 75, denied: 110 },\r\n-                { month: \"Jun\", approved: 110, denied: 150 },\r\n-                { month: \"Jul\", approved: 150, denied: 100 },\r\n-                { month: \"Aug\", approved: 160, denied: 70 },\r\n-                { month: \"Sept\", approved: 310, denied: 180 },\r\n-                { month: \"Oct\", approved: 250, denied: 160 },\r\n-                { month: \"Nov\", approved: 280, denied: 140 },\r\n-                { month: \"Dec\", approved: 220, denied: 400 },\r\n-            ],\r\n-            quarterly: [\r\n-                { month: \"Q1\", approved: 240, denied: 180 },\r\n-                { month: \"Q2\", approved: 280, denied: 210 },\r\n-                { month: \"Q3\", approved: 400, denied: 250 },\r\n-                { month: \"Q4\", approved: 360, denied: 500 },\r\n-            ],\r\n-            yearly: [\r\n-                { month: \"2022\", approved: 1200, denied: 800 },\r\n-                { month: \"2023\", approved: 1500, denied: 950 },\r\n-                { month: \"2024\", approved: 1800, denied: 1300 },\r\n-            ],\r\n+        view: new Date().getFullYear(), // default selected year\r\n+\r\n+        initChart() {\r\n+            this.loadChartData();\r\n         },\r\n-        initChart() {\r\n+\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    if (!this.chart) {\r\n+                        this.createChart(data);\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n+                    }\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+        },\r\n+\r\n+        createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n+\r\n             this.chart = new Chart(ctx, {\r\n                 type: 'line',\r\n-                data: this.formatData(this.datasets[this.view]),\r\n+                data: this.formatData(data),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n                     interaction: {\r\n-                        mode: 'index',   // Show all dataset values at the hovered index\r\n-                        intersect: false // Don’t require direct hover on the line\r\n+                        mode: 'index',\r\n+                        intersect: false\r\n                     },\r\n                     plugins: {\r\n                         legend: { display: false },\r\n                         tooltip: {\r\n-                            mode: 'index',\r\n-                            intersect: false,\r\n                             callbacks: {\r\n-                                label: function(context) {\r\n-                                    return `${context.dataset.label}: ${context.formattedValue}`;\r\n-                                }\r\n+                                label: (context) =>\r\n+                                    `${context.dataset.label}: ${context.formattedValue}`\r\n                             }\r\n                         }\r\n-                    },\r\n-                    scales: {\r\n-                        x: { grid: { color: '#f3f4f6' } },\r\n-                        y: { grid: { color: '#f3f4f6' } }\r\n                     }\r\n                 }\r\n-\r\n             });\r\n         },\r\n+\r\n+        updateExistingChart(data) {\r\n+            this.chart.data = this.formatData(data);\r\n+            this.chart.update();\r\n+        },\r\n+\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n@@ -113,25 +103,26 @@\n                         label: 'Approved',\r\n                         data: data.map(d => d.approved),\r\n                         borderColor: '#16a34a',\r\n                         backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                        borderWidth: 3,\r\n                         fill: true,\r\n-                        borderWidth: 3,\r\n                     },\r\n                     {\r\n                         label: 'Denied',\r\n                         data: data.map(d => d.denied),\r\n                         borderColor: '#ef4444',\r\n                         backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                        borderWidth: 2,\r\n                         fill: false,\r\n-                        borderWidth: 2,\r\n                     }\r\n                 ]\r\n             };\r\n         },\r\n+\r\n         updateChart() {\r\n-            this.chart.data = this.formatData(this.datasets[this.view]);\r\n-            this.chart.update();\r\n+            this.loadChartData();\r\n         }\r\n     };\r\n }\r\n </script>\r\n+\r\n"
                },
                {
                    "date": 1764359475461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,9 +99,9 @@\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n                     {\r\n-                        label: 'Approved',\r\n+                        label: 'Completed',\r\n                         data: data.map(d => d.approved),\r\n                         borderColor: '#16a34a',\r\n                         backgroundColor: 'rgba(22,163,74,0.2)',\r\n                         borderWidth: 3,\r\n"
                },
                {
                    "date": 1764359678853,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,9 +99,9 @@\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n                     {\r\n-                        label: 'Completed',\r\n+                        label: 'Approved',\r\n                         data: data.map(d => d.approved),\r\n                         borderColor: '#16a34a',\r\n                         backgroundColor: 'rgba(22,163,74,0.2)',\r\n                         borderWidth: 3,\r\n"
                },
                {
                    "date": 1764359705192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,9 +99,9 @@\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n                     {\r\n-                        label: 'Approved',\r\n+                        label: 'Completed',\r\n                         data: data.map(d => d.approved),\r\n                         borderColor: '#16a34a',\r\n                         backgroundColor: 'rgba(22,163,74,0.2)',\r\n                         borderWidth: 3,\r\n"
                },
                {
                    "date": 1764359761645,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,9 +99,9 @@\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n                     {\r\n-                        label: 'Completed',\r\n+                        label: 'Approved',\r\n                         data: data.map(d => d.approved),\r\n                         borderColor: '#16a34a',\r\n                         backgroundColor: 'rgba(22,163,74,0.2)',\r\n                         borderWidth: 3,\r\n"
                },
                {
                    "date": 1764359809089,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,32 +94,33 @@\n             this.chart.data = this.formatData(data);\r\n             this.chart.update();\r\n         },\r\n \r\n-        formatData(data) {\r\n-            return {\r\n-                labels: data.map(d => d.month),\r\n-                datasets: [\r\n-                    {\r\n-                        label: 'Approved',\r\n-                        data: data.map(d => d.approved),\r\n-                        borderColor: '#16a34a',\r\n-                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n-                        borderWidth: 3,\r\n-                        fill: true,\r\n-                    },\r\n-                    {\r\n-                        label: 'Denied',\r\n-                        data: data.map(d => d.denied),\r\n-                        borderColor: '#ef4444',\r\n-                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n-                        borderWidth: 2,\r\n-                        fill: false,\r\n-                    }\r\n-                ]\r\n-            };\r\n-        },\r\n+formatData(data) {\r\n+    return {\r\n+        labels: data.map(d => d.month),\r\n+        datasets: [\r\n+            {\r\n+                label: 'Completed',\r\n+                data: data.map(d => d.completed),\r\n+                borderColor: '#16a34a',\r\n+                backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                borderWidth: 3,\r\n+                fill: true,\r\n+            },\r\n+            {\r\n+                label: 'Rejected',\r\n+                data: data.map(d => d.rejected),\r\n+                borderColor: '#ef4444',\r\n+                backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                borderWidth: 2,\r\n+                fill: false,\r\n+            }\r\n+        ]\r\n+    };\r\n+},\r\n \r\n+\r\n         updateChart() {\r\n             this.loadChartData();\r\n         }\r\n     };\r\n"
                },
                {
                    "date": 1764399098327,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,15 +7,19 @@\n     <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n         <div class=\"flex items-center gap-3\">\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-                Approved\r\n+            <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n+Completed\r\n             </span>\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-                Denied\r\n+<span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n+Rejected\r\n             </span>\r\n+\r\n+\r\n+\r\n+\r\n             <select \r\n                 x-model=\"view\" \r\n                 @change=\"updateChart()\" \r\n                 class=\"ml-2 border rounded-md text-sm px-2 py-1\"\r\n"
                },
                {
                    "date": 1764399110877,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,134 @@\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+        <div class=\"flex items-center gap-3\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+            <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n+Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+<span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n+Rejected\r\n+            </span>\r\n+\r\n+\r\n+\r\n+\r\n+            <select \r\n+                x-model=\"view\" \r\n+                @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-2 py-1\"\r\n+            >\r\n+                <option value=\"2020\">2020</option>\r\n+                <option value=\"2021\">2021</option>\r\n+                <option value=\"2022\">2022</option>\r\n+                <option value=\"2023\">2023</option>\r\n+                <option value=\"2024\">2024</option>\r\n+                <option value=\"2025\">2025</option>\r\n+            </select>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- Chart -->\r\n+    <div class=\"h-64 p-3\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n+    </div>\r\n+</div>\r\n+\r\n+<!-- Alpine + Chart.js -->\r\n+<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<script>\r\n+function requestChart() {\r\n+    return {\r\n+        chart: null,\r\n+        view: new Date().getFullYear(), // default selected year\r\n+\r\n+        initChart() {\r\n+            this.loadChartData();\r\n+        },\r\n+\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    if (!this.chart) {\r\n+                        this.createChart(data);\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n+                    }\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+        },\r\n+\r\n+        createChart(data) {\r\n+            const ctx = document.getElementById('requestChart').getContext('2d');\r\n+\r\n+            this.chart = new Chart(ctx, {\r\n+                type: 'line',\r\n+                data: this.formatData(data),\r\n+                options: {\r\n+                    responsive: true,\r\n+                    maintainAspectRatio: false,\r\n+                    tension: 0.4,\r\n+                    interaction: {\r\n+                        mode: 'index',\r\n+                        intersect: false\r\n+                    },\r\n+                    plugins: {\r\n+                        legend: { display: false },\r\n+                        tooltip: {\r\n+                            callbacks: {\r\n+                                label: (context) =>\r\n+                                    `${context.dataset.label}: ${context.formattedValue}`\r\n+                            }\r\n+                        }\r\n+                    }\r\n+                }\r\n+            });\r\n+        },\r\n+\r\n+        updateExistingChart(data) {\r\n+            this.chart.data = this.formatData(data);\r\n+            this.chart.update();\r\n+        },\r\n+\r\n+formatData(data) {\r\n+    return {\r\n+        labels: data.map(d => d.month),\r\n+        datasets: [\r\n+            {\r\n+                label: 'Completed',\r\n+                data: data.map(d => d.completed),\r\n+                borderColor: '#16a34a',\r\n+                backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                borderWidth: 3,\r\n+                fill: true,\r\n+            },\r\n+            {\r\n+                label: 'Rejected',\r\n+                data: data.map(d => d.rejected),\r\n+                borderColor: '#ef4444',\r\n+                backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                borderWidth: 2,\r\n+                fill: false,\r\n+            }\r\n+        ]\r\n+    };\r\n+},\r\n+\r\n+\r\n+\r\n+        updateChart() {\r\n+            this.loadChartData();\r\n+        }\r\n+    };\r\n+}\r\n+</script>\r\n+\r\n"
                },
                {
                    "date": 1764399221928,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,14 +7,14 @@\n     <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n         <div class=\"flex items-center gap-3\">\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n-            <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-Completed\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n+                    Completed\r\n             </span>\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n-<span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-Rejected\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n+                    Rejected\r\n             </span>\r\n \r\n \r\n \r\n@@ -131,137 +131,4 @@\n     };\r\n }\r\n </script>\r\n \r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-        <div class=\"flex items-center gap-3\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-            <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-<span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-Rejected\r\n-            </span>\r\n-\r\n-\r\n-\r\n-\r\n-            <select \r\n-                x-model=\"view\" \r\n-                @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-2 py-1\"\r\n-            >\r\n-                <option value=\"2020\">2020</option>\r\n-                <option value=\"2021\">2021</option>\r\n-                <option value=\"2022\">2022</option>\r\n-                <option value=\"2023\">2023</option>\r\n-                <option value=\"2024\">2024</option>\r\n-                <option value=\"2025\">2025</option>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- Chart -->\r\n-    <div class=\"h-64 p-3\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n-    </div>\r\n-</div>\r\n-\r\n-<!-- Alpine + Chart.js -->\r\n-<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<script>\r\n-function requestChart() {\r\n-    return {\r\n-        chart: null,\r\n-        view: new Date().getFullYear(), // default selected year\r\n-\r\n-        initChart() {\r\n-            this.loadChartData();\r\n-        },\r\n-\r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    if (!this.chart) {\r\n-                        this.createChart(data);\r\n-                    } else {\r\n-                        this.updateExistingChart(data);\r\n-                    }\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n-        },\r\n-\r\n-        createChart(data) {\r\n-            const ctx = document.getElementById('requestChart').getContext('2d');\r\n-\r\n-            this.chart = new Chart(ctx, {\r\n-                type: 'line',\r\n-                data: this.formatData(data),\r\n-                options: {\r\n-                    responsive: true,\r\n-                    maintainAspectRatio: false,\r\n-                    tension: 0.4,\r\n-                    interaction: {\r\n-                        mode: 'index',\r\n-                        intersect: false\r\n-                    },\r\n-                    plugins: {\r\n-                        legend: { display: false },\r\n-                        tooltip: {\r\n-                            callbacks: {\r\n-                                label: (context) =>\r\n-                                    `${context.dataset.label}: ${context.formattedValue}`\r\n-                            }\r\n-                        }\r\n-                    }\r\n-                }\r\n-            });\r\n-        },\r\n-\r\n-        updateExistingChart(data) {\r\n-            this.chart.data = this.formatData(data);\r\n-            this.chart.update();\r\n-        },\r\n-\r\n-formatData(data) {\r\n-    return {\r\n-        labels: data.map(d => d.month),\r\n-        datasets: [\r\n-            {\r\n-                label: 'Completed',\r\n-                data: data.map(d => d.completed),\r\n-                borderColor: '#16a34a',\r\n-                backgroundColor: 'rgba(22,163,74,0.2)',\r\n-                borderWidth: 3,\r\n-                fill: true,\r\n-            },\r\n-            {\r\n-                label: 'Rejected',\r\n-                data: data.map(d => d.rejected),\r\n-                borderColor: '#ef4444',\r\n-                backgroundColor: 'rgba(239,68,68,0.1)',\r\n-                borderWidth: 2,\r\n-                fill: false,\r\n-            }\r\n-        ]\r\n-    };\r\n-},\r\n-\r\n-\r\n-        updateChart() {\r\n-            this.loadChartData();\r\n-        }\r\n-    };\r\n-}\r\n-</script>\r\n-\r\n"
                },
                {
                    "date": 1764399295570,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,132 @@\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+        <div class=\"flex items-center gap-3\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n+                    Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n+                    Rejected\r\n+            </span>\r\n+\r\n+\r\n+\r\n+\r\n+<select\r\n+    x-model=\"view\"\r\n+    @change=\"updateChart()\"\r\n+    class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\"\r\n+>\r\n+    <template x-for=\"year in years\" :key=\"year\">\r\n+        <option :value=\"year\" x-text=\"year\"></option>\r\n+    </template>\r\n+</select>\r\n+\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- Chart -->\r\n+    <div class=\"h-64 p-3\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n+    </div>\r\n+</div>\r\n+\r\n+<!-- Alpine + Chart.js -->\r\n+<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<script>\r\n+function requestChart() {\r\n+    return {\r\n+        chart: null,\r\n+        view: new Date().getFullYear(), // default selected year\r\n+\r\n+        initChart() {\r\n+            this.loadChartData();\r\n+        },\r\n+\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    if (!this.chart) {\r\n+                        this.createChart(data);\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n+                    }\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+        },\r\n+\r\n+        createChart(data) {\r\n+            const ctx = document.getElementById('requestChart').getContext('2d');\r\n+\r\n+            this.chart = new Chart(ctx, {\r\n+                type: 'line',\r\n+                data: this.formatData(data),\r\n+                options: {\r\n+                    responsive: true,\r\n+                    maintainAspectRatio: false,\r\n+                    tension: 0.4,\r\n+                    interaction: {\r\n+                        mode: 'index',\r\n+                        intersect: false\r\n+                    },\r\n+                    plugins: {\r\n+                        legend: { display: false },\r\n+                        tooltip: {\r\n+                            callbacks: {\r\n+                                label: (context) =>\r\n+                                    `${context.dataset.label}: ${context.formattedValue}`\r\n+                            }\r\n+                        }\r\n+                    }\r\n+                }\r\n+            });\r\n+        },\r\n+\r\n+        updateExistingChart(data) {\r\n+            this.chart.data = this.formatData(data);\r\n+            this.chart.update();\r\n+        },\r\n+\r\n+formatData(data) {\r\n+    return {\r\n+        labels: data.map(d => d.month),\r\n+        datasets: [\r\n+            {\r\n+                label: 'Completed',\r\n+                data: data.map(d => d.completed),\r\n+                borderColor: '#16a34a',\r\n+                backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                borderWidth: 3,\r\n+                fill: true,\r\n+            },\r\n+            {\r\n+                label: 'Rejected',\r\n+                data: data.map(d => d.rejected),\r\n+                borderColor: '#ef4444',\r\n+                backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                borderWidth: 2,\r\n+                fill: false,\r\n+            }\r\n+        ]\r\n+    };\r\n+},\r\n+\r\n+\r\n+\r\n+        updateChart() {\r\n+            this.loadChartData();\r\n+        }\r\n+    };\r\n+}\r\n+</script>\r\n+\r\n"
                },
                {
                    "date": 1764399341480,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,22 +14,13 @@\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n                     Rejected\r\n             </span>\r\n-\r\n-\r\n-\r\n-\r\n-<select\r\n-    x-model=\"view\"\r\n-    @change=\"updateChart()\"\r\n-    class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\"\r\n->\r\n-    <template x-for=\"year in years\" :key=\"year\">\r\n-        <option :value=\"year\" x-text=\"year\"></option>\r\n-    </template>\r\n-</select>\r\n-\r\n+            <select x-model=\"view\" @change=\"updateChart()\" class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+                <template x-for=\"year in years\" :key=\"year\">\r\n+                    <option :value=\"year\" x-text=\"year\"></option>\r\n+                </template>\r\n+            </select>\r\n         </div>\r\n     </div>\r\n \r\n     <!-- Chart -->\r\n"
                },
                {
                    "date": 1764399365243,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,134 @@\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+        <div class=\"flex items-center gap-3\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n+                    Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n+                    Rejected\r\n+            </span>\r\n+            <select x-model=\"view\" @change=\"updateChart()\" class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+                <template x-for=\"year in years\" :key=\"year\">\r\n+                    <option :value=\"year\" x-text=\"year\"></option>\r\n+                </template>\r\n+            </select>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- Chart -->\r\n+    <div class=\"h-64 p-3\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n+    </div>\r\n+</div>\r\n+\r\n+<!-- Alpine + Chart.js -->\r\n+<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<script>\r\n+function requestChart() {\r\n+    return {\r\n+        chart: null,\r\n+        view: new Date().getFullYear(), // default: current year\r\n+        years: [],\r\n+\r\n+        initChart() {\r\n+            this.generateYears();\r\n+            this.loadChartData();\r\n+        },\r\n+\r\n+        generateYears() {\r\n+            const current = new Date().getFullYear();\r\n+            const startYear = 2020;\r\n+\r\n+            // Push years from current down to 2020\r\n+            for (let y = current; y >= startYear; y--) {\r\n+                this.years.push(y);\r\n+            }\r\n+        },\r\n+\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    if (!this.chart) {\r\n+                        this.createChart(data);\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n+                    }\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+        },\r\n+\r\n+        createChart(data) {\r\n+            const ctx = document.getElementById('requestChart').getContext('2d');\r\n+\r\n+            this.chart = new Chart(ctx, {\r\n+                type: 'line',\r\n+                data: this.formatData(data),\r\n+                options: {\r\n+                    responsive: true,\r\n+                    maintainAspectRatio: false,\r\n+                    tension: 0.4,\r\n+                    interaction: {\r\n+                        mode: 'index',\r\n+                        intersect: false\r\n+                    },\r\n+                    plugins: {\r\n+                        legend: { display: false },\r\n+                        tooltip: {\r\n+                            callbacks: {\r\n+                                label: (context) =>\r\n+                                    `${context.dataset.label}: ${context.formattedValue}`\r\n+                            }\r\n+                        }\r\n+                    }\r\n+                }\r\n+            });\r\n+        },\r\n+\r\n+        updateExistingChart(data) {\r\n+            this.chart.data = this.formatData(data);\r\n+            this.chart.update();\r\n+        },\r\n+\r\n+        formatData(data) {\r\n+            return {\r\n+                labels: data.map(d => d.month),\r\n+                datasets: [\r\n+                    {\r\n+                        label: 'Completed',\r\n+                        data: data.map(d => d.completed),\r\n+                        borderColor: '#16a34a',\r\n+                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                        borderWidth: 3,\r\n+                        fill: true,\r\n+                    },\r\n+                    {\r\n+                        label: 'Rejected',\r\n+                        data: data.map(d => d.rejected),\r\n+                        borderColor: '#ef4444',\r\n+                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                        borderWidth: 2,\r\n+                        fill: false,\r\n+                    }\r\n+                ]\r\n+            };\r\n+        },\r\n+\r\n+        updateChart() {\r\n+            this.loadChartData();\r\n+        }\r\n+    };\r\n+}\r\n+\r\n+</script>\r\n+\r\n"
                },
                {
                    "date": 1764399579276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,8 @@\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n             const startYear = 2020;\r\n \r\n-            // Push years from current down to 2020\r\n             for (let y = current; y >= startYear; y--) {\r\n                 this.years.push(y);\r\n             }\r\n         },\r\n@@ -94,11 +93,12 @@\n                 }\r\n             });\r\n         },\r\n \r\n+        // ❗ FIXED: always destroy before updating\r\n         updateExistingChart(data) {\r\n-            this.chart.data = this.formatData(data);\r\n-            this.chart.update();\r\n+            this.chart.destroy();\r\n+            this.createChart(data);\r\n         },\r\n \r\n         formatData(data) {\r\n             return {\r\n@@ -128,264 +128,5 @@\n             this.loadChartData();\r\n         }\r\n     };\r\n }\r\n-\r\n </script>\r\n-\r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-        <div class=\"flex items-center gap-3\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-                    Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-                    Rejected\r\n-            </span>\r\n-            <select x-model=\"view\" @change=\"updateChart()\" class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n-                <template x-for=\"year in years\" :key=\"year\">\r\n-                    <option :value=\"year\" x-text=\"year\"></option>\r\n-                </template>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- Chart -->\r\n-    <div class=\"h-64 p-3\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n-    </div>\r\n-</div>\r\n-\r\n-<!-- Alpine + Chart.js -->\r\n-<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<script>\r\n-function requestChart() {\r\n-    return {\r\n-        chart: null,\r\n-        view: new Date().getFullYear(), // default selected year\r\n-\r\n-        initChart() {\r\n-            this.loadChartData();\r\n-        },\r\n-\r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    if (!this.chart) {\r\n-                        this.createChart(data);\r\n-                    } else {\r\n-                        this.updateExistingChart(data);\r\n-                    }\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n-        },\r\n-\r\n-        createChart(data) {\r\n-            const ctx = document.getElementById('requestChart').getContext('2d');\r\n-\r\n-            this.chart = new Chart(ctx, {\r\n-                type: 'line',\r\n-                data: this.formatData(data),\r\n-                options: {\r\n-                    responsive: true,\r\n-                    maintainAspectRatio: false,\r\n-                    tension: 0.4,\r\n-                    interaction: {\r\n-                        mode: 'index',\r\n-                        intersect: false\r\n-                    },\r\n-                    plugins: {\r\n-                        legend: { display: false },\r\n-                        tooltip: {\r\n-                            callbacks: {\r\n-                                label: (context) =>\r\n-                                    `${context.dataset.label}: ${context.formattedValue}`\r\n-                            }\r\n-                        }\r\n-                    }\r\n-                }\r\n-            });\r\n-        },\r\n-\r\n-        updateExistingChart(data) {\r\n-            this.chart.data = this.formatData(data);\r\n-            this.chart.update();\r\n-        },\r\n-\r\n-formatData(data) {\r\n-    return {\r\n-        labels: data.map(d => d.month),\r\n-        datasets: [\r\n-            {\r\n-                label: 'Completed',\r\n-                data: data.map(d => d.completed),\r\n-                borderColor: '#16a34a',\r\n-                backgroundColor: 'rgba(22,163,74,0.2)',\r\n-                borderWidth: 3,\r\n-                fill: true,\r\n-            },\r\n-            {\r\n-                label: 'Rejected',\r\n-                data: data.map(d => d.rejected),\r\n-                borderColor: '#ef4444',\r\n-                backgroundColor: 'rgba(239,68,68,0.1)',\r\n-                borderWidth: 2,\r\n-                fill: false,\r\n-            }\r\n-        ]\r\n-    };\r\n-},\r\n-\r\n-\r\n-\r\n-        updateChart() {\r\n-            this.loadChartData();\r\n-        }\r\n-    };\r\n-}\r\n-</script>\r\n-\r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-        <div class=\"flex items-center gap-3\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-                    Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-                    Rejected\r\n-            </span>\r\n-\r\n-\r\n-\r\n-\r\n-            <select \r\n-                x-model=\"view\" \r\n-                @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-2 py-1\"\r\n-            >\r\n-                <option value=\"2020\">2020</option>\r\n-                <option value=\"2021\">2021</option>\r\n-                <option value=\"2022\">2022</option>\r\n-                <option value=\"2023\">2023</option>\r\n-                <option value=\"2024\">2024</option>\r\n-                <option value=\"2025\">2025</option>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- Chart -->\r\n-    <div class=\"h-64 p-3\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n-    </div>\r\n-</div>\r\n-\r\n-<!-- Alpine + Chart.js -->\r\n-<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<script>\r\n-function requestChart() {\r\n-    return {\r\n-        chart: null,\r\n-        view: new Date().getFullYear(), // default selected year\r\n-\r\n-        initChart() {\r\n-            this.loadChartData();\r\n-        },\r\n-\r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    if (!this.chart) {\r\n-                        this.createChart(data);\r\n-                    } else {\r\n-                        this.updateExistingChart(data);\r\n-                    }\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n-        },\r\n-\r\n-        createChart(data) {\r\n-            const ctx = document.getElementById('requestChart').getContext('2d');\r\n-\r\n-            this.chart = new Chart(ctx, {\r\n-                type: 'line',\r\n-                data: this.formatData(data),\r\n-                options: {\r\n-                    responsive: true,\r\n-                    maintainAspectRatio: false,\r\n-                    tension: 0.4,\r\n-                    interaction: {\r\n-                        mode: 'index',\r\n-                        intersect: false\r\n-                    },\r\n-                    plugins: {\r\n-                        legend: { display: false },\r\n-                        tooltip: {\r\n-                            callbacks: {\r\n-                                label: (context) =>\r\n-                                    `${context.dataset.label}: ${context.formattedValue}`\r\n-                            }\r\n-                        }\r\n-                    }\r\n-                }\r\n-            });\r\n-        },\r\n-\r\n-        updateExistingChart(data) {\r\n-            this.chart.data = this.formatData(data);\r\n-            this.chart.update();\r\n-        },\r\n-\r\n-formatData(data) {\r\n-    return {\r\n-        labels: data.map(d => d.month),\r\n-        datasets: [\r\n-            {\r\n-                label: 'Completed',\r\n-                data: data.map(d => d.completed),\r\n-                borderColor: '#16a34a',\r\n-                backgroundColor: 'rgba(22,163,74,0.2)',\r\n-                borderWidth: 3,\r\n-                fill: true,\r\n-            },\r\n-            {\r\n-                label: 'Rejected',\r\n-                data: data.map(d => d.rejected),\r\n-                borderColor: '#ef4444',\r\n-                backgroundColor: 'rgba(239,68,68,0.1)',\r\n-                borderWidth: 2,\r\n-                fill: false,\r\n-            }\r\n-        ]\r\n-    };\r\n-},\r\n-\r\n-\r\n-\r\n-        updateChart() {\r\n-            this.loadChartData();\r\n-        }\r\n-    };\r\n-}\r\n-</script>\r\n-\r\n"
                },
                {
                    "date": 1764399676105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,41 +5,62 @@\n >\r\n     <!-- Header -->\r\n     <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n         <div class=\"flex items-center gap-3\">\r\n+\r\n+            <!-- Completed Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-                    Completed\r\n+                Completed\r\n             </span>\r\n+\r\n+            <!-- Rejected Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-                    Rejected\r\n+                Rejected\r\n             </span>\r\n-            <select x-model=\"view\" @change=\"updateChart()\" class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+\r\n+            <!-- Year Selector -->\r\n+            <select \r\n+                x-model=\"view\" \r\n+                @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\"\r\n+            >\r\n                 <template x-for=\"year in years\" :key=\"year\">\r\n                     <option :value=\"year\" x-text=\"year\"></option>\r\n                 </template>\r\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n-    <!-- Chart -->\r\n-    <div class=\"h-64 p-3\">\r\n+    <!-- Chart + No Data Message -->\r\n+    <div class=\"h-64 p-3 relative\">\r\n         <canvas id=\"requestChart\"></canvas>\r\n+\r\n+        <!-- No Data Message -->\r\n+        <div \r\n+            x-show=\"noData\"\r\n+            class=\"absolute inset-0 flex items-center justify-center text-gray-400 text-sm font-medium\"\r\n+        >\r\n+            No data available\r\n+        </div>\r\n     </div>\r\n </div>\r\n \r\n+\r\n <!-- Alpine + Chart.js -->\r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n-        view: new Date().getFullYear(), // default: current year\r\n+        view: new Date().getFullYear(),\r\n         years: [],\r\n+        noData: false,\r\n \r\n         initChart() {\r\n             this.generateYears();\r\n             this.loadChartData();\r\n@@ -53,19 +74,20 @@\n                 this.years.push(y);\r\n             }\r\n         },\r\n \r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    if (!this.chart) {\r\n-                        this.createChart(data);\r\n-                    } else {\r\n-                        this.updateExistingChart(data);\r\n-                    }\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+        async loadChartData() {\r\n+            const res = await fetch(`/reports/request/chart?year=${this.view}`);\r\n+            const data = await res.json();\r\n+\r\n+            // Check if all months contain 0 completed & rejected\r\n+            this.noData = data.every(row => row.completed === 0 && row.rejected === 0);\r\n+\r\n+            if (!this.chart) {\r\n+                this.createChart(data);\r\n+            } else {\r\n+                this.updateExistingChart(data);\r\n+            }\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n@@ -88,14 +110,16 @@\n                                 label: (context) =>\r\n                                     `${context.dataset.label}: ${context.formattedValue}`\r\n                             }\r\n                         }\r\n+                    },\r\n+                    scales: {\r\n+                        y: { beginAtZero: true }\r\n                     }\r\n                 }\r\n             });\r\n         },\r\n \r\n-        // ❗ FIXED: always destroy before updating\r\n         updateExistingChart(data) {\r\n             this.chart.destroy();\r\n             this.createChart(data);\r\n         },\r\n"
                },
                {
                    "date": 1764399754700,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,50 +7,35 @@\n     <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n \r\n         <div class=\"flex items-center gap-3\">\r\n-\r\n-            <!-- Completed Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-                Completed\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n             </span>\r\n-\r\n-            <!-- Rejected Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-                Rejected\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n             </span>\r\n \r\n-            <!-- Year Selector -->\r\n-            <select \r\n-                x-model=\"view\" \r\n-                @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\"\r\n-            >\r\n+            <select x-model=\"view\" @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n                 <template x-for=\"year in years\" :key=\"year\">\r\n                     <option :value=\"year\" x-text=\"year\"></option>\r\n                 </template>\r\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n-    <!-- Chart + No Data Message -->\r\n-    <div class=\"h-64 p-3 relative\">\r\n+    <!-- If empty -->\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n+        No data available for this year.\r\n+    </div>\r\n+\r\n+    <!-- Chart -->\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n         <canvas id=\"requestChart\"></canvas>\r\n-\r\n-        <!-- No Data Message -->\r\n-        <div \r\n-            x-show=\"noData\"\r\n-            class=\"absolute inset-0 flex items-center justify-center text-gray-400 text-sm font-medium\"\r\n-        >\r\n-            No data available\r\n-        </div>\r\n     </div>\r\n </div>\r\n \r\n-\r\n-<!-- Alpine + Chart.js -->\r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n@@ -67,27 +52,36 @@\n         },\r\n \r\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n-            const startYear = 2020;\r\n-\r\n-            for (let y = current; y >= startYear; y--) {\r\n+            for (let y = current; y >= 2020; y--) {\r\n                 this.years.push(y);\r\n             }\r\n         },\r\n \r\n-        async loadChartData() {\r\n-            const res = await fetch(`/reports/request/chart?year=${this.view}`);\r\n-            const data = await res.json();\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    // ✔ Check if all 12 months are zero\r\n+                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n+                    this.noData = !hasData;\r\n \r\n-            // Check if all months contain 0 completed & rejected\r\n-            this.noData = data.every(row => row.completed === 0 && row.rejected === 0);\r\n+                    if (this.noData) {\r\n+                        if (this.chart) {\r\n+                            this.chart.destroy();\r\n+                            this.chart = null;\r\n+                        }\r\n+                        return;\r\n+                    }\r\n \r\n-            if (!this.chart) {\r\n-                this.createChart(data);\r\n-            } else {\r\n-                this.updateExistingChart(data);\r\n-            }\r\n+                    if (!this.chart) {\r\n+                        this.createChart(data);\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n+                    }\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n@@ -98,24 +92,9 @@\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n-                    interaction: {\r\n-                        mode: 'index',\r\n-                        intersect: false\r\n-                    },\r\n-                    plugins: {\r\n-                        legend: { display: false },\r\n-                        tooltip: {\r\n-                            callbacks: {\r\n-                                label: (context) =>\r\n-                                    `${context.dataset.label}: ${context.formattedValue}`\r\n-                            }\r\n-                        }\r\n-                    },\r\n-                    scales: {\r\n-                        y: { beginAtZero: true }\r\n-                    }\r\n+                    plugins: { legend: { display: false } }\r\n                 }\r\n             });\r\n         },\r\n \r\n"
                },
                {
                    "date": 1764399861824,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,167 @@\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n+        <div class=\"flex items-center gap-3\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n+            </span>\r\n+\r\n+            <select x-model=\"view\" @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+                <template x-for=\"year in years\" :key=\"year\">\r\n+                    <option :value=\"year\" x-text=\"year\"></option>\r\n+                </template>\r\n+            </select>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- If empty -->\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n+        No data available for this year.\r\n+    </div>\r\n+\r\n+    <!-- Chart -->\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n+    </div>\r\n+</div>\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<script>\r\n+function requestChart() {\r\n+    return {\r\n+        chart: null,\r\n+        view: new Date().getFullYear(),\r\n+        years: [],\r\n+        noData: false,\r\n+\r\n+        initChart() {\r\n+            this.generateYears();\r\n+            this.loadChartData();\r\n+        },\r\n+\r\n+        generateYears() {\r\n+            const current = new Date().getFullYear();\r\n+            for (let y = current; y >= 2020; y--) {\r\n+                this.years.push(y);\r\n+            }\r\n+        },\r\n+\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    // ✔ Check if all 12 months are zero\r\n+                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n+                    this.noData = !hasData;\r\n+\r\n+                    if (this.noData) {\r\n+                        if (this.chart) {\r\n+                            this.chart.destroy();\r\n+                            this.chart = null;\r\n+                        }\r\n+                        return;\r\n+                    }\r\n+\r\n+                    if (!this.chart) {\r\n+                        this.createChart(data);\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n+                    }\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+        },\r\n+\r\n+createChart(data) {\r\n+    const ctx = document.getElementById('requestChart').getContext('2d');\r\n+\r\n+    this.chart = new Chart(ctx, {\r\n+        type: 'line',\r\n+        data: this.formatData(data),\r\n+        options: {\r\n+            responsive: true,\r\n+            maintainAspectRatio: false,\r\n+            tension: 0.4,\r\n+\r\n+            // ⭐ LINE DRAWING ANIMATION\r\n+            animation: {\r\n+                duration: 1800, // speed of drawing\r\n+                easing: 'easeInOutQuart',\r\n+            },\r\n+\r\n+            // 🐛 Worm-Like Line Reveal\r\n+            animations: {\r\n+                x: {\r\n+                    type: 'number',\r\n+                    easing: 'linear',\r\n+                    duration: 1800,\r\n+                    from: NaN, // Causes progressive reveal left→right\r\n+                },\r\n+                y: {\r\n+                    type: 'number',\r\n+                    easing: 'easeOutQuad',\r\n+                    duration: 1800,\r\n+                }\r\n+            },\r\n+\r\n+            interaction: { mode: 'index', intersect: false },\r\n+\r\n+            plugins: {\r\n+                legend: { display: false }\r\n+            },\r\n+\r\n+            scales: {\r\n+                y: {\r\n+                    beginAtZero: true\r\n+                }\r\n+            }\r\n+        }\r\n+    });\r\n+}\r\n+\r\n+        updateExistingChart(data) {\r\n+            this.chart.destroy();\r\n+            this.createChart(data);\r\n+        },\r\n+\r\n+        formatData(data) {\r\n+            return {\r\n+                labels: data.map(d => d.month),\r\n+                datasets: [\r\n+                    {\r\n+                        label: 'Completed',\r\n+                        data: data.map(d => d.completed),\r\n+                        borderColor: '#16a34a',\r\n+                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                        borderWidth: 3,\r\n+                        fill: true,\r\n+                    },\r\n+                    {\r\n+                        label: 'Rejected',\r\n+                        data: data.map(d => d.rejected),\r\n+                        borderColor: '#ef4444',\r\n+                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                        borderWidth: 2,\r\n+                        fill: false,\r\n+                    }\r\n+                ]\r\n+            };\r\n+        },\r\n+\r\n+        updateChart() {\r\n+            this.loadChartData();\r\n+        }\r\n+    };\r\n+}\r\n+</script>\r\n"
                },
                {
                    "date": 1764399871619,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,175 +82,8 @@\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n-createChart(data) {\r\n-    const ctx = document.getElementById('requestChart').getContext('2d');\r\n-\r\n-    this.chart = new Chart(ctx, {\r\n-        type: 'line',\r\n-        data: this.formatData(data),\r\n-        options: {\r\n-            responsive: true,\r\n-            maintainAspectRatio: false,\r\n-            tension: 0.4,\r\n-\r\n-            // ⭐ LINE DRAWING ANIMATION\r\n-            animation: {\r\n-                duration: 1800, // speed of drawing\r\n-                easing: 'easeInOutQuart',\r\n-            },\r\n-\r\n-            // 🐛 Worm-Like Line Reveal\r\n-            animations: {\r\n-                x: {\r\n-                    type: 'number',\r\n-                    easing: 'linear',\r\n-                    duration: 1800,\r\n-                    from: NaN, // Causes progressive reveal left→right\r\n-                },\r\n-                y: {\r\n-                    type: 'number',\r\n-                    easing: 'easeOutQuad',\r\n-                    duration: 1800,\r\n-                }\r\n-            },\r\n-\r\n-            interaction: { mode: 'index', intersect: false },\r\n-\r\n-            plugins: {\r\n-                legend: { display: false }\r\n-            },\r\n-\r\n-            scales: {\r\n-                y: {\r\n-                    beginAtZero: true\r\n-                }\r\n-            }\r\n-        }\r\n-    });\r\n-}\r\n-\r\n-        updateExistingChart(data) {\r\n-            this.chart.destroy();\r\n-            this.createChart(data);\r\n-        },\r\n-\r\n-        formatData(data) {\r\n-            return {\r\n-                labels: data.map(d => d.month),\r\n-                datasets: [\r\n-                    {\r\n-                        label: 'Completed',\r\n-                        data: data.map(d => d.completed),\r\n-                        borderColor: '#16a34a',\r\n-                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n-                        borderWidth: 3,\r\n-                        fill: true,\r\n-                    },\r\n-                    {\r\n-                        label: 'Rejected',\r\n-                        data: data.map(d => d.rejected),\r\n-                        borderColor: '#ef4444',\r\n-                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n-                        borderWidth: 2,\r\n-                        fill: false,\r\n-                    }\r\n-                ]\r\n-            };\r\n-        },\r\n-\r\n-        updateChart() {\r\n-            this.loadChartData();\r\n-        }\r\n-    };\r\n-}\r\n-</script>\r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-\r\n-        <div class=\"flex items-center gap-3\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n-            </span>\r\n-\r\n-            <select x-model=\"view\" @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n-                <template x-for=\"year in years\" :key=\"year\">\r\n-                    <option :value=\"year\" x-text=\"year\"></option>\r\n-                </template>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- If empty -->\r\n-    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n-        No data available for this year.\r\n-    </div>\r\n-\r\n-    <!-- Chart -->\r\n-    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n-    </div>\r\n-</div>\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<script>\r\n-function requestChart() {\r\n-    return {\r\n-        chart: null,\r\n-        view: new Date().getFullYear(),\r\n-        years: [],\r\n-        noData: false,\r\n-\r\n-        initChart() {\r\n-            this.generateYears();\r\n-            this.loadChartData();\r\n-        },\r\n-\r\n-        generateYears() {\r\n-            const current = new Date().getFullYear();\r\n-            for (let y = current; y >= 2020; y--) {\r\n-                this.years.push(y);\r\n-            }\r\n-        },\r\n-\r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    // ✔ Check if all 12 months are zero\r\n-                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n-                    this.noData = !hasData;\r\n-\r\n-                    if (this.noData) {\r\n-                        if (this.chart) {\r\n-                            this.chart.destroy();\r\n-                            this.chart = null;\r\n-                        }\r\n-                        return;\r\n-                    }\r\n-\r\n-                    if (!this.chart) {\r\n-                        this.createChart(data);\r\n-                    } else {\r\n-                        this.updateExistingChart(data);\r\n-                    }\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n-        },\r\n-\r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n \r\n             this.chart = new Chart(ctx, {\r\n"
                },
                {
                    "date": 1764399880809,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,21 +82,55 @@\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n-        createChart(data) {\r\n-            const ctx = document.getElementById('requestChart').getContext('2d');\r\n+createChart(data) {\r\n+    const ctx = document.getElementById('requestChart').getContext('2d');\r\n \r\n-            this.chart = new Chart(ctx, {\r\n-                type: 'line',\r\n-                data: this.formatData(data),\r\n-                options: {\r\n-                    responsive: true,\r\n-                    maintainAspectRatio: false,\r\n-                    tension: 0.4,\r\n-                    plugins: { legend: { display: false } }\r\n+    this.chart = new Chart(ctx, {\r\n+        type: 'line',\r\n+        data: this.formatData(data),\r\n+        options: {\r\n+            responsive: true,\r\n+            maintainAspectRatio: false,\r\n+            tension: 0.4,\r\n+\r\n+            // ⭐ LINE DRAWING ANIMATION\r\n+            animation: {\r\n+                duration: 1800, // speed of drawing\r\n+                easing: 'easeInOutQuart',\r\n+            },\r\n+\r\n+            // 🐛 Worm-Like Line Reveal\r\n+            animations: {\r\n+                x: {\r\n+                    type: 'number',\r\n+                    easing: 'linear',\r\n+                    duration: 1800,\r\n+                    from: NaN, // Causes progressive reveal left→right\r\n+                },\r\n+                y: {\r\n+                    type: 'number',\r\n+                    easing: 'easeOutQuad',\r\n+                    duration: 1800,\r\n                 }\r\n-            });\r\n+            },\r\n+\r\n+            interaction: { mode: 'index', intersect: false },\r\n+\r\n+            plugins: {\r\n+                legend: { display: false }\r\n+            },\r\n+\r\n+            scales: {\r\n+                y: {\r\n+                    beginAtZero: true\r\n+                }\r\n+            }\r\n+        }\r\n+    });\r\n+}\r\n+\r\n         },\r\n \r\n         updateExistingChart(data) {\r\n             this.chart.destroy();\r\n"
                },
                {
                    "date": 1764399886424,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,55 +82,21 @@\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n-createChart(data) {\r\n-    const ctx = document.getElementById('requestChart').getContext('2d');\r\n+        createChart(data) {\r\n+            const ctx = document.getElementById('requestChart').getContext('2d');\r\n \r\n-    this.chart = new Chart(ctx, {\r\n-        type: 'line',\r\n-        data: this.formatData(data),\r\n-        options: {\r\n-            responsive: true,\r\n-            maintainAspectRatio: false,\r\n-            tension: 0.4,\r\n-\r\n-            // ⭐ LINE DRAWING ANIMATION\r\n-            animation: {\r\n-                duration: 1800, // speed of drawing\r\n-                easing: 'easeInOutQuart',\r\n-            },\r\n-\r\n-            // 🐛 Worm-Like Line Reveal\r\n-            animations: {\r\n-                x: {\r\n-                    type: 'number',\r\n-                    easing: 'linear',\r\n-                    duration: 1800,\r\n-                    from: NaN, // Causes progressive reveal left→right\r\n-                },\r\n-                y: {\r\n-                    type: 'number',\r\n-                    easing: 'easeOutQuad',\r\n-                    duration: 1800,\r\n+            this.chart = new Chart(ctx, {\r\n+                type: 'line',\r\n+                data: this.formatData(data),\r\n+                options: {\r\n+                    responsive: true,\r\n+                    maintainAspectRatio: false,\r\n+                    tension: 0.4,\r\n+                    plugins: { legend: { display: false } }\r\n                 }\r\n-            },\r\n-\r\n-            interaction: { mode: 'index', intersect: false },\r\n-\r\n-            plugins: {\r\n-                legend: { display: false }\r\n-            },\r\n-\r\n-            scales: {\r\n-                y: {\r\n-                    beginAtZero: true\r\n-                }\r\n-            }\r\n-        }\r\n-    });\r\n-}\r\n-\r\n+            });\r\n         },\r\n \r\n         updateExistingChart(data) {\r\n             this.chart.destroy();\r\n"
                },
                {
                    "date": 1764399925722,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,8 @@\n         loadChartData() {\r\n             fetch(`/reports/request/chart?year=${this.view}`)\r\n                 .then(res => res.json())\r\n                 .then(data => {\r\n-                    // ✔ Check if all 12 months are zero\r\n                     const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n                     this.noData = !hasData;\r\n \r\n                     if (this.noData) {\r\n@@ -92,9 +91,41 @@\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n-                    plugins: { legend: { display: false } }\r\n+\r\n+                    // ⭐ Worm-like reveal animation\r\n+                    animation: {\r\n+                        duration: 2000,\r\n+                        easing: 'easeInOutQuart'\r\n+                    },\r\n+\r\n+                    animations: {\r\n+                        x: {\r\n+                            type: 'number',\r\n+                            easing: 'linear',\r\n+                            duration: 2000,\r\n+                            from: NaN // causes progressive reveal\r\n+                        },\r\n+                        y: {\r\n+                            type: 'number',\r\n+                            easing: 'easeOutQuad',\r\n+                            duration: 2000\r\n+                        }\r\n+                    },\r\n+\r\n+                    interaction: {\r\n+                        mode: 'index',\r\n+                        intersect: false\r\n+                    },\r\n+\r\n+                    plugins: {\r\n+                        legend: { display: false },\r\n+                    },\r\n+\r\n+                    scales: {\r\n+                        y: { beginAtZero: true }\r\n+                    }\r\n                 }\r\n             });\r\n         },\r\n \r\n"
                },
                {
                    "date": 1764399946929,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,35 +7,50 @@\n     <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n \r\n         <div class=\"flex items-center gap-3\">\r\n+\r\n+            <!-- Completed Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n+                Completed\r\n             </span>\r\n+\r\n+            <!-- Rejected Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n+                Rejected\r\n             </span>\r\n \r\n-            <select x-model=\"view\" @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+            <!-- Year Selector -->\r\n+            <select \r\n+                x-model=\"view\" \r\n+                @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\"\r\n+            >\r\n                 <template x-for=\"year in years\" :key=\"year\">\r\n                     <option :value=\"year\" x-text=\"year\"></option>\r\n                 </template>\r\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n-    <!-- If empty -->\r\n-    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n-        No data available for this year.\r\n-    </div>\r\n+    <!-- Chart + No Data Message -->\r\n+    <div class=\"h-64 p-3 relative\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n \r\n-    <!-- Chart -->\r\n-    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n+        <!-- No Data Message -->\r\n+        <div \r\n+            x-show=\"noData\"\r\n+            class=\"absolute inset-0 flex items-center justify-center text-gray-400 text-sm font-medium\"\r\n+        >\r\n+            No data available\r\n+        </div>\r\n     </div>\r\n </div>\r\n \r\n+\r\n+<!-- Alpine + Chart.js -->\r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n@@ -52,35 +67,27 @@\n         },\r\n \r\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n-            for (let y = current; y >= 2020; y--) {\r\n+            const startYear = 2020;\r\n+\r\n+            for (let y = current; y >= startYear; y--) {\r\n                 this.years.push(y);\r\n             }\r\n         },\r\n \r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n-                    this.noData = !hasData;\r\n+        async loadChartData() {\r\n+            const res = await fetch(`/reports/request/chart?year=${this.view}`);\r\n+            const data = await res.json();\r\n \r\n-                    if (this.noData) {\r\n-                        if (this.chart) {\r\n-                            this.chart.destroy();\r\n-                            this.chart = null;\r\n-                        }\r\n-                        return;\r\n-                    }\r\n+            // Check if all months contain 0 completed & rejected\r\n+            this.noData = data.every(row => row.completed === 0 && row.rejected === 0);\r\n \r\n-                    if (!this.chart) {\r\n-                        this.createChart(data);\r\n-                    } else {\r\n-                        this.updateExistingChart(data);\r\n-                    }\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+            if (!this.chart) {\r\n+                this.createChart(data);\r\n+            } else {\r\n+                this.updateExistingChart(data);\r\n+            }\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n@@ -91,38 +98,21 @@\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n-\r\n-                    // ⭐ Worm-like reveal animation\r\n-                    animation: {\r\n-                        duration: 2000,\r\n-                        easing: 'easeInOutQuart'\r\n-                    },\r\n-\r\n-                    animations: {\r\n-                        x: {\r\n-                            type: 'number',\r\n-                            easing: 'linear',\r\n-                            duration: 2000,\r\n-                            from: NaN // causes progressive reveal\r\n-                        },\r\n-                        y: {\r\n-                            type: 'number',\r\n-                            easing: 'easeOutQuad',\r\n-                            duration: 2000\r\n-                        }\r\n-                    },\r\n-\r\n                     interaction: {\r\n                         mode: 'index',\r\n                         intersect: false\r\n                     },\r\n-\r\n                     plugins: {\r\n                         legend: { display: false },\r\n+                        tooltip: {\r\n+                            callbacks: {\r\n+                                label: (context) =>\r\n+                                    `${context.dataset.label}: ${context.formattedValue}`\r\n+                            }\r\n+                        }\r\n                     },\r\n-\r\n                     scales: {\r\n                         y: { beginAtZero: true }\r\n                     }\r\n                 }\r\n"
                },
                {
                    "date": 1764400028651,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,38 +88,64 @@\n                 this.updateExistingChart(data);\r\n             }\r\n         },\r\n \r\n-        createChart(data) {\r\n-            const ctx = document.getElementById('requestChart').getContext('2d');\r\n+createChart(data) {\r\n+    const ctx = document.getElementById('requestChart').getContext('2d');\r\n \r\n-            this.chart = new Chart(ctx, {\r\n-                type: 'line',\r\n-                data: this.formatData(data),\r\n-                options: {\r\n-                    responsive: true,\r\n-                    maintainAspectRatio: false,\r\n-                    tension: 0.4,\r\n-                    interaction: {\r\n-                        mode: 'index',\r\n-                        intersect: false\r\n-                    },\r\n-                    plugins: {\r\n-                        legend: { display: false },\r\n-                        tooltip: {\r\n-                            callbacks: {\r\n-                                label: (context) =>\r\n-                                    `${context.dataset.label}: ${context.formattedValue}`\r\n-                            }\r\n+    this.chart = new Chart(ctx, {\r\n+        type: 'line',\r\n+        data: this.formatData(data),\r\n+        options: {\r\n+            responsive: true,\r\n+            maintainAspectRatio: false,\r\n+            tension: 0.4,  // smooth curve\r\n+            interaction: {\r\n+                mode: 'index',\r\n+                intersect: false\r\n+            },\r\n+            animation: {\r\n+                duration: 1200,\r\n+                easing: 'easeOutQuart',\r\n+\r\n+                // Animate lines from bottom upward\r\n+                yaxis: {\r\n+                    from: 0\r\n+                }\r\n+            },\r\n+            transitions: {\r\n+                show: {\r\n+                    animations: {\r\n+                        y: {\r\n+                            from: 0\r\n                         }\r\n-                    },\r\n-                    scales: {\r\n-                        y: { beginAtZero: true }\r\n                     }\r\n                 }\r\n-            });\r\n-        },\r\n+            },\r\n+            plugins: {\r\n+                legend: { display: false },\r\n+                tooltip: {\r\n+                    callbacks: {\r\n+                        label: (context) =>\r\n+                            `${context.dataset.label}: ${context.formattedValue}`\r\n+                    }\r\n+                }\r\n+            },\r\n+            scales: {\r\n+                y: {\r\n+                    beginAtZero: true,\r\n+                    grace: 2,\r\n+                    ticks: { stepSize: 1 }\r\n+                },\r\n+                x: {\r\n+                    ticks: { autoSkip: false }\r\n+                }\r\n+            }\r\n+        }\r\n+    });\r\n+}\r\n \r\n+\r\n         updateExistingChart(data) {\r\n             this.chart.destroy();\r\n             this.createChart(data);\r\n         },\r\n"
                },
                {
                    "date": 1764400038310,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,64 +88,38 @@\n                 this.updateExistingChart(data);\r\n             }\r\n         },\r\n \r\n-createChart(data) {\r\n-    const ctx = document.getElementById('requestChart').getContext('2d');\r\n+        createChart(data) {\r\n+            const ctx = document.getElementById('requestChart').getContext('2d');\r\n \r\n-    this.chart = new Chart(ctx, {\r\n-        type: 'line',\r\n-        data: this.formatData(data),\r\n-        options: {\r\n-            responsive: true,\r\n-            maintainAspectRatio: false,\r\n-            tension: 0.4,  // smooth curve\r\n-            interaction: {\r\n-                mode: 'index',\r\n-                intersect: false\r\n-            },\r\n-            animation: {\r\n-                duration: 1200,\r\n-                easing: 'easeOutQuart',\r\n-\r\n-                // Animate lines from bottom upward\r\n-                yaxis: {\r\n-                    from: 0\r\n-                }\r\n-            },\r\n-            transitions: {\r\n-                show: {\r\n-                    animations: {\r\n-                        y: {\r\n-                            from: 0\r\n+            this.chart = new Chart(ctx, {\r\n+                type: 'line',\r\n+                data: this.formatData(data),\r\n+                options: {\r\n+                    responsive: true,\r\n+                    maintainAspectRatio: false,\r\n+                    tension: 0.4,\r\n+                    interaction: {\r\n+                        mode: 'index',\r\n+                        intersect: false\r\n+                    },\r\n+                    plugins: {\r\n+                        legend: { display: false },\r\n+                        tooltip: {\r\n+                            callbacks: {\r\n+                                label: (context) =>\r\n+                                    `${context.dataset.label}: ${context.formattedValue}`\r\n+                            }\r\n                         }\r\n+                    },\r\n+                    scales: {\r\n+                        y: { beginAtZero: true }\r\n                     }\r\n                 }\r\n-            },\r\n-            plugins: {\r\n-                legend: { display: false },\r\n-                tooltip: {\r\n-                    callbacks: {\r\n-                        label: (context) =>\r\n-                            `${context.dataset.label}: ${context.formattedValue}`\r\n-                    }\r\n-                }\r\n-            },\r\n-            scales: {\r\n-                y: {\r\n-                    beginAtZero: true,\r\n-                    grace: 2,\r\n-                    ticks: { stepSize: 1 }\r\n-                },\r\n-                x: {\r\n-                    ticks: { autoSkip: false }\r\n-                }\r\n-            }\r\n-        }\r\n-    });\r\n-}\r\n+            });\r\n+        },\r\n \r\n-\r\n         updateExistingChart(data) {\r\n             this.chart.destroy();\r\n             this.createChart(data);\r\n         },\r\n"
                },
                {
                    "date": 1764400057495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,62 +5,41 @@\n >\r\n     <!-- Header -->\r\n     <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-\r\n         <div class=\"flex items-center gap-3\">\r\n-\r\n-            <!-- Completed Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-                Completed\r\n+                    Completed\r\n             </span>\r\n-\r\n-            <!-- Rejected Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-                Rejected\r\n+                    Rejected\r\n             </span>\r\n-\r\n-            <!-- Year Selector -->\r\n-            <select \r\n-                x-model=\"view\" \r\n-                @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\"\r\n-            >\r\n+            <select x-model=\"view\" @change=\"updateChart()\" class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n                 <template x-for=\"year in years\" :key=\"year\">\r\n                     <option :value=\"year\" x-text=\"year\"></option>\r\n                 </template>\r\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n-    <!-- Chart + No Data Message -->\r\n-    <div class=\"h-64 p-3 relative\">\r\n+    <!-- Chart -->\r\n+    <div class=\"h-64 p-3\">\r\n         <canvas id=\"requestChart\"></canvas>\r\n-\r\n-        <!-- No Data Message -->\r\n-        <div \r\n-            x-show=\"noData\"\r\n-            class=\"absolute inset-0 flex items-center justify-center text-gray-400 text-sm font-medium\"\r\n-        >\r\n-            No data available\r\n-        </div>\r\n     </div>\r\n </div>\r\n \r\n-\r\n <!-- Alpine + Chart.js -->\r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n-        view: new Date().getFullYear(),\r\n+        view: new Date().getFullYear(), // default: current year\r\n         years: [],\r\n-        noData: false,\r\n \r\n         initChart() {\r\n             this.generateYears();\r\n             this.loadChartData();\r\n@@ -74,20 +53,19 @@\n                 this.years.push(y);\r\n             }\r\n         },\r\n \r\n-        async loadChartData() {\r\n-            const res = await fetch(`/reports/request/chart?year=${this.view}`);\r\n-            const data = await res.json();\r\n-\r\n-            // Check if all months contain 0 completed & rejected\r\n-            this.noData = data.every(row => row.completed === 0 && row.rejected === 0);\r\n-\r\n-            if (!this.chart) {\r\n-                this.createChart(data);\r\n-            } else {\r\n-                this.updateExistingChart(data);\r\n-            }\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    if (!this.chart) {\r\n+                        this.createChart(data);\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n+                    }\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n@@ -110,16 +88,14 @@\n                                 label: (context) =>\r\n                                     `${context.dataset.label}: ${context.formattedValue}`\r\n                             }\r\n                         }\r\n-                    },\r\n-                    scales: {\r\n-                        y: { beginAtZero: true }\r\n                     }\r\n                 }\r\n             });\r\n         },\r\n \r\n+        // ❗ FIXED: always destroy before updating\r\n         updateExistingChart(data) {\r\n             this.chart.destroy();\r\n             this.createChart(data);\r\n         },\r\n"
                },
                {
                    "date": 1764400069272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,8 +48,9 @@\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n             const startYear = 2020;\r\n \r\n+            // Push years from current down to 2020\r\n             for (let y = current; y >= startYear; y--) {\r\n                 this.years.push(y);\r\n             }\r\n         },\r\n@@ -93,12 +94,11 @@\n                 }\r\n             });\r\n         },\r\n \r\n-        // ❗ FIXED: always destroy before updating\r\n         updateExistingChart(data) {\r\n-            this.chart.destroy();\r\n-            this.createChart(data);\r\n+            this.chart.data = this.formatData(data);\r\n+            this.chart.update();\r\n         },\r\n \r\n         formatData(data) {\r\n             return {\r\n@@ -128,5 +128,7 @@\n             this.loadChartData();\r\n         }\r\n     };\r\n }\r\n+\r\n </script>\r\n+\r\n"
                },
                {
                    "date": 1764400083747,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,41 +5,62 @@\n >\r\n     <!-- Header -->\r\n     <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n         <div class=\"flex items-center gap-3\">\r\n+\r\n+            <!-- Completed Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-                    Completed\r\n+                Completed\r\n             </span>\r\n+\r\n+            <!-- Rejected Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-                    Rejected\r\n+                Rejected\r\n             </span>\r\n-            <select x-model=\"view\" @change=\"updateChart()\" class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+\r\n+            <!-- Year Selector -->\r\n+            <select \r\n+                x-model=\"view\" \r\n+                @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\"\r\n+            >\r\n                 <template x-for=\"year in years\" :key=\"year\">\r\n                     <option :value=\"year\" x-text=\"year\"></option>\r\n                 </template>\r\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n-    <!-- Chart -->\r\n-    <div class=\"h-64 p-3\">\r\n+    <!-- Chart + No Data Message -->\r\n+    <div class=\"h-64 p-3 relative\">\r\n         <canvas id=\"requestChart\"></canvas>\r\n+\r\n+        <!-- No Data Message -->\r\n+        <div \r\n+            x-show=\"noData\"\r\n+            class=\"absolute inset-0 flex items-center justify-center text-gray-400 text-sm font-medium\"\r\n+        >\r\n+            No data available\r\n+        </div>\r\n     </div>\r\n </div>\r\n \r\n+\r\n <!-- Alpine + Chart.js -->\r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n-        view: new Date().getFullYear(), // default: current year\r\n+        view: new Date().getFullYear(),\r\n         years: [],\r\n+        noData: false,\r\n \r\n         initChart() {\r\n             this.generateYears();\r\n             this.loadChartData();\r\n@@ -48,25 +69,25 @@\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n             const startYear = 2020;\r\n \r\n-            // Push years from current down to 2020\r\n             for (let y = current; y >= startYear; y--) {\r\n                 this.years.push(y);\r\n             }\r\n         },\r\n \r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    if (!this.chart) {\r\n-                        this.createChart(data);\r\n-                    } else {\r\n-                        this.updateExistingChart(data);\r\n-                    }\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+        async loadChartData() {\r\n+            const res = await fetch(`/reports/request/chart?year=${this.view}`);\r\n+            const data = await res.json();\r\n+\r\n+            // Check if all months contain 0 completed & rejected\r\n+            this.noData = data.every(row => row.completed === 0 && row.rejected === 0);\r\n+\r\n+            if (!this.chart) {\r\n+                this.createChart(data);\r\n+            } else {\r\n+                this.updateExistingChart(data);\r\n+            }\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n@@ -89,16 +110,19 @@\n                                 label: (context) =>\r\n                                     `${context.dataset.label}: ${context.formattedValue}`\r\n                             }\r\n                         }\r\n+                    },\r\n+                    scales: {\r\n+                        y: { beginAtZero: true }\r\n                     }\r\n                 }\r\n             });\r\n         },\r\n \r\n         updateExistingChart(data) {\r\n-            this.chart.data = this.formatData(data);\r\n-            this.chart.update();\r\n+            this.chart.destroy();\r\n+            this.createChart(data);\r\n         },\r\n \r\n         formatData(data) {\r\n             return {\r\n@@ -128,7 +152,5 @@\n             this.loadChartData();\r\n         }\r\n     };\r\n }\r\n-\r\n </script>\r\n-\r\n"
                },
                {
                    "date": 1764400093475,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,62 +5,41 @@\n >\r\n     <!-- Header -->\r\n     <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-\r\n         <div class=\"flex items-center gap-3\">\r\n-\r\n-            <!-- Completed Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-                Completed\r\n+                    Completed\r\n             </span>\r\n-\r\n-            <!-- Rejected Legend -->\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-                Rejected\r\n+                    Rejected\r\n             </span>\r\n-\r\n-            <!-- Year Selector -->\r\n-            <select \r\n-                x-model=\"view\" \r\n-                @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\"\r\n-            >\r\n+            <select x-model=\"view\" @change=\"updateChart()\" class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n                 <template x-for=\"year in years\" :key=\"year\">\r\n                     <option :value=\"year\" x-text=\"year\"></option>\r\n                 </template>\r\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n-    <!-- Chart + No Data Message -->\r\n-    <div class=\"h-64 p-3 relative\">\r\n+    <!-- Chart -->\r\n+    <div class=\"h-64 p-3\">\r\n         <canvas id=\"requestChart\"></canvas>\r\n-\r\n-        <!-- No Data Message -->\r\n-        <div \r\n-            x-show=\"noData\"\r\n-            class=\"absolute inset-0 flex items-center justify-center text-gray-400 text-sm font-medium\"\r\n-        >\r\n-            No data available\r\n-        </div>\r\n     </div>\r\n </div>\r\n \r\n-\r\n <!-- Alpine + Chart.js -->\r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n-        view: new Date().getFullYear(),\r\n+        view: new Date().getFullYear(), // default: current year\r\n         years: [],\r\n-        noData: false,\r\n \r\n         initChart() {\r\n             this.generateYears();\r\n             this.loadChartData();\r\n@@ -74,20 +53,19 @@\n                 this.years.push(y);\r\n             }\r\n         },\r\n \r\n-        async loadChartData() {\r\n-            const res = await fetch(`/reports/request/chart?year=${this.view}`);\r\n-            const data = await res.json();\r\n-\r\n-            // Check if all months contain 0 completed & rejected\r\n-            this.noData = data.every(row => row.completed === 0 && row.rejected === 0);\r\n-\r\n-            if (!this.chart) {\r\n-                this.createChart(data);\r\n-            } else {\r\n-                this.updateExistingChart(data);\r\n-            }\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    if (!this.chart) {\r\n+                        this.createChart(data);\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n+                    }\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n@@ -110,16 +88,14 @@\n                                 label: (context) =>\r\n                                     `${context.dataset.label}: ${context.formattedValue}`\r\n                             }\r\n                         }\r\n-                    },\r\n-                    scales: {\r\n-                        y: { beginAtZero: true }\r\n                     }\r\n                 }\r\n             });\r\n         },\r\n \r\n+        // ❗ FIXED: always destroy before updating\r\n         updateExistingChart(data) {\r\n             this.chart.destroy();\r\n             this.createChart(data);\r\n         },\r\n"
                },
                {
                    "date": 1764400118773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,60 +5,75 @@\n >\r\n     <!-- Header -->\r\n     <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n         <div class=\"flex items-center gap-3\">\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n-                    Completed\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n             </span>\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n-                    Rejected\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n             </span>\r\n-            <select x-model=\"view\" @change=\"updateChart()\" class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+\r\n+            <select x-model=\"view\" @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n                 <template x-for=\"year in years\" :key=\"year\">\r\n                     <option :value=\"year\" x-text=\"year\"></option>\r\n                 </template>\r\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n+    <!-- If empty -->\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n+        No data available for this year.\r\n+    </div>\r\n+\r\n     <!-- Chart -->\r\n-    <div class=\"h-64 p-3\">\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n         <canvas id=\"requestChart\"></canvas>\r\n     </div>\r\n </div>\r\n \r\n-<!-- Alpine + Chart.js -->\r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n function requestChart() {\r\n     return {\r\n         chart: null,\r\n-        view: new Date().getFullYear(), // default: current year\r\n+        view: new Date().getFullYear(),\r\n         years: [],\r\n+        noData: false,\r\n \r\n         initChart() {\r\n             this.generateYears();\r\n             this.loadChartData();\r\n         },\r\n \r\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n-            const startYear = 2020;\r\n-\r\n-            for (let y = current; y >= startYear; y--) {\r\n+            for (let y = current; y >= 2020; y--) {\r\n                 this.years.push(y);\r\n             }\r\n         },\r\n \r\n         loadChartData() {\r\n             fetch(`/reports/request/chart?year=${this.view}`)\r\n                 .then(res => res.json())\r\n                 .then(data => {\r\n+                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n+                    this.noData = !hasData;\r\n+\r\n+                    if (this.noData) {\r\n+                        if (this.chart) {\r\n+                            this.chart.destroy();\r\n+                            this.chart = null;\r\n+                        }\r\n+                        return;\r\n+                    }\r\n+\r\n                     if (!this.chart) {\r\n                         this.createChart(data);\r\n                     } else {\r\n                         this.updateExistingChart(data);\r\n@@ -76,26 +91,45 @@\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n+\r\n+                    // ⭐ Worm-like reveal animation\r\n+                    animation: {\r\n+                        duration: 2000,\r\n+                        easing: 'easeInOutQuart'\r\n+                    },\r\n+\r\n+                    animations: {\r\n+                        x: {\r\n+                            type: 'number',\r\n+                            easing: 'linear',\r\n+                            duration: 2000,\r\n+                            from: NaN // causes progressive reveal\r\n+                        },\r\n+                        y: {\r\n+                            type: 'number',\r\n+                            easing: 'easeOutQuad',\r\n+                            duration: 2000\r\n+                        }\r\n+                    },\r\n+\r\n                     interaction: {\r\n                         mode: 'index',\r\n                         intersect: false\r\n                     },\r\n+\r\n                     plugins: {\r\n                         legend: { display: false },\r\n-                        tooltip: {\r\n-                            callbacks: {\r\n-                                label: (context) =>\r\n-                                    `${context.dataset.label}: ${context.formattedValue}`\r\n-                            }\r\n-                        }\r\n+                    },\r\n+\r\n+                    scales: {\r\n+                        y: { beginAtZero: true }\r\n                     }\r\n                 }\r\n             });\r\n         },\r\n \r\n-        // ❗ FIXED: always destroy before updating\r\n         updateExistingChart(data) {\r\n             this.chart.destroy();\r\n             this.createChart(data);\r\n         },\r\n"
                },
                {
                    "date": 1764400160480,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,8 +61,9 @@\n         loadChartData() {\r\n             fetch(`/reports/request/chart?year=${this.view}`)\r\n                 .then(res => res.json())\r\n                 .then(data => {\r\n+                    // ✔ Check if all 12 months are zero\r\n                     const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n                     this.noData = !hasData;\r\n \r\n                     if (this.noData) {\r\n@@ -91,41 +92,9 @@\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n-\r\n-                    // ⭐ Worm-like reveal animation\r\n-                    animation: {\r\n-                        duration: 2000,\r\n-                        easing: 'easeInOutQuart'\r\n-                    },\r\n-\r\n-                    animations: {\r\n-                        x: {\r\n-                            type: 'number',\r\n-                            easing: 'linear',\r\n-                            duration: 2000,\r\n-                            from: NaN // causes progressive reveal\r\n-                        },\r\n-                        y: {\r\n-                            type: 'number',\r\n-                            easing: 'easeOutQuad',\r\n-                            duration: 2000\r\n-                        }\r\n-                    },\r\n-\r\n-                    interaction: {\r\n-                        mode: 'index',\r\n-                        intersect: false\r\n-                    },\r\n-\r\n-                    plugins: {\r\n-                        legend: { display: false },\r\n-                    },\r\n-\r\n-                    scales: {\r\n-                        y: { beginAtZero: true }\r\n-                    }\r\n+                    plugins: { legend: { display: false } }\r\n                 }\r\n             });\r\n         },\r\n \r\n"
                },
                {
                    "date": 1764400269950,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,28 +82,43 @@\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n-        createChart(data) {\r\n-            const ctx = document.getElementById('requestChart').getContext('2d');\r\n+createChart(data) {\r\n+    const ctx = document.getElementById('requestChart').getContext('2d');\r\n \r\n-            this.chart = new Chart(ctx, {\r\n-                type: 'line',\r\n-                data: this.formatData(data),\r\n-                options: {\r\n-                    responsive: true,\r\n-                    maintainAspectRatio: false,\r\n-                    tension: 0.4,\r\n-                    plugins: { legend: { display: false } }\r\n+    this.chart = new Chart(ctx, {\r\n+        type: 'line',\r\n+        data: this.formatData(data),\r\n+        options: {\r\n+            responsive: true,\r\n+            maintainAspectRatio: false,\r\n+            tension: 0.4,\r\n+\r\n+            interaction: {\r\n+                mode: 'index',\r\n+                intersect: false\r\n+            },\r\n+\r\n+            plugins: {\r\n+                legend: { display: false },\r\n+                tooltip: {\r\n+                    enabled: true,\r\n+                    callbacks: {\r\n+                        label: (context) =>\r\n+                            `${context.dataset.label}: ${context.formattedValue}`\r\n+                    }\r\n                 }\r\n-            });\r\n-        },\r\n+            },\r\n \r\n-        updateExistingChart(data) {\r\n-            this.chart.destroy();\r\n-            this.createChart(data);\r\n-        },\r\n+            scales: {\r\n+                y: { beginAtZero: true }\r\n+            }\r\n+        }\r\n+    });\r\n+},\r\n \r\n+\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n"
                },
                {
                    "date": 1764400294082,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,43 +82,28 @@\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n-createChart(data) {\r\n-    const ctx = document.getElementById('requestChart').getContext('2d');\r\n+        createChart(data) {\r\n+            const ctx = document.getElementById('requestChart').getContext('2d');\r\n \r\n-    this.chart = new Chart(ctx, {\r\n-        type: 'line',\r\n-        data: this.formatData(data),\r\n-        options: {\r\n-            responsive: true,\r\n-            maintainAspectRatio: false,\r\n-            tension: 0.4,\r\n-\r\n-            interaction: {\r\n-                mode: 'index',\r\n-                intersect: false\r\n-            },\r\n-\r\n-            plugins: {\r\n-                legend: { display: false },\r\n-                tooltip: {\r\n-                    enabled: true,\r\n-                    callbacks: {\r\n-                        label: (context) =>\r\n-                            `${context.dataset.label}: ${context.formattedValue}`\r\n-                    }\r\n+            this.chart = new Chart(ctx, {\r\n+                type: 'line',\r\n+                data: this.formatData(data),\r\n+                options: {\r\n+                    responsive: true,\r\n+                    maintainAspectRatio: false,\r\n+                    tension: 0.4,\r\n+                    plugins: { legend: { display: false } }\r\n                 }\r\n-            },\r\n+            });\r\n+        },\r\n \r\n-            scales: {\r\n-                y: { beginAtZero: true }\r\n-            }\r\n-        }\r\n-    });\r\n-},\r\n+        updateExistingChart(data) {\r\n+            this.chart.destroy();\r\n+            this.createChart(data);\r\n+        },\r\n \r\n-\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n"
                },
                {
                    "date": 1764400387984,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,31 +57,33 @@\n                 this.years.push(y);\r\n             }\r\n         },\r\n \r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    // ✔ Check if all 12 months are zero\r\n-                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n-                    this.noData = !hasData;\r\n+        async loadChartData() {\r\n+            try {\r\n+                const res = await fetch(`/reports/request/chart?year=${this.view}`);\r\n+                const data = await res.json();\r\n \r\n-                    if (this.noData) {\r\n-                        if (this.chart) {\r\n-                            this.chart.destroy();\r\n-                            this.chart = null;\r\n-                        }\r\n-                        return;\r\n+                // Check if all months contain 0 completed & rejected\r\n+                this.noData = data.every(row => row.completed === 0 && row.rejected === 0);\r\n+\r\n+                if (this.noData) {\r\n+                    if (this.chart) {\r\n+                        this.chart.destroy();\r\n+                        this.chart = null;\r\n                     }\r\n+                    return;\r\n+                }\r\n \r\n-                    if (!this.chart) {\r\n-                        this.createChart(data);\r\n-                    } else {\r\n-                        this.updateExistingChart(data);\r\n-                    }\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+                if (!this.chart) {\r\n+                    this.createChart(data);\r\n+                } else {\r\n+                    this.updateExistingChart(data);\r\n+                }\r\n+\r\n+            } catch (err) {\r\n+                console.error(\"Chart Load Error:\", err);\r\n+            }\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n@@ -91,10 +93,31 @@\n                 data: this.formatData(data),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n-                    tension: 0.4,\r\n-                    plugins: { legend: { display: false } }\r\n+                    tension: 0.4, // smooth curves\r\n+                    animation: {\r\n+                        duration: 1500,\r\n+                        easing: 'easeOutQuart'\r\n+                    },\r\n+                    interaction: {\r\n+                        mode: 'nearest',\r\n+                        intersect: true\r\n+                    },\r\n+                    plugins: {\r\n+                        legend: { display: false },\r\n+                        tooltip: {\r\n+                            enabled: true,\r\n+                            mode: 'nearest',\r\n+                            intersect: true,\r\n+                            callbacks: {\r\n+                                label: (context) => `${context.dataset.label}: ${context.formattedValue}`\r\n+                            }\r\n+                        }\r\n+                    },\r\n+                    scales: {\r\n+                        y: { beginAtZero: true }\r\n+                    }\r\n                 }\r\n             });\r\n         },\r\n \r\n@@ -113,16 +136,18 @@\n                         borderColor: '#16a34a',\r\n                         backgroundColor: 'rgba(22,163,74,0.2)',\r\n                         borderWidth: 3,\r\n                         fill: true,\r\n+                        tension: 0.4,\r\n                     },\r\n                     {\r\n                         label: 'Rejected',\r\n                         data: data.map(d => d.rejected),\r\n                         borderColor: '#ef4444',\r\n                         backgroundColor: 'rgba(239,68,68,0.1)',\r\n                         borderWidth: 2,\r\n                         fill: false,\r\n+                        tension: 0.4,\r\n                     }\r\n                 ]\r\n             };\r\n         },\r\n"
                },
                {
                    "date": 1764400432392,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,33 +57,31 @@\n                 this.years.push(y);\r\n             }\r\n         },\r\n \r\n-        async loadChartData() {\r\n-            try {\r\n-                const res = await fetch(`/reports/request/chart?year=${this.view}`);\r\n-                const data = await res.json();\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    // ✔ Check if all 12 months are zero\r\n+                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n+                    this.noData = !hasData;\r\n \r\n-                // Check if all months contain 0 completed & rejected\r\n-                this.noData = data.every(row => row.completed === 0 && row.rejected === 0);\r\n+                    if (this.noData) {\r\n+                        if (this.chart) {\r\n+                            this.chart.destroy();\r\n+                            this.chart = null;\r\n+                        }\r\n+                        return;\r\n+                    }\r\n \r\n-                if (this.noData) {\r\n-                    if (this.chart) {\r\n-                        this.chart.destroy();\r\n-                        this.chart = null;\r\n+                    if (!this.chart) {\r\n+                        this.createChart(data);\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n                     }\r\n-                    return;\r\n-                }\r\n-\r\n-                if (!this.chart) {\r\n-                    this.createChart(data);\r\n-                } else {\r\n-                    this.updateExistingChart(data);\r\n-                }\r\n-\r\n-            } catch (err) {\r\n-                console.error(\"Chart Load Error:\", err);\r\n-            }\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n@@ -93,31 +91,10 @@\n                 data: this.formatData(data),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n-                    tension: 0.4, // smooth curves\r\n-                    animation: {\r\n-                        duration: 1500,\r\n-                        easing: 'easeOutQuart'\r\n-                    },\r\n-                    interaction: {\r\n-                        mode: 'nearest',\r\n-                        intersect: true\r\n-                    },\r\n-                    plugins: {\r\n-                        legend: { display: false },\r\n-                        tooltip: {\r\n-                            enabled: true,\r\n-                            mode: 'nearest',\r\n-                            intersect: true,\r\n-                            callbacks: {\r\n-                                label: (context) => `${context.dataset.label}: ${context.formattedValue}`\r\n-                            }\r\n-                        }\r\n-                    },\r\n-                    scales: {\r\n-                        y: { beginAtZero: true }\r\n-                    }\r\n+                    tension: 0.4,\r\n+                    plugins: { legend: { display: false } }\r\n                 }\r\n             });\r\n         },\r\n \r\n@@ -136,18 +113,16 @@\n                         borderColor: '#16a34a',\r\n                         backgroundColor: 'rgba(22,163,74,0.2)',\r\n                         borderWidth: 3,\r\n                         fill: true,\r\n-                        tension: 0.4,\r\n                     },\r\n                     {\r\n                         label: 'Rejected',\r\n                         data: data.map(d => d.rejected),\r\n                         borderColor: '#ef4444',\r\n                         backgroundColor: 'rgba(239,68,68,0.1)',\r\n                         borderWidth: 2,\r\n                         fill: false,\r\n-                        tension: 0.4,\r\n                     }\r\n                 ]\r\n             };\r\n         },\r\n"
                },
                {
                    "date": 1764400439179,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,8 @@\n         loadChartData() {\r\n             fetch(`/reports/request/chart?year=${this.view}`)\r\n                 .then(res => res.json())\r\n                 .then(data => {\r\n-                    // ✔ Check if all 12 months are zero\r\n                     const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n                     this.noData = !hasData;\r\n \r\n                     if (this.noData) {\r\n@@ -92,9 +91,41 @@\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.4,\r\n-                    plugins: { legend: { display: false } }\r\n+\r\n+                    // ⭐ Worm-like reveal animation\r\n+                    animation: {\r\n+                        duration: 2000,\r\n+                        easing: 'easeInOutQuart'\r\n+                    },\r\n+\r\n+                    animations: {\r\n+                        x: {\r\n+                            type: 'number',\r\n+                            easing: 'linear',\r\n+                            duration: 2000,\r\n+                            from: NaN // causes progressive reveal\r\n+                        },\r\n+                        y: {\r\n+                            type: 'number',\r\n+                            easing: 'easeOutQuad',\r\n+                            duration: 2000\r\n+                        }\r\n+                    },\r\n+\r\n+                    interaction: {\r\n+                        mode: 'index',\r\n+                        intersect: false\r\n+                    },\r\n+\r\n+                    plugins: {\r\n+                        legend: { display: false },\r\n+                    },\r\n+\r\n+                    scales: {\r\n+                        y: { beginAtZero: true }\r\n+                    }\r\n                 }\r\n             });\r\n         },\r\n \r\n"
                },
                {
                    "date": 1764400511338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,171 @@\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n+        <div class=\"flex items-center gap-3\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n+            </span>\r\n+\r\n+            <select x-model=\"view\" @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+                <template x-for=\"year in years\" :key=\"year\">\r\n+                    <option :value=\"year\" x-text=\"year\"></option>\r\n+                </template>\r\n+            </select>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- If empty -->\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n+        No data available for this year.\r\n+    </div>\r\n+\r\n+    <!-- Chart -->\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n+    </div>\r\n+</div>\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<script>\r\n+function requestChart() {\r\n+    return {\r\n+        chart: null,\r\n+        view: new Date().getFullYear(),\r\n+        years: [],\r\n+        noData: false,\r\n+\r\n+        initChart() {\r\n+            this.generateYears();\r\n+            this.loadChartData();\r\n+        },\r\n+\r\n+        generateYears() {\r\n+            const current = new Date().getFullYear();\r\n+            for (let y = current; y >= 2020; y--) {\r\n+                this.years.push(y);\r\n+            }\r\n+        },\r\n+\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n+                    this.noData = !hasData;\r\n+\r\n+                    if (this.noData) {\r\n+                        if (this.chart) {\r\n+                            this.chart.destroy();\r\n+                            this.chart = null;\r\n+                        }\r\n+                        return;\r\n+                    }\r\n+\r\n+                    if (!this.chart) {\r\n+                        this.createChart(data);\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n+                    }\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+        },\r\n+\r\n+createChart(data) {\r\n+    const ctx = document.getElementById('requestChart').getContext('2d');\r\n+\r\n+    this.chart = new Chart(ctx, {\r\n+        type: 'line',\r\n+        data: this.formatData(data),\r\n+        options: {\r\n+            responsive: true,\r\n+            maintainAspectRatio: false,\r\n+            tension: 0.5, // smoother curves\r\n+            animation: {\r\n+                duration: 1500,\r\n+                easing: 'easeInOutCubic',\r\n+                // staggered animation per data point\r\n+                onProgress: function(animation) {\r\n+                    // optional: can add some custom effect\r\n+                }\r\n+            },\r\n+            animations: {\r\n+                x: {\r\n+                    type: 'number',\r\n+                    easing: 'easeInOutCubic',\r\n+                    duration: 1500,\r\n+                    from: NaN\r\n+                },\r\n+                y: {\r\n+                    type: 'number',\r\n+                    easing: 'easeInOutCubic',\r\n+                    duration: 1500\r\n+                }\r\n+            },\r\n+            interaction: {\r\n+                mode: 'index',\r\n+                intersect: false\r\n+            },\r\n+            plugins: {\r\n+                legend: { display: false }\r\n+            },\r\n+            scales: {\r\n+                y: {\r\n+                    beginAtZero: true,\r\n+                    grace: '10%' // gives some breathing space at top\r\n+                }\r\n+            },\r\n+            hover: {\r\n+                mode: 'nearest',\r\n+                intersect: true\r\n+            }\r\n+        }\r\n+    });\r\n+},\r\n+\r\n+        updateExistingChart(data) {\r\n+            this.chart.destroy();\r\n+            this.createChart(data);\r\n+        },\r\n+\r\n+        formatData(data) {\r\n+            return {\r\n+                labels: data.map(d => d.month),\r\n+                datasets: [\r\n+                    {\r\n+                        label: 'Completed',\r\n+                        data: data.map(d => d.completed),\r\n+                        borderColor: '#16a34a',\r\n+                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                        borderWidth: 3,\r\n+                        fill: true,\r\n+                    },\r\n+                    {\r\n+                        label: 'Rejected',\r\n+                        data: data.map(d => d.rejected),\r\n+                        borderColor: '#ef4444',\r\n+                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                        borderWidth: 2,\r\n+                        fill: false,\r\n+                    }\r\n+                ]\r\n+            };\r\n+        },\r\n+\r\n+        updateChart() {\r\n+            this.loadChartData();\r\n+        }\r\n+    };\r\n+}\r\n+</script>\r\n"
                },
                {
                    "date": 1764400605084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,179 +81,8 @@\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n-createChart(data) {\r\n-    const ctx = document.getElementById('requestChart').getContext('2d');\r\n-\r\n-    this.chart = new Chart(ctx, {\r\n-        type: 'line',\r\n-        data: this.formatData(data),\r\n-        options: {\r\n-            responsive: true,\r\n-            maintainAspectRatio: false,\r\n-            tension: 0.5, // smoother curves\r\n-            animation: {\r\n-                duration: 1500,\r\n-                easing: 'easeInOutCubic',\r\n-                // staggered animation per data point\r\n-                onProgress: function(animation) {\r\n-                    // optional: can add some custom effect\r\n-                }\r\n-            },\r\n-            animations: {\r\n-                x: {\r\n-                    type: 'number',\r\n-                    easing: 'easeInOutCubic',\r\n-                    duration: 1500,\r\n-                    from: NaN\r\n-                },\r\n-                y: {\r\n-                    type: 'number',\r\n-                    easing: 'easeInOutCubic',\r\n-                    duration: 1500\r\n-                }\r\n-            },\r\n-            interaction: {\r\n-                mode: 'index',\r\n-                intersect: false\r\n-            },\r\n-            plugins: {\r\n-                legend: { display: false }\r\n-            },\r\n-            scales: {\r\n-                y: {\r\n-                    beginAtZero: true,\r\n-                    grace: '10%' // gives some breathing space at top\r\n-                }\r\n-            },\r\n-            hover: {\r\n-                mode: 'nearest',\r\n-                intersect: true\r\n-            }\r\n-        }\r\n-    });\r\n-},\r\n-\r\n-        updateExistingChart(data) {\r\n-            this.chart.destroy();\r\n-            this.createChart(data);\r\n-        },\r\n-\r\n-        formatData(data) {\r\n-            return {\r\n-                labels: data.map(d => d.month),\r\n-                datasets: [\r\n-                    {\r\n-                        label: 'Completed',\r\n-                        data: data.map(d => d.completed),\r\n-                        borderColor: '#16a34a',\r\n-                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n-                        borderWidth: 3,\r\n-                        fill: true,\r\n-                    },\r\n-                    {\r\n-                        label: 'Rejected',\r\n-                        data: data.map(d => d.rejected),\r\n-                        borderColor: '#ef4444',\r\n-                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n-                        borderWidth: 2,\r\n-                        fill: false,\r\n-                    }\r\n-                ]\r\n-            };\r\n-        },\r\n-\r\n-        updateChart() {\r\n-            this.loadChartData();\r\n-        }\r\n-    };\r\n-}\r\n-</script>\r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-\r\n-        <div class=\"flex items-center gap-3\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n-            </span>\r\n-\r\n-            <select x-model=\"view\" @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n-                <template x-for=\"year in years\" :key=\"year\">\r\n-                    <option :value=\"year\" x-text=\"year\"></option>\r\n-                </template>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- If empty -->\r\n-    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n-        No data available for this year.\r\n-    </div>\r\n-\r\n-    <!-- Chart -->\r\n-    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n-    </div>\r\n-</div>\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<script>\r\n-function requestChart() {\r\n-    return {\r\n-        chart: null,\r\n-        view: new Date().getFullYear(),\r\n-        years: [],\r\n-        noData: false,\r\n-\r\n-        initChart() {\r\n-            this.generateYears();\r\n-            this.loadChartData();\r\n-        },\r\n-\r\n-        generateYears() {\r\n-            const current = new Date().getFullYear();\r\n-            for (let y = current; y >= 2020; y--) {\r\n-                this.years.push(y);\r\n-            }\r\n-        },\r\n-\r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n-                    this.noData = !hasData;\r\n-\r\n-                    if (this.noData) {\r\n-                        if (this.chart) {\r\n-                            this.chart.destroy();\r\n-                            this.chart = null;\r\n-                        }\r\n-                        return;\r\n-                    }\r\n-\r\n-                    if (!this.chart) {\r\n-                        this.createChart(data);\r\n-                    } else {\r\n-                        this.updateExistingChart(data);\r\n-                    }\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n-        },\r\n-\r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n \r\n             this.chart = new Chart(ctx, {\r\n@@ -261,41 +90,46 @@\n                 data: this.formatData(data),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n-                    tension: 0.4,\r\n-\r\n-                    // ⭐ Worm-like reveal animation\r\n+                    tension: 0.5, // smoother curves\r\n                     animation: {\r\n-                        duration: 2000,\r\n-                        easing: 'easeInOutQuart'\r\n+                        duration: 1500,\r\n+                        easing: 'easeInOutCubic'\r\n                     },\r\n-\r\n                     animations: {\r\n                         x: {\r\n                             type: 'number',\r\n-                            easing: 'linear',\r\n-                            duration: 2000,\r\n-                            from: NaN // causes progressive reveal\r\n+                            easing: 'easeInOutCubic',\r\n+                            from: NaN,\r\n+                            delay(ctx) {\r\n+                                return ctx.dataIndex * 150; // stagger points\r\n+                            }\r\n                         },\r\n                         y: {\r\n                             type: 'number',\r\n-                            easing: 'easeOutQuad',\r\n-                            duration: 2000\r\n+                            easing: 'easeInOutCubic',\r\n+                            delay(ctx) {\r\n+                                return ctx.dataIndex * 150; // stagger points\r\n+                            }\r\n                         }\r\n                     },\r\n-\r\n                     interaction: {\r\n                         mode: 'index',\r\n                         intersect: false\r\n                     },\r\n-\r\n                     plugins: {\r\n-                        legend: { display: false },\r\n+                        legend: { display: false }\r\n                     },\r\n-\r\n                     scales: {\r\n-                        y: { beginAtZero: true }\r\n+                        y: {\r\n+                            beginAtZero: true,\r\n+                            grace: '10%'\r\n+                        }\r\n+                    },\r\n+                    hover: {\r\n+                        mode: 'nearest',\r\n+                        intersect: true\r\n                     }\r\n                 }\r\n             });\r\n         },\r\n@@ -315,16 +149,18 @@\n                         borderColor: '#16a34a',\r\n                         backgroundColor: 'rgba(22,163,74,0.2)',\r\n                         borderWidth: 3,\r\n                         fill: true,\r\n+                        tension: 0.5,\r\n                     },\r\n                     {\r\n                         label: 'Rejected',\r\n                         data: data.map(d => d.rejected),\r\n                         borderColor: '#ef4444',\r\n                         backgroundColor: 'rgba(239,68,68,0.1)',\r\n                         borderWidth: 2,\r\n                         fill: false,\r\n+                        tension: 0.5,\r\n                     }\r\n                 ]\r\n             };\r\n         },\r\n"
                },
                {
                    "date": 1764400715468,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,21 +64,26 @@\n                 .then(data => {\r\n                     const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n                     this.noData = !hasData;\r\n \r\n-                    if (this.noData) {\r\n+                    // Always refresh chart container\r\n+                    const canvas = document.getElementById('requestChart');\r\n+                    canvas.style.opacity = 0;\r\n+\r\n+                    setTimeout(() => {\r\n                         if (this.chart) {\r\n                             this.chart.destroy();\r\n                             this.chart = null;\r\n                         }\r\n-                        return;\r\n-                    }\r\n \r\n-                    if (!this.chart) {\r\n+                        if (this.noData) return;\r\n+\r\n                         this.createChart(data);\r\n-                    } else {\r\n-                        this.updateExistingChart(data);\r\n-                    }\r\n+\r\n+                        // Smooth fade-in\r\n+                        canvas.style.transition = 'opacity 0.5s ease';\r\n+                        canvas.style.opacity = 1;\r\n+                    }, 50); // tiny delay to allow opacity reset\r\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n@@ -90,56 +95,34 @@\n                 data: this.formatData(data),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n-                    tension: 0.5, // smoother curves\r\n+                    tension: 0.5,\r\n                     animation: {\r\n-                        duration: 1500,\r\n+                        duration: 1200,\r\n                         easing: 'easeInOutCubic'\r\n                     },\r\n                     animations: {\r\n                         x: {\r\n                             type: 'number',\r\n                             easing: 'easeInOutCubic',\r\n                             from: NaN,\r\n-                            delay(ctx) {\r\n-                                return ctx.dataIndex * 150; // stagger points\r\n-                            }\r\n+                            delay(ctx) { return ctx.dataIndex * 100; }\r\n                         },\r\n                         y: {\r\n                             type: 'number',\r\n                             easing: 'easeInOutCubic',\r\n-                            delay(ctx) {\r\n-                                return ctx.dataIndex * 150; // stagger points\r\n-                            }\r\n+                            delay(ctx) { return ctx.dataIndex * 100; }\r\n                         }\r\n                     },\r\n-                    interaction: {\r\n-                        mode: 'index',\r\n-                        intersect: false\r\n-                    },\r\n-                    plugins: {\r\n-                        legend: { display: false }\r\n-                    },\r\n-                    scales: {\r\n-                        y: {\r\n-                            beginAtZero: true,\r\n-                            grace: '10%'\r\n-                        }\r\n-                    },\r\n-                    hover: {\r\n-                        mode: 'nearest',\r\n-                        intersect: true\r\n-                    }\r\n+                    interaction: { mode: 'index', intersect: false },\r\n+                    plugins: { legend: { display: false } },\r\n+                    scales: { y: { beginAtZero: true, grace: '10%' } },\r\n+                    hover: { mode: 'nearest', intersect: true }\r\n                 }\r\n             });\r\n         },\r\n \r\n-        updateExistingChart(data) {\r\n-            this.chart.destroy();\r\n-            this.createChart(data);\r\n-        },\r\n-\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n"
                },
                {
                    "date": 1764400859470,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,8 +34,54 @@\n         <canvas id=\"requestChart\"></canvas>\r\n     </div>\r\n </div>\r\n \r\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1 flex flex-col\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n+        <div class=\"flex items-center gap-3 flex-wrap\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n+            </span>\r\n+\r\n+            <select x-model=\"view\" @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+                <template x-for=\"year in years\" :key=\"year\">\r\n+                    <option :value=\"year\" x-text=\"year\"></option>\r\n+                </template>\r\n+            </select>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- Content -->\r\n+    <div class=\"flex-1 min-h-[250px]\">\r\n+        <!-- No data message -->\r\n+        <div \r\n+            x-show=\"noData\" \r\n+            class=\"h-full flex items-center justify-center text-gray-500 text-sm transition-opacity duration-500\"\r\n+        >\r\n+            No data available for this year.\r\n+        </div>\r\n+\r\n+        <!-- Chart -->\r\n+        <div \r\n+            x-show=\"!noData\" \r\n+            class=\"h-full p-3 transition-opacity duration-500\"\r\n+        >\r\n+            <canvas id=\"requestChart\"></canvas>\r\n+        </div>\r\n+    </div>\r\n+</div>\r\n+\r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n@@ -48,15 +94,14 @@\n \r\n         initChart() {\r\n             this.generateYears();\r\n             this.loadChartData();\r\n+            window.addEventListener('resize', () => this.resizeChart());\r\n         },\r\n \r\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n-            for (let y = current; y >= 2020; y--) {\r\n-                this.years.push(y);\r\n-            }\r\n+            for (let y = current; y >= 2020; y--) this.years.push(y);\r\n         },\r\n \r\n         loadChartData() {\r\n             fetch(`/reports/request/chart?year=${this.view}`)\r\n@@ -64,9 +109,8 @@\n                 .then(data => {\r\n                     const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n                     this.noData = !hasData;\r\n \r\n-                    // Always refresh chart container\r\n                     const canvas = document.getElementById('requestChart');\r\n                     canvas.style.opacity = 0;\r\n \r\n                     setTimeout(() => {\r\n@@ -74,23 +118,19 @@\n                             this.chart.destroy();\r\n                             this.chart = null;\r\n                         }\r\n \r\n-                        if (this.noData) return;\r\n-\r\n-                        this.createChart(data);\r\n-\r\n-                        // Smooth fade-in\r\n-                        canvas.style.transition = 'opacity 0.5s ease';\r\n-                        canvas.style.opacity = 1;\r\n-                    }, 50); // tiny delay to allow opacity reset\r\n+                        if (!this.noData) {\r\n+                            this.createChart(data);\r\n+                            canvas.style.opacity = 1;\r\n+                        }\r\n+                    }, 50);\r\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n-\r\n             this.chart = new Chart(ctx, {\r\n                 type: 'line',\r\n                 data: this.formatData(data),\r\n                 options: {\r\n@@ -101,19 +141,10 @@\n                         duration: 1200,\r\n                         easing: 'easeInOutCubic'\r\n                     },\r\n                     animations: {\r\n-                        x: {\r\n-                            type: 'number',\r\n-                            easing: 'easeInOutCubic',\r\n-                            from: NaN,\r\n-                            delay(ctx) { return ctx.dataIndex * 100; }\r\n-                        },\r\n-                        y: {\r\n-                            type: 'number',\r\n-                            easing: 'easeInOutCubic',\r\n-                            delay(ctx) { return ctx.dataIndex * 100; }\r\n-                        }\r\n+                        x: { type: 'number', easing: 'easeInOutCubic', from: NaN, delay(ctx) { return ctx.dataIndex * 100; } },\r\n+                        y: { type: 'number', easing: 'easeInOutCubic', delay(ctx) { return ctx.dataIndex * 100; } }\r\n                     },\r\n                     interaction: { mode: 'index', intersect: false },\r\n                     plugins: { legend: { display: false } },\r\n                     scales: { y: { beginAtZero: true, grace: '10%' } },\r\n@@ -121,36 +152,23 @@\n                 }\r\n             });\r\n         },\r\n \r\n+        resizeChart() {\r\n+            if (this.chart) this.chart.resize();\r\n+        },\r\n+\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n-                    {\r\n-                        label: 'Completed',\r\n-                        data: data.map(d => d.completed),\r\n-                        borderColor: '#16a34a',\r\n-                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n-                        borderWidth: 3,\r\n-                        fill: true,\r\n-                        tension: 0.5,\r\n-                    },\r\n-                    {\r\n-                        label: 'Rejected',\r\n-                        data: data.map(d => d.rejected),\r\n-                        borderColor: '#ef4444',\r\n-                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n-                        borderWidth: 2,\r\n-                        fill: false,\r\n-                        tension: 0.5,\r\n-                    }\r\n+                    { label: 'Completed', data: data.map(d => d.completed), borderColor: '#16a34a', backgroundColor: 'rgba(22,163,74,0.2)', borderWidth: 3, fill: true, tension: 0.5 },\r\n+                    { label: 'Rejected', data: data.map(d => d.rejected), borderColor: '#ef4444', backgroundColor: 'rgba(239,68,68,0.1)', borderWidth: 2, fill: false, tension: 0.5 }\r\n                 ]\r\n             };\r\n         },\r\n \r\n-        updateChart() {\r\n-            this.loadChartData();\r\n-        }\r\n+        updateChart() { this.loadChartData(); }\r\n     };\r\n }\r\n </script>\r\n+\r\n"
                },
                {
                    "date": 1764400909653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,15 +70,9 @@\n         >\r\n             No data available for this year.\r\n         </div>\r\n \r\n-        <!-- Chart -->\r\n-        <div \r\n-            x-show=\"!noData\" \r\n-            class=\"h-full p-3 transition-opacity duration-500\"\r\n-        >\r\n-            <canvas id=\"requestChart\"></canvas>\r\n-        </div>\r\n+\r\n     </div>\r\n </div>\r\n \r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n"
                },
                {
                    "date": 1764400958936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,44 +1,7 @@\n <div \r\n     x-data=\"requestChart()\" \r\n     x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-\r\n-        <div class=\"flex items-center gap-3\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n-            </span>\r\n-\r\n-            <select x-model=\"view\" @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n-                <template x-for=\"year in years\" :key=\"year\">\r\n-                    <option :value=\"year\" x-text=\"year\"></option>\r\n-                </template>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- If empty -->\r\n-    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n-        No data available for this year.\r\n-    </div>\r\n-\r\n-    <!-- Chart -->\r\n-    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n-    </div>\r\n-</div>\r\n-\r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n     class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1 flex flex-col\"\r\n >\r\n     <!-- Header -->\r\n     <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n@@ -70,9 +33,15 @@\n         >\r\n             No data available for this year.\r\n         </div>\r\n \r\n-\r\n+        <!-- Chart -->\r\n+        <div \r\n+            x-show=\"!noData\" \r\n+            class=\"h-full p-3 transition-opacity duration-500\"\r\n+        >\r\n+            <canvas id=\"requestChart\"></canvas>\r\n+        </div>\r\n     </div>\r\n </div>\r\n \r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n@@ -130,12 +99,9 @@\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.5,\r\n-                    animation: {\r\n-                        duration: 1200,\r\n-                        easing: 'easeInOutCubic'\r\n-                    },\r\n+                    animation: { duration: 1200, easing: 'easeInOutCubic' },\r\n                     animations: {\r\n                         x: { type: 'number', easing: 'easeInOutCubic', from: NaN, delay(ctx) { return ctx.dataIndex * 100; } },\r\n                         y: { type: 'number', easing: 'easeInOutCubic', delay(ctx) { return ctx.dataIndex * 100; } }\r\n                     },\r\n@@ -164,5 +130,4 @@\n         updateChart() { this.loadChartData(); }\r\n     };\r\n }\r\n </script>\r\n-\r\n"
                },
                {
                    "date": 1764400971482,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,44 @@\n <div \r\n     x-data=\"requestChart()\" \r\n     x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n+        <div class=\"flex items-center gap-3\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n+            </span>\r\n+\r\n+            <select x-model=\"view\" @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+                <template x-for=\"year in years\" :key=\"year\">\r\n+                    <option :value=\"year\" x-text=\"year\"></option>\r\n+                </template>\r\n+            </select>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- If empty -->\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n+        No data available for this year.\r\n+    </div>\r\n+\r\n+    <!-- Chart -->\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n+    </div>\r\n+</div>\r\n+\r\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n     class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1 flex flex-col\"\r\n >\r\n     <!-- Header -->\r\n     <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n@@ -33,15 +70,9 @@\n         >\r\n             No data available for this year.\r\n         </div>\r\n \r\n-        <!-- Chart -->\r\n-        <div \r\n-            x-show=\"!noData\" \r\n-            class=\"h-full p-3 transition-opacity duration-500\"\r\n-        >\r\n-            <canvas id=\"requestChart\"></canvas>\r\n-        </div>\r\n+\r\n     </div>\r\n </div>\r\n \r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n@@ -99,9 +130,12 @@\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.5,\r\n-                    animation: { duration: 1200, easing: 'easeInOutCubic' },\r\n+                    animation: {\r\n+                        duration: 1200,\r\n+                        easing: 'easeInOutCubic'\r\n+                    },\r\n                     animations: {\r\n                         x: { type: 'number', easing: 'easeInOutCubic', from: NaN, delay(ctx) { return ctx.dataIndex * 100; } },\r\n                         y: { type: 'number', easing: 'easeInOutCubic', delay(ctx) { return ctx.dataIndex * 100; } }\r\n                     },\r\n@@ -130,4 +164,5 @@\n         updateChart() { this.loadChartData(); }\r\n     };\r\n }\r\n </script>\r\n+\r\n"
                },
                {
                    "date": 1764401009404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,44 +1,7 @@\n <div \r\n     x-data=\"requestChart()\" \r\n     x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-\r\n-        <div class=\"flex items-center gap-3\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n-            </span>\r\n-\r\n-            <select x-model=\"view\" @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n-                <template x-for=\"year in years\" :key=\"year\">\r\n-                    <option :value=\"year\" x-text=\"year\"></option>\r\n-                </template>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- If empty -->\r\n-    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n-        No data available for this year.\r\n-    </div>\r\n-\r\n-    <!-- Chart -->\r\n-    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n-    </div>\r\n-</div>\r\n-\r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n     class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1 flex flex-col\"\r\n >\r\n     <!-- Header -->\r\n     <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n"
                },
                {
                    "date": 1764401016219,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,14 @@\n <div \r\n     x-data=\"requestChart()\" \r\n     x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1 flex flex-col\"\r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n >\r\n     <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n+    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n \r\n-        <div class=\"flex items-center gap-3 flex-wrap\">\r\n+        <div class=\"flex items-center gap-3\">\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n             </span>\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n@@ -23,109 +23,15 @@\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n-    <!-- Content -->\r\n-    <div class=\"flex-1 min-h-[250px]\">\r\n-        <!-- No data message -->\r\n-        <div \r\n-            x-show=\"noData\" \r\n-            class=\"h-full flex items-center justify-center text-gray-500 text-sm transition-opacity duration-500\"\r\n-        >\r\n-            No data available for this year.\r\n-        </div>\r\n+    <!-- If empty -->\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n+        No data available for this year.\r\n+    </div>\r\n \r\n-\r\n+    <!-- Chart -->\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n     </div>\r\n </div>\r\n \r\n-<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<script>\r\n-function requestChart() {\r\n-    return {\r\n-        chart: null,\r\n-        view: new Date().getFullYear(),\r\n-        years: [],\r\n-        noData: false,\r\n-\r\n-        initChart() {\r\n-            this.generateYears();\r\n-            this.loadChartData();\r\n-            window.addEventListener('resize', () => this.resizeChart());\r\n-        },\r\n-\r\n-        generateYears() {\r\n-            const current = new Date().getFullYear();\r\n-            for (let y = current; y >= 2020; y--) this.years.push(y);\r\n-        },\r\n-\r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n-                    this.noData = !hasData;\r\n-\r\n-                    const canvas = document.getElementById('requestChart');\r\n-                    canvas.style.opacity = 0;\r\n-\r\n-                    setTimeout(() => {\r\n-                        if (this.chart) {\r\n-                            this.chart.destroy();\r\n-                            this.chart = null;\r\n-                        }\r\n-\r\n-                        if (!this.noData) {\r\n-                            this.createChart(data);\r\n-                            canvas.style.opacity = 1;\r\n-                        }\r\n-                    }, 50);\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n-        },\r\n-\r\n-        createChart(data) {\r\n-            const ctx = document.getElementById('requestChart').getContext('2d');\r\n-            this.chart = new Chart(ctx, {\r\n-                type: 'line',\r\n-                data: this.formatData(data),\r\n-                options: {\r\n-                    responsive: true,\r\n-                    maintainAspectRatio: false,\r\n-                    tension: 0.5,\r\n-                    animation: {\r\n-                        duration: 1200,\r\n-                        easing: 'easeInOutCubic'\r\n-                    },\r\n-                    animations: {\r\n-                        x: { type: 'number', easing: 'easeInOutCubic', from: NaN, delay(ctx) { return ctx.dataIndex * 100; } },\r\n-                        y: { type: 'number', easing: 'easeInOutCubic', delay(ctx) { return ctx.dataIndex * 100; } }\r\n-                    },\r\n-                    interaction: { mode: 'index', intersect: false },\r\n-                    plugins: { legend: { display: false } },\r\n-                    scales: { y: { beginAtZero: true, grace: '10%' } },\r\n-                    hover: { mode: 'nearest', intersect: true }\r\n-                }\r\n-            });\r\n-        },\r\n-\r\n-        resizeChart() {\r\n-            if (this.chart) this.chart.resize();\r\n-        },\r\n-\r\n-        formatData(data) {\r\n-            return {\r\n-                labels: data.map(d => d.month),\r\n-                datasets: [\r\n-                    { label: 'Completed', data: data.map(d => d.completed), borderColor: '#16a34a', backgroundColor: 'rgba(22,163,74,0.2)', borderWidth: 3, fill: true, tension: 0.5 },\r\n-                    { label: 'Rejected', data: data.map(d => d.rejected), borderColor: '#ef4444', backgroundColor: 'rgba(239,68,68,0.1)', borderWidth: 2, fill: false, tension: 0.5 }\r\n-                ]\r\n-            };\r\n-        },\r\n-\r\n-        updateChart() { this.loadChartData(); }\r\n-    };\r\n-}\r\n-</script>\r\n-\r\n"
                },
                {
                    "date": 1764401043530,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,165 @@\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n+        <div class=\"flex items-center gap-3\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n+            </span>\r\n+\r\n+            <select x-model=\"view\" @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+                <template x-for=\"year in years\" :key=\"year\">\r\n+                    <option :value=\"year\" x-text=\"year\"></option>\r\n+                </template>\r\n+            </select>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- If empty -->\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n+        No data available for this year.\r\n+    </div>\r\n+\r\n+    <!-- Chart -->\r\n+</div>\r\n+\r\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1 flex flex-col\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n+        <div class=\"flex items-center gap-3 flex-wrap\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n+            </span>\r\n+\r\n+            <select x-model=\"view\" @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+                <template x-for=\"year in years\" :key=\"year\">\r\n+                    <option :value=\"year\" x-text=\"year\"></option>\r\n+                </template>\r\n+            </select>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- Content -->\r\n+    <div class=\"flex-1 min-h-[250px]\">\r\n+        <!-- No data message -->\r\n+        <div \r\n+            x-show=\"noData\" \r\n+            class=\"h-full flex items-center justify-center text-gray-500 text-sm transition-opacity duration-500\"\r\n+        >\r\n+            No data available for this year.\r\n+        </div>\r\n+\r\n+\r\n+    </div>\r\n+</div>\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<script>\r\n+function requestChart() {\r\n+    return {\r\n+        chart: null,\r\n+        view: new Date().getFullYear(),\r\n+        years: [],\r\n+        noData: false,\r\n+\r\n+        initChart() {\r\n+            this.generateYears();\r\n+            this.loadChartData();\r\n+            window.addEventListener('resize', () => this.resizeChart());\r\n+        },\r\n+\r\n+        generateYears() {\r\n+            const current = new Date().getFullYear();\r\n+            for (let y = current; y >= 2020; y--) this.years.push(y);\r\n+        },\r\n+\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n+                    this.noData = !hasData;\r\n+\r\n+                    const canvas = document.getElementById('requestChart');\r\n+                    canvas.style.opacity = 0;\r\n+\r\n+                    setTimeout(() => {\r\n+                        if (this.chart) {\r\n+                            this.chart.destroy();\r\n+                            this.chart = null;\r\n+                        }\r\n+\r\n+                        if (!this.noData) {\r\n+                            this.createChart(data);\r\n+                            canvas.style.opacity = 1;\r\n+                        }\r\n+                    }, 50);\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+        },\r\n+\r\n+        createChart(data) {\r\n+            const ctx = document.getElementById('requestChart').getContext('2d');\r\n+            this.chart = new Chart(ctx, {\r\n+                type: 'line',\r\n+                data: this.formatData(data),\r\n+                options: {\r\n+                    responsive: true,\r\n+                    maintainAspectRatio: false,\r\n+                    tension: 0.5,\r\n+                    animation: {\r\n+                        duration: 1200,\r\n+                        easing: 'easeInOutCubic'\r\n+                    },\r\n+                    animations: {\r\n+                        x: { type: 'number', easing: 'easeInOutCubic', from: NaN, delay(ctx) { return ctx.dataIndex * 100; } },\r\n+                        y: { type: 'number', easing: 'easeInOutCubic', delay(ctx) { return ctx.dataIndex * 100; } }\r\n+                    },\r\n+                    interaction: { mode: 'index', intersect: false },\r\n+                    plugins: { legend: { display: false } },\r\n+                    scales: { y: { beginAtZero: true, grace: '10%' } },\r\n+                    hover: { mode: 'nearest', intersect: true }\r\n+                }\r\n+            });\r\n+        },\r\n+\r\n+        resizeChart() {\r\n+            if (this.chart) this.chart.resize();\r\n+        },\r\n+\r\n+        formatData(data) {\r\n+            return {\r\n+                labels: data.map(d => d.month),\r\n+                datasets: [\r\n+                    { label: 'Completed', data: data.map(d => d.completed), borderColor: '#16a34a', backgroundColor: 'rgba(22,163,74,0.2)', borderWidth: 3, fill: true, tension: 0.5 },\r\n+                    { label: 'Rejected', data: data.map(d => d.rejected), borderColor: '#ef4444', backgroundColor: 'rgba(239,68,68,0.1)', borderWidth: 2, fill: false, tension: 0.5 }\r\n+                ]\r\n+            };\r\n+        },\r\n+\r\n+        updateChart() { this.loadChartData(); }\r\n+    };\r\n+}\r\n+</script>\r\n+\r\n"
                },
                {
                    "date": 1764401051325,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,156 @@\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n+        <div class=\"flex items-center gap-3\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n+            </span>\r\n+\r\n+            <select x-model=\"view\" @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+                <template x-for=\"year in years\" :key=\"year\">\r\n+                    <option :value=\"year\" x-text=\"year\"></option>\r\n+                </template>\r\n+            </select>\r\n+        </div>\r\n+    </div>\r\n+\r\n+    <!-- If empty -->\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n+        No data available for this year.\r\n+    </div>\r\n+\r\n+    <!-- Chart -->\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n+    </div>\r\n+</div>\r\n+\r\n+<div \r\n+    x-data=\"requestChart()\" \r\n+    x-init=\"initChart()\" \r\n+    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1 flex flex-col\"\r\n+>\r\n+    <!-- Header -->\r\n+    <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n+        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n+\r\n+        <div class=\"flex items-center gap-3 flex-wrap\">\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n+            </span>\r\n+            <span class=\"flex items-center gap-1 text-sm\">\r\n+                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n+            </span>\r\n+\r\n+            <select x-model=\"view\" @change=\"updateChart()\" \r\n+                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n+                <template x-for=\"year in years\" :key=\"year\">\r\n+                    <option :value=\"year\" x-text=\"year\"></option>\r\n+                </template>\r\n+            </select>\r\n+        </div>\r\n+    </div>\r\n+\r\n+</div>\r\n+\r\n+<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n+<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n+\r\n+<script>\r\n+function requestChart() {\r\n+    return {\r\n+        chart: null,\r\n+        view: new Date().getFullYear(),\r\n+        years: [],\r\n+        noData: false,\r\n+\r\n+        initChart() {\r\n+            this.generateYears();\r\n+            this.loadChartData();\r\n+            window.addEventListener('resize', () => this.resizeChart());\r\n+        },\r\n+\r\n+        generateYears() {\r\n+            const current = new Date().getFullYear();\r\n+            for (let y = current; y >= 2020; y--) this.years.push(y);\r\n+        },\r\n+\r\n+        loadChartData() {\r\n+            fetch(`/reports/request/chart?year=${this.view}`)\r\n+                .then(res => res.json())\r\n+                .then(data => {\r\n+                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n+                    this.noData = !hasData;\r\n+\r\n+                    const canvas = document.getElementById('requestChart');\r\n+                    canvas.style.opacity = 0;\r\n+\r\n+                    setTimeout(() => {\r\n+                        if (this.chart) {\r\n+                            this.chart.destroy();\r\n+                            this.chart = null;\r\n+                        }\r\n+\r\n+                        if (!this.noData) {\r\n+                            this.createChart(data);\r\n+                            canvas.style.opacity = 1;\r\n+                        }\r\n+                    }, 50);\r\n+                })\r\n+                .catch(err => console.error(\"Chart Load Error:\", err));\r\n+        },\r\n+\r\n+        createChart(data) {\r\n+            const ctx = document.getElementById('requestChart').getContext('2d');\r\n+            this.chart = new Chart(ctx, {\r\n+                type: 'line',\r\n+                data: this.formatData(data),\r\n+                options: {\r\n+                    responsive: true,\r\n+                    maintainAspectRatio: false,\r\n+                    tension: 0.5,\r\n+                    animation: {\r\n+                        duration: 1200,\r\n+                        easing: 'easeInOutCubic'\r\n+                    },\r\n+                    animations: {\r\n+                        x: { type: 'number', easing: 'easeInOutCubic', from: NaN, delay(ctx) { return ctx.dataIndex * 100; } },\r\n+                        y: { type: 'number', easing: 'easeInOutCubic', delay(ctx) { return ctx.dataIndex * 100; } }\r\n+                    },\r\n+                    interaction: { mode: 'index', intersect: false },\r\n+                    plugins: { legend: { display: false } },\r\n+                    scales: { y: { beginAtZero: true, grace: '10%' } },\r\n+                    hover: { mode: 'nearest', intersect: true }\r\n+                }\r\n+            });\r\n+        },\r\n+\r\n+        resizeChart() {\r\n+            if (this.chart) this.chart.resize();\r\n+        },\r\n+\r\n+        formatData(data) {\r\n+            return {\r\n+                labels: data.map(d => d.month),\r\n+                datasets: [\r\n+                    { label: 'Completed', data: data.map(d => d.completed), borderColor: '#16a34a', backgroundColor: 'rgba(22,163,74,0.2)', borderWidth: 3, fill: true, tension: 0.5 },\r\n+                    { label: 'Rejected', data: data.map(d => d.rejected), borderColor: '#ef4444', backgroundColor: 'rgba(239,68,68,0.1)', borderWidth: 2, fill: false, tension: 0.5 }\r\n+                ]\r\n+            };\r\n+        },\r\n+\r\n+        updateChart() { this.loadChartData(); }\r\n+    };\r\n+}\r\n+</script>\r\n+\r\n"
                },
                {
                    "date": 1764401067088,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,12 +23,8 @@\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n-    <!-- If empty -->\r\n-    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n-        No data available for this year.\r\n-    </div>\r\n \r\n     <!-- Chart -->\r\n     <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n         <canvas id=\"requestChart\"></canvas>\r\n@@ -153,206 +149,4 @@\n     };\r\n }\r\n </script>\r\n \r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-\r\n-        <div class=\"flex items-center gap-3\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n-            </span>\r\n-\r\n-            <select x-model=\"view\" @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n-                <template x-for=\"year in years\" :key=\"year\">\r\n-                    <option :value=\"year\" x-text=\"year\"></option>\r\n-                </template>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- If empty -->\r\n-    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n-        No data available for this year.\r\n-    </div>\r\n-\r\n-    <!-- Chart -->\r\n-</div>\r\n-\r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1 flex flex-col\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-\r\n-        <div class=\"flex items-center gap-3 flex-wrap\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n-            </span>\r\n-\r\n-            <select x-model=\"view\" @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n-                <template x-for=\"year in years\" :key=\"year\">\r\n-                    <option :value=\"year\" x-text=\"year\"></option>\r\n-                </template>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- Content -->\r\n-    <div class=\"flex-1 min-h-[250px]\">\r\n-        <!-- No data message -->\r\n-        <div \r\n-            x-show=\"noData\" \r\n-            class=\"h-full flex items-center justify-center text-gray-500 text-sm transition-opacity duration-500\"\r\n-        >\r\n-            No data available for this year.\r\n-        </div>\r\n-\r\n-\r\n-    </div>\r\n-</div>\r\n-\r\n-<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n-<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n-\r\n-<script>\r\n-function requestChart() {\r\n-    return {\r\n-        chart: null,\r\n-        view: new Date().getFullYear(),\r\n-        years: [],\r\n-        noData: false,\r\n-\r\n-        initChart() {\r\n-            this.generateYears();\r\n-            this.loadChartData();\r\n-            window.addEventListener('resize', () => this.resizeChart());\r\n-        },\r\n-\r\n-        generateYears() {\r\n-            const current = new Date().getFullYear();\r\n-            for (let y = current; y >= 2020; y--) this.years.push(y);\r\n-        },\r\n-\r\n-        loadChartData() {\r\n-            fetch(`/reports/request/chart?year=${this.view}`)\r\n-                .then(res => res.json())\r\n-                .then(data => {\r\n-                    const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n-                    this.noData = !hasData;\r\n-\r\n-                    const canvas = document.getElementById('requestChart');\r\n-                    canvas.style.opacity = 0;\r\n-\r\n-                    setTimeout(() => {\r\n-                        if (this.chart) {\r\n-                            this.chart.destroy();\r\n-                            this.chart = null;\r\n-                        }\r\n-\r\n-                        if (!this.noData) {\r\n-                            this.createChart(data);\r\n-                            canvas.style.opacity = 1;\r\n-                        }\r\n-                    }, 50);\r\n-                })\r\n-                .catch(err => console.error(\"Chart Load Error:\", err));\r\n-        },\r\n-\r\n-        createChart(data) {\r\n-            const ctx = document.getElementById('requestChart').getContext('2d');\r\n-            this.chart = new Chart(ctx, {\r\n-                type: 'line',\r\n-                data: this.formatData(data),\r\n-                options: {\r\n-                    responsive: true,\r\n-                    maintainAspectRatio: false,\r\n-                    tension: 0.5,\r\n-                    animation: {\r\n-                        duration: 1200,\r\n-                        easing: 'easeInOutCubic'\r\n-                    },\r\n-                    animations: {\r\n-                        x: { type: 'number', easing: 'easeInOutCubic', from: NaN, delay(ctx) { return ctx.dataIndex * 100; } },\r\n-                        y: { type: 'number', easing: 'easeInOutCubic', delay(ctx) { return ctx.dataIndex * 100; } }\r\n-                    },\r\n-                    interaction: { mode: 'index', intersect: false },\r\n-                    plugins: { legend: { display: false } },\r\n-                    scales: { y: { beginAtZero: true, grace: '10%' } },\r\n-                    hover: { mode: 'nearest', intersect: true }\r\n-                }\r\n-            });\r\n-        },\r\n-\r\n-        resizeChart() {\r\n-            if (this.chart) this.chart.resize();\r\n-        },\r\n-\r\n-        formatData(data) {\r\n-            return {\r\n-                labels: data.map(d => d.month),\r\n-                datasets: [\r\n-                    { label: 'Completed', data: data.map(d => d.completed), borderColor: '#16a34a', backgroundColor: 'rgba(22,163,74,0.2)', borderWidth: 3, fill: true, tension: 0.5 },\r\n-                    { label: 'Rejected', data: data.map(d => d.rejected), borderColor: '#ef4444', backgroundColor: 'rgba(239,68,68,0.1)', borderWidth: 2, fill: false, tension: 0.5 }\r\n-                ]\r\n-            };\r\n-        },\r\n-\r\n-        updateChart() { this.loadChartData(); }\r\n-    };\r\n-}\r\n-</script>\r\n-\r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-\r\n-        <div class=\"flex items-center gap-3\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n-            </span>\r\n-\r\n-            <select x-model=\"view\" @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n-                <template x-for=\"year in years\" :key=\"year\">\r\n-                    <option :value=\"year\" x-text=\"year\"></option>\r\n-                </template>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- If empty -->\r\n-    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n-        No data available for this year.\r\n-    </div>\r\n-\r\n-    <!-- Chart -->\r\n-    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n-    </div>\r\n-</div>\r\n-\r\n"
                },
                {
                    "date": 1764401074420,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,13 +23,14 @@\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n+    <!-- If empty -->\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n+        No data available for this year.\r\n+    </div>\r\n \r\n-    <!-- Chart -->\r\n-    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n-    </div>\r\n+\r\n </div>\r\n \r\n <div \r\n     x-data=\"requestChart()\" \r\n"
                },
                {
                    "date": 1764401082024,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,12 @@\n     <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n         No data available for this year.\r\n     </div>\r\n \r\n-\r\n+    <!-- Chart -->\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n+    </div>\r\n </div>\r\n \r\n <div \r\n     x-data=\"requestChart()\" \r\n@@ -57,8 +60,20 @@\n             </select>\r\n         </div>\r\n     </div>\r\n \r\n+    <!-- Content -->\r\n+    <div class=\"flex-1 min-h-[250px]\">\r\n+        <!-- No data message -->\r\n+        <div \r\n+            x-show=\"noData\" \r\n+            class=\"h-full flex items-center justify-center text-gray-500 text-sm transition-opacity duration-500\"\r\n+        >\r\n+            No data available for this year.\r\n+        </div>\r\n+\r\n+\r\n+    </div>\r\n </div>\r\n \r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n"
                },
                {
                    "date": 1764401101846,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,15 @@\n         >\r\n             No data available for this year.\r\n         </div>\r\n \r\n-\r\n+        <!-- Chart -->\r\n+        <div \r\n+            x-show=\"!noData\" \r\n+            class=\"h-full p-3 transition-opacity duration-500\"\r\n+        >\r\n+            <canvas id=\"requestChart\"></canvas>\r\n+        </div>\r\n     </div>\r\n </div>\r\n \r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n"
                },
                {
                    "date": 1764401108384,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,54 +34,8 @@\n         <canvas id=\"requestChart\"></canvas>\r\n     </div>\r\n </div>\r\n \r\n-<div \r\n-    x-data=\"requestChart()\" \r\n-    x-init=\"initChart()\" \r\n-    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1 flex flex-col\"\r\n->\r\n-    <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n-        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n-\r\n-        <div class=\"flex items-center gap-3 flex-wrap\">\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n-            </span>\r\n-            <span class=\"flex items-center gap-1 text-sm\">\r\n-                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>Rejected\r\n-            </span>\r\n-\r\n-            <select x-model=\"view\" @change=\"updateChart()\" \r\n-                class=\"ml-2 border rounded-md text-sm px-3 py-1 w-28\">\r\n-                <template x-for=\"year in years\" :key=\"year\">\r\n-                    <option :value=\"year\" x-text=\"year\"></option>\r\n-                </template>\r\n-            </select>\r\n-        </div>\r\n-    </div>\r\n-\r\n-    <!-- Content -->\r\n-    <div class=\"flex-1 min-h-[250px]\">\r\n-        <!-- No data message -->\r\n-        <div \r\n-            x-show=\"noData\" \r\n-            class=\"h-full flex items-center justify-center text-gray-500 text-sm transition-opacity duration-500\"\r\n-        >\r\n-            No data available for this year.\r\n-        </div>\r\n-\r\n-        <!-- Chart -->\r\n-        <div \r\n-            x-show=\"!noData\" \r\n-            class=\"h-full p-3 transition-opacity duration-500\"\r\n-        >\r\n-            <canvas id=\"requestChart\"></canvas>\r\n-        </div>\r\n-    </div>\r\n-</div>\r\n-\r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n \r\n <script>\r\n@@ -94,14 +48,15 @@\n \r\n         initChart() {\r\n             this.generateYears();\r\n             this.loadChartData();\r\n-            window.addEventListener('resize', () => this.resizeChart());\r\n         },\r\n \r\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n-            for (let y = current; y >= 2020; y--) this.years.push(y);\r\n+            for (let y = current; y >= 2020; y--) {\r\n+                this.years.push(y);\r\n+            }\r\n         },\r\n \r\n         loadChartData() {\r\n             fetch(`/reports/request/chart?year=${this.view}`)\r\n@@ -109,8 +64,9 @@\n                 .then(data => {\r\n                     const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n                     this.noData = !hasData;\r\n \r\n+                    // Always refresh chart container\r\n                     const canvas = document.getElementById('requestChart');\r\n                     canvas.style.opacity = 0;\r\n \r\n                     setTimeout(() => {\r\n@@ -118,19 +74,23 @@\n                             this.chart.destroy();\r\n                             this.chart = null;\r\n                         }\r\n \r\n-                        if (!this.noData) {\r\n-                            this.createChart(data);\r\n-                            canvas.style.opacity = 1;\r\n-                        }\r\n-                    }, 50);\r\n+                        if (this.noData) return;\r\n+\r\n+                        this.createChart(data);\r\n+\r\n+                        // Smooth fade-in\r\n+                        canvas.style.transition = 'opacity 0.5s ease';\r\n+                        canvas.style.opacity = 1;\r\n+                    }, 50); // tiny delay to allow opacity reset\r\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n+\r\n             this.chart = new Chart(ctx, {\r\n                 type: 'line',\r\n                 data: this.formatData(data),\r\n                 options: {\r\n@@ -141,10 +101,19 @@\n                         duration: 1200,\r\n                         easing: 'easeInOutCubic'\r\n                     },\r\n                     animations: {\r\n-                        x: { type: 'number', easing: 'easeInOutCubic', from: NaN, delay(ctx) { return ctx.dataIndex * 100; } },\r\n-                        y: { type: 'number', easing: 'easeInOutCubic', delay(ctx) { return ctx.dataIndex * 100; } }\r\n+                        x: {\r\n+                            type: 'number',\r\n+                            easing: 'easeInOutCubic',\r\n+                            from: NaN,\r\n+                            delay(ctx) { return ctx.dataIndex * 100; }\r\n+                        },\r\n+                        y: {\r\n+                            type: 'number',\r\n+                            easing: 'easeInOutCubic',\r\n+                            delay(ctx) { return ctx.dataIndex * 100; }\r\n+                        }\r\n                     },\r\n                     interaction: { mode: 'index', intersect: false },\r\n                     plugins: { legend: { display: false } },\r\n                     scales: { y: { beginAtZero: true, grace: '10%' } },\r\n@@ -152,23 +121,36 @@\n                 }\r\n             });\r\n         },\r\n \r\n-        resizeChart() {\r\n-            if (this.chart) this.chart.resize();\r\n-        },\r\n-\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n-                    { label: 'Completed', data: data.map(d => d.completed), borderColor: '#16a34a', backgroundColor: 'rgba(22,163,74,0.2)', borderWidth: 3, fill: true, tension: 0.5 },\r\n-                    { label: 'Rejected', data: data.map(d => d.rejected), borderColor: '#ef4444', backgroundColor: 'rgba(239,68,68,0.1)', borderWidth: 2, fill: false, tension: 0.5 }\r\n+                    {\r\n+                        label: 'Completed',\r\n+                        data: data.map(d => d.completed),\r\n+                        borderColor: '#16a34a',\r\n+                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                        borderWidth: 3,\r\n+                        fill: true,\r\n+                        tension: 0.5,\r\n+                    },\r\n+                    {\r\n+                        label: 'Rejected',\r\n+                        data: data.map(d => d.rejected),\r\n+                        borderColor: '#ef4444',\r\n+                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                        borderWidth: 2,\r\n+                        fill: false,\r\n+                        tension: 0.5,\r\n+                    }\r\n                 ]\r\n             };\r\n         },\r\n \r\n-        updateChart() { this.loadChartData(); }\r\n+        updateChart() {\r\n+            this.loadChartData();\r\n+        }\r\n     };\r\n }\r\n </script>\r\n-\r\n"
                },
                {
                    "date": 1764401197619,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,14 +24,14 @@\n         </div>\r\n     </div>\r\n \r\n     <!-- If empty -->\r\n-    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm transition-opacity duration-500\">\r\n         No data available for this year.\r\n     </div>\r\n \r\n     <!-- Chart -->\r\n-    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3 transition-opacity duration-500\">\r\n         <canvas id=\"requestChart\"></canvas>\r\n     </div>\r\n </div>\r\n \r\n@@ -52,11 +52,9 @@\n         },\r\n \r\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n-            for (let y = current; y >= 2020; y--) {\r\n-                this.years.push(y);\r\n-            }\r\n+            for (let y = current; y >= 2020; y--) this.years.push(y);\r\n         },\r\n \r\n         loadChartData() {\r\n             fetch(`/reports/request/chart?year=${this.view}`)\r\n@@ -64,92 +62,57 @@\n                 .then(data => {\r\n                     const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n                     this.noData = !hasData;\r\n \r\n-                    // Always refresh chart container\r\n-                    const canvas = document.getElementById('requestChart');\r\n-                    canvas.style.opacity = 0;\r\n-\r\n-                    setTimeout(() => {\r\n-                        if (this.chart) {\r\n-                            this.chart.destroy();\r\n-                            this.chart = null;\r\n-                        }\r\n-\r\n-                        if (this.noData) return;\r\n-\r\n-                        this.createChart(data);\r\n-\r\n-                        // Smooth fade-in\r\n-                        canvas.style.transition = 'opacity 0.5s ease';\r\n-                        canvas.style.opacity = 1;\r\n-                    }, 50); // tiny delay to allow opacity reset\r\n+                    if (!this.chart) {\r\n+                        if (!this.noData) this.createChart(data);\r\n+                    } else {\r\n+                        this.refreshChart(data);\r\n+                    }\r\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n-\r\n             this.chart = new Chart(ctx, {\r\n                 type: 'line',\r\n                 data: this.formatData(data),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.5,\r\n-                    animation: {\r\n-                        duration: 1200,\r\n-                        easing: 'easeInOutCubic'\r\n-                    },\r\n-                    animations: {\r\n-                        x: {\r\n-                            type: 'number',\r\n-                            easing: 'easeInOutCubic',\r\n-                            from: NaN,\r\n-                            delay(ctx) { return ctx.dataIndex * 100; }\r\n-                        },\r\n-                        y: {\r\n-                            type: 'number',\r\n-                            easing: 'easeInOutCubic',\r\n-                            delay(ctx) { return ctx.dataIndex * 100; }\r\n-                        }\r\n-                    },\r\n+                    animation: { duration: 800, easing: 'easeInOutCubic' },\r\n                     interaction: { mode: 'index', intersect: false },\r\n                     plugins: { legend: { display: false } },\r\n                     scales: { y: { beginAtZero: true, grace: '10%' } },\r\n                     hover: { mode: 'nearest', intersect: true }\r\n                 }\r\n             });\r\n         },\r\n \r\n+        refreshChart(data) {\r\n+            // Update existing chart data smoothly\r\n+            this.chart.data.labels = data.map(d => d.month);\r\n+            this.chart.data.datasets[0].data = data.map(d => d.completed);\r\n+            this.chart.data.datasets[1].data = data.map(d => d.rejected);\r\n+            this.chart.update({\r\n+                duration: 800,\r\n+                easing: 'easeInOutCubic'\r\n+            });\r\n+        },\r\n+\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n-                    {\r\n-                        label: 'Completed',\r\n-                        data: data.map(d => d.completed),\r\n-                        borderColor: '#16a34a',\r\n-                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n-                        borderWidth: 3,\r\n-                        fill: true,\r\n-                        tension: 0.5,\r\n-                    },\r\n-                    {\r\n-                        label: 'Rejected',\r\n-                        data: data.map(d => d.rejected),\r\n-                        borderColor: '#ef4444',\r\n-                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n-                        borderWidth: 2,\r\n-                        fill: false,\r\n-                        tension: 0.5,\r\n-                    }\r\n+                    { label: 'Completed', data: data.map(d => d.completed), borderColor: '#16a34a', backgroundColor: 'rgba(22,163,74,0.2)', borderWidth: 3, fill: true, tension: 0.5 },\r\n+                    { label: 'Rejected', data: data.map(d => d.rejected), borderColor: '#ef4444', backgroundColor: 'rgba(239,68,68,0.1)', borderWidth: 2, fill: false, tension: 0.5 }\r\n                 ]\r\n             };\r\n         },\r\n \r\n-        updateChart() {\r\n+        updateChart() { \r\n             this.loadChartData();\r\n         }\r\n     };\r\n }\r\n"
                },
                {
                    "date": 1764401269415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,12 +3,12 @@\n     x-init=\"initChart()\" \r\n     class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n >\r\n     <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n+    <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n \r\n-        <div class=\"flex items-center gap-3\">\r\n+        <div class=\"flex items-center gap-3 flex-wrap\">\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n             </span>\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n@@ -29,10 +29,10 @@\n         No data available for this year.\r\n     </div>\r\n \r\n     <!-- Chart -->\r\n-    <div x-show=\"!noData\" class=\"h-64 p-3 transition-opacity duration-500\">\r\n-        <canvas id=\"requestChart\"></canvas>\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3 relative\">\r\n+        <canvas id=\"requestChart\" class=\"transition-opacity duration-500\"></canvas>\r\n     </div>\r\n </div>\r\n \r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n@@ -48,8 +48,9 @@\n \r\n         initChart() {\r\n             this.generateYears();\r\n             this.loadChartData();\r\n+            window.addEventListener('resize', () => this.resizeChart());\r\n         },\r\n \r\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n@@ -62,12 +63,18 @@\n                 .then(data => {\r\n                     const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n                     this.noData = !hasData;\r\n \r\n-                    if (!this.chart) {\r\n-                        if (!this.noData) this.createChart(data);\r\n-                    } else {\r\n+                    if (!this.chart && !this.noData) {\r\n+                        this.createChart(data);\r\n+                        return;\r\n+                    }\r\n+\r\n+                    if (!this.noData) {\r\n                         this.refreshChart(data);\r\n+                    } else if (this.chart) {\r\n+                        this.chart.destroy();\r\n+                        this.chart = null;\r\n                     }\r\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n@@ -80,9 +87,16 @@\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n                     tension: 0.5,\r\n-                    animation: { duration: 800, easing: 'easeInOutCubic' },\r\n+                    animation: {\r\n+                        duration: 1200,\r\n+                        easing: 'easeInOutCubic'\r\n+                    },\r\n+                    animations: {\r\n+                        x: { type: 'number', easing: 'easeInOutCubic', from: NaN, delay(ctx) { return ctx.dataIndex * 100; } },\r\n+                        y: { type: 'number', easing: 'easeInOutCubic', delay(ctx) { return ctx.dataIndex * 100; } }\r\n+                    },\r\n                     interaction: { mode: 'index', intersect: false },\r\n                     plugins: { legend: { display: false } },\r\n                     scales: { y: { beginAtZero: true, grace: '10%' } },\r\n                     hover: { mode: 'nearest', intersect: true }\r\n@@ -90,18 +104,33 @@\n             });\r\n         },\r\n \r\n         refreshChart(data) {\r\n-            // Update existing chart data smoothly\r\n-            this.chart.data.labels = data.map(d => d.month);\r\n-            this.chart.data.datasets[0].data = data.map(d => d.completed);\r\n-            this.chart.data.datasets[1].data = data.map(d => d.rejected);\r\n-            this.chart.update({\r\n-                duration: 800,\r\n-                easing: 'easeInOutCubic'\r\n-            });\r\n+            const canvas = document.getElementById('requestChart');\r\n+            // fade out\r\n+            canvas.style.opacity = 0;\r\n+\r\n+            setTimeout(() => {\r\n+                // update chart data without destroying\r\n+                this.chart.data.labels = data.map(d => d.month);\r\n+                this.chart.data.datasets[0].data = data.map(d => d.completed);\r\n+                this.chart.data.datasets[1].data = data.map(d => d.rejected);\r\n+\r\n+                // animate chart update\r\n+                this.chart.update({\r\n+                    duration: 800,\r\n+                    easing: 'easeInOutCubic'\r\n+                });\r\n+\r\n+                // fade in\r\n+                canvas.style.opacity = 1;\r\n+            }, 150); // tiny delay for fade effect\r\n         },\r\n \r\n+        resizeChart() {\r\n+            if (this.chart) this.chart.resize();\r\n+        },\r\n+\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n@@ -111,9 +140,9 @@\n             };\r\n         },\r\n \r\n         updateChart() { \r\n-            this.loadChartData();\r\n+            this.loadChartData(); \r\n         }\r\n     };\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1764401284805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,12 +3,12 @@\n     x-init=\"initChart()\" \r\n     class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n >\r\n     <!-- Header -->\r\n-    <div class=\"flex justify-between items-center mb-2 p-5 flex-wrap gap-3\">\r\n+    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n         <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n \r\n-        <div class=\"flex items-center gap-3 flex-wrap\">\r\n+        <div class=\"flex items-center gap-3\">\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n                 <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>Completed\r\n             </span>\r\n             <span class=\"flex items-center gap-1 text-sm\">\r\n@@ -24,15 +24,15 @@\n         </div>\r\n     </div>\r\n \r\n     <!-- If empty -->\r\n-    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm transition-opacity duration-500\">\r\n+    <div x-show=\"noData\" class=\"h-64 flex items-center justify-center text-gray-500 text-sm\">\r\n         No data available for this year.\r\n     </div>\r\n \r\n     <!-- Chart -->\r\n-    <div x-show=\"!noData\" class=\"h-64 p-3 relative\">\r\n-        <canvas id=\"requestChart\" class=\"transition-opacity duration-500\"></canvas>\r\n+    <div x-show=\"!noData\" class=\"h-64 p-3\">\r\n+        <canvas id=\"requestChart\"></canvas>\r\n     </div>\r\n </div>\r\n \r\n <script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n@@ -48,14 +48,15 @@\n \r\n         initChart() {\r\n             this.generateYears();\r\n             this.loadChartData();\r\n-            window.addEventListener('resize', () => this.resizeChart());\r\n         },\r\n \r\n         generateYears() {\r\n             const current = new Date().getFullYear();\r\n-            for (let y = current; y >= 2020; y--) this.years.push(y);\r\n+            for (let y = current; y >= 2020; y--) {\r\n+                this.years.push(y);\r\n+            }\r\n         },\r\n \r\n         loadChartData() {\r\n             fetch(`/reports/request/chart?year=${this.view}`)\r\n@@ -63,25 +64,33 @@\n                 .then(data => {\r\n                     const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n                     this.noData = !hasData;\r\n \r\n-                    if (!this.chart && !this.noData) {\r\n+                    // Always refresh chart container\r\n+                    const canvas = document.getElementById('requestChart');\r\n+                    canvas.style.opacity = 0;\r\n+\r\n+                    setTimeout(() => {\r\n+                        if (this.chart) {\r\n+                            this.chart.destroy();\r\n+                            this.chart = null;\r\n+                        }\r\n+\r\n+                        if (this.noData) return;\r\n+\r\n                         this.createChart(data);\r\n-                        return;\r\n-                    }\r\n \r\n-                    if (!this.noData) {\r\n-                        this.refreshChart(data);\r\n-                    } else if (this.chart) {\r\n-                        this.chart.destroy();\r\n-                        this.chart = null;\r\n-                    }\r\n+                        // Smooth fade-in\r\n+                        canvas.style.transition = 'opacity 0.5s ease';\r\n+                        canvas.style.opacity = 1;\r\n+                    }, 50); // tiny delay to allow opacity reset\r\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n         createChart(data) {\r\n             const ctx = document.getElementById('requestChart').getContext('2d');\r\n+\r\n             this.chart = new Chart(ctx, {\r\n                 type: 'line',\r\n                 data: this.formatData(data),\r\n                 options: {\r\n@@ -92,10 +101,19 @@\n                         duration: 1200,\r\n                         easing: 'easeInOutCubic'\r\n                     },\r\n                     animations: {\r\n-                        x: { type: 'number', easing: 'easeInOutCubic', from: NaN, delay(ctx) { return ctx.dataIndex * 100; } },\r\n-                        y: { type: 'number', easing: 'easeInOutCubic', delay(ctx) { return ctx.dataIndex * 100; } }\r\n+                        x: {\r\n+                            type: 'number',\r\n+                            easing: 'easeInOutCubic',\r\n+                            from: NaN,\r\n+                            delay(ctx) { return ctx.dataIndex * 100; }\r\n+                        },\r\n+                        y: {\r\n+                            type: 'number',\r\n+                            easing: 'easeInOutCubic',\r\n+                            delay(ctx) { return ctx.dataIndex * 100; }\r\n+                        }\r\n                     },\r\n                     interaction: { mode: 'index', intersect: false },\r\n                     plugins: { legend: { display: false } },\r\n                     scales: { y: { beginAtZero: true, grace: '10%' } },\r\n@@ -103,46 +121,36 @@\n                 }\r\n             });\r\n         },\r\n \r\n-        refreshChart(data) {\r\n-            const canvas = document.getElementById('requestChart');\r\n-            // fade out\r\n-            canvas.style.opacity = 0;\r\n-\r\n-            setTimeout(() => {\r\n-                // update chart data without destroying\r\n-                this.chart.data.labels = data.map(d => d.month);\r\n-                this.chart.data.datasets[0].data = data.map(d => d.completed);\r\n-                this.chart.data.datasets[1].data = data.map(d => d.rejected);\r\n-\r\n-                // animate chart update\r\n-                this.chart.update({\r\n-                    duration: 800,\r\n-                    easing: 'easeInOutCubic'\r\n-                });\r\n-\r\n-                // fade in\r\n-                canvas.style.opacity = 1;\r\n-            }, 150); // tiny delay for fade effect\r\n-        },\r\n-\r\n-        resizeChart() {\r\n-            if (this.chart) this.chart.resize();\r\n-        },\r\n-\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n-                    { label: 'Completed', data: data.map(d => d.completed), borderColor: '#16a34a', backgroundColor: 'rgba(22,163,74,0.2)', borderWidth: 3, fill: true, tension: 0.5 },\r\n-                    { label: 'Rejected', data: data.map(d => d.rejected), borderColor: '#ef4444', backgroundColor: 'rgba(239,68,68,0.1)', borderWidth: 2, fill: false, tension: 0.5 }\r\n+                    {\r\n+                        label: 'Completed',\r\n+                        data: data.map(d => d.completed),\r\n+                        borderColor: '#16a34a',\r\n+                        backgroundColor: 'rgba(22,163,74,0.2)',\r\n+                        borderWidth: 3,\r\n+                        fill: true,\r\n+                        tension: 0.5,\r\n+                    },\r\n+                    {\r\n+                        label: 'Rejected',\r\n+                        data: data.map(d => d.rejected),\r\n+                        borderColor: '#ef4444',\r\n+                        backgroundColor: 'rgba(239,68,68,0.1)',\r\n+                        borderWidth: 2,\r\n+                        fill: false,\r\n+                        tension: 0.5,\r\n+                    }\r\n                 ]\r\n             };\r\n         },\r\n \r\n-        updateChart() { \r\n-            this.loadChartData(); \r\n+        updateChart() {\r\n+            this.loadChartData();\r\n         }\r\n     };\r\n }\r\n </script>\r\n"
                },
                {
                    "date": 1764401303401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,26 +64,21 @@\n                 .then(data => {\r\n                     const hasData = data.some(d => d.completed > 0 || d.rejected > 0);\r\n                     this.noData = !hasData;\r\n \r\n-                    // Always refresh chart container\r\n-                    const canvas = document.getElementById('requestChart');\r\n-                    canvas.style.opacity = 0;\r\n-\r\n-                    setTimeout(() => {\r\n+                    if (this.noData) {\r\n                         if (this.chart) {\r\n                             this.chart.destroy();\r\n                             this.chart = null;\r\n                         }\r\n+                        return;\r\n+                    }\r\n \r\n-                        if (this.noData) return;\r\n-\r\n+                    if (!this.chart) {\r\n                         this.createChart(data);\r\n-\r\n-                        // Smooth fade-in\r\n-                        canvas.style.transition = 'opacity 0.5s ease';\r\n-                        canvas.style.opacity = 1;\r\n-                    }, 50); // tiny delay to allow opacity reset\r\n+                    } else {\r\n+                        this.updateExistingChart(data);\r\n+                    }\r\n                 })\r\n                 .catch(err => console.error(\"Chart Load Error:\", err));\r\n         },\r\n \r\n@@ -95,34 +90,56 @@\n                 data: this.formatData(data),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n-                    tension: 0.5,\r\n+                    tension: 0.5, // smoother curves\r\n                     animation: {\r\n-                        duration: 1200,\r\n+                        duration: 1500,\r\n                         easing: 'easeInOutCubic'\r\n                     },\r\n                     animations: {\r\n                         x: {\r\n                             type: 'number',\r\n                             easing: 'easeInOutCubic',\r\n                             from: NaN,\r\n-                            delay(ctx) { return ctx.dataIndex * 100; }\r\n+                            delay(ctx) {\r\n+                                return ctx.dataIndex * 150; // stagger points\r\n+                            }\r\n                         },\r\n                         y: {\r\n                             type: 'number',\r\n                             easing: 'easeInOutCubic',\r\n-                            delay(ctx) { return ctx.dataIndex * 100; }\r\n+                            delay(ctx) {\r\n+                                return ctx.dataIndex * 150; // stagger points\r\n+                            }\r\n                         }\r\n                     },\r\n-                    interaction: { mode: 'index', intersect: false },\r\n-                    plugins: { legend: { display: false } },\r\n-                    scales: { y: { beginAtZero: true, grace: '10%' } },\r\n-                    hover: { mode: 'nearest', intersect: true }\r\n+                    interaction: {\r\n+                        mode: 'index',\r\n+                        intersect: false\r\n+                    },\r\n+                    plugins: {\r\n+                        legend: { display: false }\r\n+                    },\r\n+                    scales: {\r\n+                        y: {\r\n+                            beginAtZero: true,\r\n+                            grace: '10%'\r\n+                        }\r\n+                    },\r\n+                    hover: {\r\n+                        mode: 'nearest',\r\n+                        intersect: true\r\n+                    }\r\n                 }\r\n             });\r\n         },\r\n \r\n+        updateExistingChart(data) {\r\n+            this.chart.destroy();\r\n+            this.createChart(data);\r\n+        },\r\n+\r\n         formatData(data) {\r\n             return {\r\n                 labels: data.map(d => d.month),\r\n                 datasets: [\r\n"
                },
                {
                    "date": 1764401334741,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,9 +90,9 @@\n                 data: this.formatData(data),\r\n                 options: {\r\n                     responsive: true,\r\n                     maintainAspectRatio: false,\r\n-                    tension: 0.5, // smoother curves\r\n+                    tension: 1, // smoother curves\r\n                     animation: {\r\n                         duration: 1500,\r\n                         easing: 'easeInOutCubic'\r\n                     },\r\n"
                }
            ],
            "date": 1764358669650,
            "name": "Commit-0",
            "content": "<div \r\n    x-data=\"requestChart()\" \r\n    x-init=\"initChart()\" \r\n    class=\"col-span-12 lg:col-span-9 bg-white rounded-xl shadow p-2 pt-1\"\r\n>\r\n    <!-- Header -->\r\n    <div class=\"flex justify-between items-center mb-2 p-5\">\r\n        <h2 class=\"text-lg font-bold text-[#2C6E49]\">Request Over Time</h2>\r\n        <div class=\"flex items-center gap-3\">\r\n            <span class=\"flex items-center gap-1 text-sm\">\r\n                <span class=\"w-3 h-1.5 bg-green-600 inline-block rounded\"></span>\r\n                Approved\r\n            </span>\r\n            <span class=\"flex items-center gap-1 text-sm\">\r\n                <span class=\"w-3 h-1.5 bg-red-500 inline-block rounded\"></span>\r\n                Denied\r\n            </span>\r\n            <select \r\n                x-model=\"view\" \r\n                @change=\"updateChart()\" \r\n                class=\"ml-2 border rounded-md text-sm px-2 py-1\"\r\n            >\r\n                <option value=\"2020\">2020</option>\r\n                <option value=\"2021\">2021</option>\r\n                <option value=\"2022\">2022</option>\r\n                <option value=\"2023\">2023</option>\r\n                <option value=\"2024\">2024</option>\r\n                <option value=\"2025\">2025</option>\r\n            </select>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Chart -->\r\n    <div class=\"h-64 p-3\">\r\n        <canvas id=\"requestChart\"></canvas>\r\n    </div>\r\n</div>\r\n\r\n<!-- Alpine + Chart.js -->\r\n<script src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\" defer></script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n\r\n<script>\r\nfunction requestChart() {\r\n    return {\r\n        chart: null,\r\n        view: new Date().getFullYear(), // default current year\r\n        data: [],\r\n\r\n        async initChart() {\r\n            await this.fetchData();\r\n\r\n            const ctx = document.getElementById('requestChart').getContext('2d');\r\n            this.chart = new Chart(ctx, {\r\n                type: 'line',\r\n                data: this.formatData(this.data),\r\n                options: {\r\n                    responsive: true,\r\n                    maintainAspectRatio: false,\r\n                    tension: 0.4,\r\n                    plugins: {\r\n                        legend: { display: false },\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        async fetchData() {\r\n            const response = await fetch(\"{{ route('requests.chart') }}?year=\" + this.view);\r\n            const result = await response.json();\r\n            this.data = result.data;\r\n        },\r\n\r\n        formatData(data) {\r\n            return {\r\n                labels: data.map(d => d.month),\r\n                datasets: [\r\n                    {\r\n                        label: \"Approved\",\r\n                        data: data.map(d => d.approved),\r\n                        borderColor: \"#16a34a\",\r\n                        backgroundColor: \"rgba(22,163,74,0.2)\",\r\n                        borderWidth: 3,\r\n                        fill: true,\r\n                    },\r\n                    {\r\n                        label: \"Denied\",\r\n                        data: data.map(d => d.denied),\r\n                        borderColor: \"#ef4444\",\r\n                        backgroundColor: \"rgba(239,68,68,0.1)\",\r\n                        borderWidth: 2,\r\n                        fill: false,\r\n                    }\r\n                ]\r\n            };\r\n        },\r\n\r\n        async updateChart() {\r\n            await this.fetchData();\r\n\r\n            this.chart.data = this.formatData(this.data);\r\n            this.chart.update();\r\n        }\r\n    };\r\n}\r\n</script>\r\n\r\n"
        }
    ]
}