{
    "sourceFile": "resources/views/charts/recent-activity.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1764440529364,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1764440529364,
            "name": "Commit-0",
            "content": "<link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\r\n\r\n<div class=\"lg:col-span-3 bg-white p-7 rounded-xl shadow\">\r\n    <p class=\"font-semibold mb-2 primary-color dashheader flex items-center\">\r\n        <span class=\"material-icons mr-2 text-custom\">history</span>\r\n        Recent Activity\r\n    </p>\r\n\r\n    @if(isset($recentLogs) && $recentLogs->count() > 0)\r\n        <ul class=\"text-sm space-y-2\">\r\n            @foreach($recentLogs as $log)\r\n                @php\r\n                    $timestamp = $log->activity_timestamp ?? $log->created_at;\r\n                    $timeAgo = \\Carbon\\Carbon::parse($timestamp)->diffForHumans();\r\n\r\n                    // Determine text color based on activity type\r\n                    $activity = strtolower($log->activity ?? '');\r\n                    $activityColor = 'text-gray-700';\r\n\r\n                    if (str_contains($activity, 'attempt')) {\r\n                        $activityColor = 'text-red-600';\r\n                    } elseif (str_contains($activity, 'login') || str_contains($activity, 'logged in') || str_contains($activity, 'sign in')) {\r\n                        $activityColor = 'text-green-600';\r\n                    } elseif (str_contains($activity, 'logout') || str_contains($activity, 'logged out') || str_contains($activity, 'sign out')) {\r\n                        $activityColor = 'text-yellow-600';\r\n                    } elseif (str_contains($activity, 'create') || str_contains($activity, 'add') || str_contains($activity, 'register')) {\r\n                        $activityColor = 'text-blue-600';\r\n                    } elseif (str_contains($activity, 'update') || str_contains($activity, 'edit') || str_contains($activity, 'change')) {\r\n                        $activityColor = 'text-yellow-700';\r\n                    } elseif (str_contains($activity, 'delete') || str_contains($activity, 'remove') || str_contains($activity, 'destroy')) {\r\n                        $activityColor = 'text-red-600';\r\n                    }\r\n                @endphp\r\n\r\n                <li class=\"flex justify-between items-start border-b border-gray-100 pb-0\">\r\n                    <div class=\"flex-1\">\r\n                        <span class=\"font-semibold text-gray-800\">{{ $log->user_name ?? 'Unknown User' }}</span>\r\n                        <span class=\"ml-1 text-xs text-gray-500\">\r\n                            {{ $log->role ? '(' . ucwords(str_replace('_',' ',$log->role)) . ')' : '' }}\r\n                        </span>\r\n                        <br>\r\n                        <span class=\"ml-1 {{ $activityColor }} font-sm\">\r\n                            {{ $log->activity }}\r\n                        </span>\r\n                    </div>\r\n                    <span class=\"text-xs text-gray-500 whitespace-nowrap\">\r\n                        {{ $timeAgo }}\r\n                    </span>\r\n                </li>\r\n            @endforeach\r\n        </ul>\r\n    @else\r\n        <p class=\"text-gray-500 text-sm\">No recent activity.</p>\r\n    @endif\r\n\r\n    <div class=\"text-right mt-3\">\r\n        <a href=\"{{ route('logs.index') }}\" class=\"text-xs text-custom hover:underline\">\r\n            View All Activity â†’\r\n        </a>\r\n    </div>\r\n</div>\r\n"
        }
    ]
}